/*! For license information please see main.4aa9c38b.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),s=n(43),r=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var u=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var D=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},F=[],O=-1;function z(e){return{current:e}}function H(e){0>O||(e.current=F[O],F[O]=null,O--)}function B(e,t){O++,F[O]=e.current,e.current=t}var V=z(null),U=z(null),q=z(null),$=z(null);function G(e,t){switch(B(q,t),B(U,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=rh(t=sh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(V),B(V,e)}function W(){H(V),H(U),H(q)}function K(e){null!==e.memoizedState&&B($,e);var t=V.current,n=rh(t,e.type);t!==n&&(B(U,e),B(V,n))}function X(e){U.current===e&&(H(V),H(U)),$.current===e&&(H($),Kh._currentValue=I)}var Y=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,se=i.unstable_UserBlockingPriority,re=i.unstable_NormalPriority,ae=i.unstable_LowPriority,oe=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,de=null,he=null;function ue(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,be=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~r)?s=ye(i):0!==(a&=o)?s=ye(a):n||0!==(n=o&~e)&&(s=ye(n)):0!==(o=i&~r)?s=ye(o):0!==a?s=ye(a):n||0!==(n=i&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:s}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=be;return 0===(62914560&(be<<=1))&&(be=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:cu(e.type)}var Pe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Pe,De="__reactProps$"+Pe,Re="__reactContainer$"+Pe,Le="__reactEvents$"+Pe,Ie="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,Oe="__reactResources$"+Pe,ze="__reactMarker$"+Pe;function He(e){delete e[Me],delete e[De],delete e[Le],delete e[Ie],delete e[Fe]}function Be(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vh(e);null!==e;){if(n=e[Me])return n;e=vh(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Me]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ue(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[ze]=!0}var Ge=new Set,We={};function Ke(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(We[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ye,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Y.call(et,s)||!Y.call(Ze,s)&&(Je.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function st(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var rt=!1;function at(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var i=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(a){i=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(1!==i||1!==s)do{if(i--,0>--s||l[i]!==c[s]){var d="\n"+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=i&&0<=s);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=dt(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,s,r,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=i&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function bt(e,t,n,i,s,r,a,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:s)&&"symbol"!==typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(a(92));if(D(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function At(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&kt(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&kt(e,r,t[r])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Dt=null;function Rt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[De]||null;if(!s)throw Error(a(90));gt(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ut(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var Lt=!1;function It(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Mt||null!==Dt)&&(Bc(),Mt&&(t=Mt,e=Dt,Dt=Mt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[De]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ot)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Du){zt=!1}var Bt=null,Vt=null,Ut=null;function qt(){if(Ut)return Ut;var e,t,n=Vt,i=n.length,s="value"in Bt?Bt.value:Bt.textContent,r=s.length;for(e=0;e<i&&n[e]===s[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===s[r-t];t++);return Ut=s.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Wt(){return!1}function Kt(e){function t(t,n,i,s,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Wt,this.isPropagationStopped=Wt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Yt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Jt),en=u({},Jt,{view:0,detail:0}),tn=Kt(en),nn=u({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Xt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Xt=0,Qt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),sn=Kt(nn),rn=Kt(u({},nn,{dataTransfer:0})),an=Kt(u({},en,{relatedTarget:0})),on=Kt(u({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(u({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(u({},Jt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function mn(){return pn}var fn=Kt(u({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(u({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Kt(u({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Kt(u({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Kt(u({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(u({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],An=Ot&&"CompositionEvent"in window,Sn=null;Ot&&"documentMode"in document&&(Sn=document.documentMode);var kn=Ot&&"TextEvent"in window&&!Sn,Cn=Ot&&(!An||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),jn=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Dn(e,t,n,i){Mt?Dt?Dt.push(i):Dt=[i]:Mt=i,0<(t=qd(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Rn=null,Ln=null;function In(e){Id(e,0)}function Fn(e){if(ut(Ue(e)))return e}function On(e,t){if("change"===e)return t}var zn=!1;if(Ot){var Hn;if(Ot){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}Hn=Bn}else Hn=!1;zn=Hn&&(!document.documentMode||9<document.documentMode)}function Un(){Rn&&(Rn.detachEvent("onpropertychange",qn),Ln=Rn=null)}function qn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Dn(t,Ln,e,Pt(e)),It(In,t)}}function $n(e,t,n){"focusin"===e?(Un(),Ln=n,(Rn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Un()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Wn(e,t){if("click"===e)return Fn(t)}function Kn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Y.call(t,s)||!Xn(e[s],t[s]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,i=Qn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qn(i)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=Ot&&"documentMode"in document&&11>=document.documentMode,ii=null,si=null,ri=null,ai=!1;function oi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ai||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Yn(ri,i)||(ri=i,0<(i=qd(si,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},di={},hi={};function ui(e){if(di[e])return di[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in hi)return di[e]=n[t];return e}Ot&&(hi=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=ui("animationend"),mi=ui("animationiteration"),fi=ui("animationstart"),gi=ui("transitionrun"),bi=ui("transitionstart"),yi=ui("transitioncancel"),vi=ui("transitionend"),xi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(e,t){xi.set(e,t),Ke(t,[e])}wi.push("scrollEnd");var Si=new WeakMap;function ki(e,t){if("object"===typeof e&&null!==e){var n=Si.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Si.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ci=[],_i=0,ji=0;function Ei(){for(var e=_i,t=ji=_i=0;t<e;){var n=Ci[t];Ci[t++]=null;var i=Ci[t];Ci[t++]=null;var s=Ci[t];Ci[t++]=null;var r=Ci[t];if(Ci[t++]=null,null!==i&&null!==s){var a=i.pending;null===a?s.next=s:(s.next=a.next,a.next=s),i.pending=s}0!==r&&Mi(n,s,r)}}function Ni(e,t,n,i){Ci[_i++]=e,Ci[_i++]=t,Ci[_i++]=n,Ci[_i++]=i,ji|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ti(e,t,n,i){return Ni(e,t,n,i),Di(e)}function Pi(e,t){return Ni(e,null,null,t),Di(e)}function Mi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var s=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(i=(e=r.hiddenUpdates)[s])?e[s]=[t]:i.push(t),t.lane=536870912|n),r):null}function Di(e){if(50<Mc)throw Mc=0,Dc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ri={};function Li(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,t,n,i){return new Li(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oi(e,t){var n=e.alternate;return null===n?((n=Ii(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,n,i,s,r){var o=0;if(i=e,"function"===typeof e)Fi(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Ii(31,n,t,s)).elementType=j,e.lanes=r,e;case g:return Bi(n.children,s,r,t);case b:o=8,s|=24;break;case y:return(e=Ii(12,n,t,2|s)).elementType=y,e.lanes=r,e;case S:return(e=Ii(13,n,t,s)).elementType=S,e.lanes=r,e;case k:return(e=Ii(19,n,t,s)).elementType=k,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case v:case w:o=10;break e;case x:o=9;break e;case A:o=11;break e;case C:o=14;break e;case _:o=16,i=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),i=null}return(t=Ii(o,n,t,s)).elementType=e,t.type=i,t.lanes=r,t}function Bi(e,t,n,i){return(e=Ii(7,e,i,t)).lanes=n,e}function Vi(e,t,n){return(e=Ii(6,e,null,t)).lanes=n,e}function Ui(e,t,n){return(t=Ii(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qi=[],$i=0,Gi=null,Wi=0,Ki=[],Xi=0,Yi=null,Qi=1,Ji="";function Zi(e,t){qi[$i++]=Wi,qi[$i++]=Gi,Gi=e,Wi=t}function es(e,t,n){Ki[Xi++]=Qi,Ki[Xi++]=Ji,Ki[Xi++]=Yi,Yi=e;var i=Qi;e=Ji;var s=32-pe(i)-1;i&=~(1<<s),n+=1;var r=32-pe(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Qi=1<<32-pe(t)+s|n<<s|i,Ji=r+e}else Qi=1<<r|n<<s|i,Ji=e}function ts(e){null!==e.return&&(Zi(e,1),es(e,1,0))}function ns(e){for(;e===Gi;)Gi=qi[--$i],qi[$i]=null,Wi=qi[--$i],qi[$i]=null;for(;e===Yi;)Yi=Ki[--Xi],Ki[Xi]=null,Ji=Ki[--Xi],Ki[Xi]=null,Qi=Ki[--Xi],Ki[Xi]=null}var is=null,ss=null,rs=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw fs(ki(Error(a(418,"")),e)),ls}function ds(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Me]=e,t[De]=i,n){case"dialog":Fd("cancel",t),Fd("close",t);break;case"iframe":case"object":case"embed":Fd("load",t);break;case"video":case"audio":for(n=0;n<Rd.length;n++)Fd(Rd[n],t);break;case"source":Fd("error",t);break;case"img":case"image":case"link":Fd("error",t),Fd("load",t);break;case"details":Fd("toggle",t);break;case"input":Fd("invalid",t),bt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ht(t);break;case"select":Fd("invalid",t);break;case"textarea":Fd("invalid",t),wt(t,i.value,i.defaultValue,i.children),ht(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Yd(t.textContent,n)?(null!=i.popover&&(Fd("beforetoggle",t),Fd("toggle",t)),null!=i.onScroll&&Fd("scroll",t),null!=i.onScrollEnd&&Fd("scrollend",t),null!=i.onClick&&(t.onclick=Qd),t=!0):t=!1,t||cs(e)}function hs(e){for(is=e.return;is;)switch(is.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:is=is.return}}function us(e){if(e!==is)return!1;if(!rs)return hs(e),rs=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),hs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=bh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,ph(e.type)?(e=yh,yh=null,ss=e):ss=n):ss=is?bh(e.stateNode.nextSibling):null;return!0}function ps(){ss=is=null,rs=!1}function ms(){var e=as;return null!==e&&(null===vc?vc=e:vc.push.apply(vc,e),as=null),e}function fs(e){null===as?as=[e]:as.push(e)}var gs=z(null),bs=null,ys=null;function vs(e,t,n){B(gs,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=gs.current,H(gs)}function ws(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function As(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var o=s.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),ws(r.return,n,e),i||(o=null);break e}r=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(r=o.alternate)&&(r.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ss(e,t,n,i){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Xn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===$.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Kh):e=[Kh])}s=s.return}null!==e&&As(t,e,n,i),t.flags|=262144}function ks(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){bs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _s(e){return Es(bs,e)}function js(e,t){return null===bs&&Cs(e),Es(e,t)}function Es(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ns="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ts=i.unstable_scheduleCallback,Ps=i.unstable_NormalPriority,Ms={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ds(){return{controller:new Ns,data:new Map,refCount:0}}function Rs(e){e.refCount--,0===e.refCount&&Ts(Ps,(function(){e.controller.abort()}))}var Ls=null,Is=0,Fs=0,Os=null;function zs(){if(0===--Is&&null!==Ls){null!==Os&&(Os.status="fulfilled");var e=Ls;Ls=null,Fs=0,Os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Hs=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ls){var n=Ls=[];Is=0,Fs=Nd(),Os={status:"pending",value:void 0,then:function(e){n.push(e)}}}Is++,t.then(zs,zs)}(0,t),null!==Hs&&Hs(e,t)};var Bs=z(null);function Vs(){var e=Bs.current;return null!==e?e:ic.pooledCache}function Us(e,t){B(Bs,null===t?Bs.current:t.pool)}function qs(){var e=Vs();return null===e?null:{parent:Ms._currentValue,pool:e}}var $s=Error(a(460)),Gs=Error(a(474)),Ws=Error(a(542)),Ks={then:function(){}};function Xs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ys(){}function Qs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ys,Ys),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ys,Ys);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e}throw Js=t,$s}}var Js=null;function Zs(){if(null===Js)throw Error(a(459));var e=Js;return Js=null,e}function er(e){if(e===$s||e===Ws)throw Error(a(483))}var tr=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Di(e),Mi(e,null,n),t}return Ni(e,i,t,n),Di(e)}function ar(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,je(e,n)}}function or(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lr=!1;function cr(){if(lr){if(null!==Os)throw Os}}function dr(e,t,n,i){lr=!1;var s=e.updateQueue;tr=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var h=s.baseState;for(a=0,d=c=l=null,o=r;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(rc&p)===p:(i&p)===p){0!==p&&p===Fs&&(lr=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var b=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(b,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(b,h,p):f)||void 0===p)break e;h=u({},h,p);break e;case 2:tr=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=h):d=d.next=m,a|=p;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=h}}function hr(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ur(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hr(n[e],t)}var pr=z(null),mr=z(0);function fr(e,t){B(mr,e=hc),B(pr,t),hc=e|t.baseLanes}function gr(){B(mr,hc),B(pr,pr.current)}function br(){hc=mr.current,H(pr),H(mr)}var yr=0,vr=null,xr=null,wr=null,Ar=!1,Sr=!1,kr=!1,Cr=0,_r=0,jr=null,Er=0;function Nr(){throw Error(a(321))}function Tr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Pr(e,t,n,i,s,r){return yr=r,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?$a:Ga,kr=!1,r=n(i,s),kr=!1,Sr&&(r=Dr(t,n,i,s)),Mr(e),r}function Mr(e){R.H=qa;var t=null!==xr&&null!==xr.next;if(yr=0,wr=xr=vr=null,Ar=!1,_r=0,jr=null,t)throw Error(a(300));null===e||jo||null!==(e=e.dependencies)&&ks(e)&&(jo=!0)}function Dr(e,t,n,i){vr=e;var s=0;do{if(Sr&&(jr=null),_r=0,Sr=!1,25<=s)throw Error(a(301));if(s+=1,wr=xr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}R.H=Wa,r=t(n,i)}while(Sr);return r}function Rr(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Hr(t):t,e=e.useState()[0],(null!==xr?xr.memoizedState:null)!==e&&(vr.flags|=1024),t}function Lr(){var e=0!==Cr;return Cr=0,e}function Ir(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fr(e){if(Ar){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ar=!1}yr=0,wr=xr=vr=null,Sr=!1,_r=Cr=0,jr=null}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wr?vr.memoizedState=wr=e:wr=wr.next=e,wr}function zr(){if(null===xr){var e=vr.alternate;e=null!==e?e.memoizedState:null}else e=xr.next;var t=null===wr?vr.memoizedState:wr.next;if(null!==t)wr=t,xr=e;else{if(null===e){if(null===vr.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xr=e).memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},null===wr?vr.memoizedState=wr=e:wr=wr.next=e}return wr}function Hr(e){var t=_r;return _r+=1,null===jr&&(jr=[]),e=Qs(jr,e,t),t=vr,null===(null===wr?t.memoizedState:wr.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?$a:Ga),e}function Br(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Hr(e);if(e.$$typeof===w)return _s(e)}throw Error(a(438,String(e)))}function Vr(e){var t=null,n=vr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=vr.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},vr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=E;return t.index++,n}function Ur(e,t){return"function"===typeof t?t(e):t}function qr(e){return $r(zr(),xr,e)}function $r(e,t,n){var i=e.queue;if(null===i)throw Error(a(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var l=o=null,c=null,d=t=s.next,h=!1;do{var u=-536870913&d.lane;if(u!==d.lane?(rc&u)===u:(yr&u)===u){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),u===Fs&&(h=!0);else{if((yr&p)===p){d=d.next,p===Fs&&(h=!0);continue}u={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=u,o=r):c=c.next=u,vr.lanes|=p,pc|=p}u=d.action,kr&&n(r,u),r=d.hasEagerState?d.eagerState:n(r,u)}else p={lane:u,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=r):c=c.next=p,vr.lanes|=u,pc|=u;d=d.next}while(null!==d&&d!==t);if(null===c?o=r:c.next=l,!Xn(r,e.memoizedState)&&(jo=!0,h&&null!==(n=Os)))throw n;e.memoizedState=r,e.baseState=o,e.baseQueue=c,i.lastRenderedState=r}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gr(e){var t=zr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);Xn(r,t.memoizedState)||(jo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Wr(e,t,n){var i=vr,s=zr(),r=rs;if(r){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Xn((xr||s).memoizedState,n);if(o&&(s.memoizedState=n,jo=!0),s=s.queue,ga(2048,8,Yr.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||null!==wr&&1&wr.memoizedState.tag){if(i.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xr.bind(null,i,s,n,t),null),null===ic)throw Error(a(349));r||0!==(124&yr)||Kr(i,t,n)}return n}function Kr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},vr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xr(e,t,n,i){t.value=n,t.getSnapshot=i,Qr(t)&&Jr(e)}function Yr(e,t,n){return n((function(){Qr(t)&&Jr(e)}))}function Qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(i){return!0}}function Jr(e){var t=Pi(e,2);null!==t&&Ic(t,e,2)}function Zr(e){var t=Or();if("function"===typeof e){var n=e;if(e=n(),kr){ue(!0);try{n()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t}function ea(e,t,n,i){return e.baseState=n,$r(e,xr,"function"===typeof i?i:Ur)}function ta(e,t,n,i,s){if(Ba(e))throw Error(a(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==R.T?n(!0):r.isTransition=!1,i(r),null===(n=t.pending)?(r.next=t.pending=r,na(t,r)):(r.next=n.next,t.pending=n.next=r)}}function na(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=R.T,a={};R.T=a;try{var o=n(s,i),l=R.S;null!==l&&l(a,o),ia(e,t,o)}catch(c){ra(e,t,c)}finally{R.T=r}}else try{ia(e,t,r=n(s,i))}catch(d){ra(e,t,d)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){sa(e,t,n)}),(function(n){return ra(e,t,n)})):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ra(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==i)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(rs){var n=ic.formState;if(null!==n){e:{var i=vr;if(rs){if(ss){t:{for(var s=ss,r=os;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=bh(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){ss=bh(s.nextSibling),i="F!"===s.data;break e}}cs(i)}i=!1}i&&(t=n[0])}}return(n=Or()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=i,n=Oa.bind(null,vr,i),i.dispatch=n,i=Zr(!1),r=Ha.bind(null,vr,!1,i.queue),s={state:t,dispatch:null,action:e,pending:null},(i=Or()).queue=s,n=ta.bind(null,vr,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function ca(e){return da(zr(),xr,e)}function da(e,t,n){if(t=$r(e,t,oa)[0],e=qr(Ur)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Hr(t)}catch(a){if(a===$s)throw Ws;throw a}else i=t;var s=(t=zr()).queue,r=s.dispatch;return n!==t.memoizedState&&(vr.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ha.bind(null,s,n),null)),[i,r,e]}function ha(e,t){e.action=t}function ua(e){var t=zr(),n=xr;if(null!==n)return da(t,n,e);zr(),t=t.memoizedState;var i=(n=zr()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function pa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=vr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},vr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ma(){return zr().memoizedState}function fa(e,t,n,i){var s=Or();i=void 0===i?null:i,vr.flags|=e,s.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,i)}function ga(e,t,n,i){var s=zr();i=void 0===i?null:i;var r=s.memoizedState.inst;null!==xr&&null!==i&&Tr(i,xr.memoizedState.deps)?s.memoizedState=pa(t,r,n,i):(vr.flags|=e,s.memoizedState=pa(1|t,r,n,i))}function ba(e,t){fa(8390656,8,e,t)}function ya(e,t){ga(2048,8,e,t)}function va(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Aa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function Sa(){}function ka(e,t){var n=zr();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Tr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=zr();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Tr(t,i[1]))return i[0];if(i=e(),kr){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[i,t],i}function _a(e,t,n){return void 0===n||0!==(1073741824&yr)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),vr.lanes|=e,pc|=e,n)}function ja(e,t,n,i){return Xn(n,t)?n:null!==pr.current?(e=_a(e,n,i),Xn(e,t)||(jo=!0),e):0===(42&yr)?(jo=!0,e.memoizedState=n):(e=Lc(),vr.lanes|=e,pc|=e,t)}function Ea(e,t,n,i,s){var r=L.p;L.p=0!==r&&8>r?r:8;var a=R.T,o={};R.T=o,Ha(e,!1,t,n);try{var l=s(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)za(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),i}(l,i),Rc());else za(e,t,i,Rc())}catch(d){za(e,t,{then:function(){},status:"rejected",reason:d},Rc())}finally{L.p=r,R.T=a}}function Na(){}function Ta(e,t,n,i){if(5!==e.tag)throw Error(a(476));var s=Pa(e).queue;Ea(e,s,t,I,null===n?Na:function(){return Ma(e),n(i)})}function Pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){za(e,Pa(e).next.queue,{},Rc())}function Da(){return _s(Kh)}function Ra(){return zr().memoizedState}function La(){return zr().memoizedState}function Ia(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),i=rr(t,e=sr(n),n);return null!==i&&(Ic(i,t,n),ar(i,t,n)),t={cache:Ds()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var i=Rc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ba(e)?Va(t,n):null!==(n=Ti(e,t,n,i))&&(Ic(n,e,i),Ua(n,t,i))}function Oa(e,t,n){za(e,t,n,Rc())}function za(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ba(e))Va(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,Xn(o,a))return Ni(e,t,s,0),null===ic&&Ei(),!1}catch(l){}if(null!==(n=Ti(e,t,s,i)))return Ic(n,e,i),Ua(n,t,i),!0}return!1}function Ha(e,t,n,i){if(i={lane:2,revertLane:Nd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ba(e)){if(t)throw Error(a(479))}else null!==(t=Ti(e,n,i,2))&&Ic(t,e,2)}function Ba(e){var t=e.alternate;return e===vr||null!==t&&t===vr}function Va(e,t){Sr=Ar=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ua(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,je(e,n)}}var qa={readContext:_s,use:Br,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr},$a={readContext:_s,use:Br,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:ba,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fa(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Or();t=void 0===t?null:t;var i=e();if(kr){ue(!0);try{e()}finally{ue(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Or();if(void 0!==n){var s=n(t);if(kr){ue(!0);try{n(t)}finally{ue(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=Fa.bind(null,vr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Or().memoizedState=e},useState:function(e){var t=(e=Zr(e)).queue,n=Oa.bind(null,vr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return _a(Or(),e,t)},useTransition:function(){var e=Zr(!1);return e=Ea.bind(null,vr,e.queue,!0,!1),Or().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=vr,s=Or();if(rs){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&rc)||Kr(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,ba(Yr.bind(null,i,r,e),[e]),i.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xr.bind(null,i,r,n,t),null),n},useId:function(){var e=Or(),t=ic.identifierPrefix;if(rs){var n=Ji;t="\xab"+t+"R"+(n=(Qi&~(1<<32-pe(Qi)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Er++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Da,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Or();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ha.bind(null,vr,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vr,useCacheRefresh:function(){return Or().memoizedState=Ia.bind(null,vr)}},Ga={readContext:_s,use:Br,useCallback:ka,useContext:_s,useEffect:ya,useImperativeHandle:Aa,useInsertionEffect:va,useLayoutEffect:xa,useMemo:Ca,useReducer:qr,useRef:ma,useState:function(){return qr(Ur)},useDebugValue:Sa,useDeferredValue:function(e,t){return ja(zr(),xr.memoizedState,e,t)},useTransition:function(){var e=qr(Ur)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Hr(e),t]},useSyncExternalStore:Wr,useId:Ra,useHostTransitionStatus:Da,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(zr(),0,e,t)},useMemoCache:Vr,useCacheRefresh:La},Wa={readContext:_s,use:Br,useCallback:ka,useContext:_s,useEffect:ya,useImperativeHandle:Aa,useInsertionEffect:va,useLayoutEffect:xa,useMemo:Ca,useReducer:Gr,useRef:ma,useState:function(){return Gr(Ur)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=zr();return null===xr?_a(n,e,t):ja(n,xr.memoizedState,e,t)},useTransition:function(){var e=Gr(Ur)[0],t=zr().memoizedState;return["boolean"===typeof e?e:Hr(e),t]},useSyncExternalStore:Wr,useId:Ra,useHostTransitionStatus:Da,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){var n=zr();return null!==xr?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:La},Ka=null,Xa=0;function Ya(e){var t=Xa;return Xa+=1,null===Ka&&(Ka=[]),Qs(Ka,e,t)}function Qa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Oi(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Vi(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===g?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===_&&Za(r)===t.type)?(Qa(t=s(t,n.props),n),t.return=e,t):(Qa(t=Hi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ui(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,i,r){return null===t||7!==t.tag?((t=Bi(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Qa(n=Hi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Ui(t,e.mode,n)).return=e,t;case _:return u(e,t=(0,t._init)(t._payload),n)}if(D(t)||T(t))return(t=Bi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return u(e,Ya(t),n);if(t.$$typeof===w)return u(e,js(e,t),n);Ja(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?c(e,t,n,i):null;case f:return n.key===s?d(e,t,n,i):null;case _:return p(e,t,n=(s=n._init)(n._payload),i)}if(D(n)||T(n))return null!==s?null:h(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Ya(n),i);if(n.$$typeof===w)return p(e,t,js(e,n),i);Ja(e,n)}return null}function b(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case f:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case _:return b(e,t,n,i=(0,i._init)(i._payload),s)}if(D(i)||T(i))return h(t,e=e.get(n)||null,i,s,null);if("function"===typeof i.then)return b(e,t,n,Ya(i),s);if(i.$$typeof===w)return b(e,t,n,js(t,i),s);Ja(t,i)}return null}function y(l,c,d,h){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===g){if(7===c.tag){n(l,c.sibling),(h=s(c,d.props.children)).return=l,l=h;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===_&&Za(v)===c.type){n(l,c.sibling),Qa(h=s(c,d.props),d),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((h=Bi(d.props.children,l.mode,h,d.key)).return=l,l=h):(Qa(h=Hi(d.type,d.key,d.props,null,l.mode,h),d),h.return=l,l=h)}return o(l);case f:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(h=s(c,d.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Ui(d,l.mode,h)).return=l,l=h}return o(l);case _:return y(l,c,d=(v=d._init)(d._payload),h)}if(D(d))return function(s,a,o,l){for(var c=null,d=null,h=a,m=a=0,f=null;null!==h&&m<o.length;m++){h.index>m?(f=h,h=null):f=h.sibling;var g=p(s,h,o[m],l);if(null===g){null===h&&(h=f);break}e&&h&&null===g.alternate&&t(s,h),a=r(g,a,m),null===d?c=g:d.sibling=g,d=g,h=f}if(m===o.length)return n(s,h),rs&&Zi(s,m),c;if(null===h){for(;m<o.length;m++)null!==(h=u(s,o[m],l))&&(a=r(h,a,m),null===d?c=h:d.sibling=h,d=h);return rs&&Zi(s,m),c}for(h=i(h);m<o.length;m++)null!==(f=b(h,s,m,o[m],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?m:f.key),a=r(f,a,m),null===d?c=f:d.sibling=f,d=f);return e&&h.forEach((function(e){return t(s,e)})),rs&&Zi(s,m),c}(l,c,d,h);if(T(d)){if("function"!==typeof(v=T(d)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var d=null,h=null,m=o,f=o=0,g=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var v=p(s,m,y.value,c);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(s,m),o=r(v,o,f),null===h?d=v:h.sibling=v,h=v,m=g}if(y.done)return n(s,m),rs&&Zi(s,f),d;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=u(s,y.value,c))&&(o=r(y,o,f),null===h?d=y:h.sibling=y,h=y);return rs&&Zi(s,f),d}for(m=i(m);!y.done;f++,y=l.next())null!==(y=b(m,s,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),o=r(y,o,f),null===h?d=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(s,e)})),rs&&Zi(s,f),d}(l,c,d=v.call(d),h)}if("function"===typeof d.then)return y(l,c,Ya(d),h);if(d.$$typeof===w)return y(l,c,js(l,d),h);Ja(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(h=s(c,d)).return=l,l=h):(n(l,c),(h=Vi(d,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,i){try{Xa=0;var s=y(e,t,n,i);return Ka=null,s}catch(a){if(a===$s||a===Ws)throw a;var r=Ii(29,a,null,e.mode);return r.lanes=i,r.return=e,r}}}var to=eo(!0),no=eo(!1),io=z(null),so=null;function ro(e){var t=e.alternate;B(co,1&co.current),B(io,e),null===so&&(null===t||null!==pr.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(B(co,co.current),B(io,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){B(co,co.current),B(io,io.current)}function lo(e){H(io),so===e&&(so=null),H(co)}var co=z(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function uo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rc(),s=sr(i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,i))&&(Ic(t,e,i),ar(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rc(),s=sr(i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=rr(e,s,i))&&(Ic(t,e,i),ar(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),i=sr(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=rr(e,i,n))&&(Ic(t,e,n),ar(t,e,n))}};function mo(e,t,n,i,s,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,i)||!Yn(s,r))}function fo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var s in n===t&&(n=u({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var bo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){bo(e)}function vo(e){console.error(e)}function xo(e){bo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ao(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function So(e,t,n){return(n=sr(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=sr(e)).tag=3,e}function Co(e,t,n,i){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){Ao(t,n,i)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ao(t,n,i),"function"!==typeof s&&(null===kc?kc=new Set([this]):kc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),jo=!1;function Eo(e,t,n,i){t.child=null===e?no(t,null,n,i):to(t,e.child,n,i)}function No(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return Cs(t),i=Pr(e,t,n,a,r,s),o=Lr(),null===e||jo?(rs&&o&&ts(t),t.flags|=1,Eo(e,t,i,s),t.child):(Ir(e,t,s),Xo(e,t,s))}function To(e,t,n,i,s){if(null===e){var r=n.type;return"function"!==typeof r||Fi(r)||void 0!==r.defaultProps||null!==n.compare?((e=Hi(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Po(e,t,r,i,s))}if(r=e.child,!Yo(e,s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,i)&&e.ref===t.ref)return Xo(e,t,s)}return t.flags|=1,(e=Oi(r,i)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,i,s){if(null!==e){var r=e.memoizedProps;if(Yn(r,i)&&e.ref===t.ref){if(jo=!1,t.pendingProps=i=r,!Yo(e,s))return t.lanes=e.lanes,Xo(e,t,s);0!==(131072&e.flags)&&(jo=!0)}}return Lo(e,t,n,i,s)}function Mo(e,t,n){var i=t.pendingProps,s=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==r?r.baseLanes|n:n,null!==e){for(s=t.child=e.child,r=0;null!==s;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Do(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Us(0,null!==r?r.cachePool:null),null!==r?fr(t,r):gr(),ao(t)}else null!==r?(Us(0,r.cachePool),fr(t,r),oo(),t.memoizedState=null):(null!==e&&Us(0,null),gr(),oo());return Eo(e,t,s,n),t.child}function Do(e,t,n,i){var s=Vs();return s=null===s?null:{parent:Ms._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Us(0,null),gr(),ao(t),null!==e&&Ss(e,t,i,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Lo(e,t,n,i,s){return Cs(t),n=Pr(e,t,n,i,void 0,s),i=Lr(),null===e||jo?(rs&&i&&ts(t),t.flags|=1,Eo(e,t,n,s),t.child):(Ir(e,t,s),Xo(e,t,s))}function Io(e,t,n,i,s,r){return Cs(t),t.updateQueue=null,n=Dr(t,i,n,s),Mr(e),i=Lr(),null===e||jo?(rs&&i&&ts(t),t.flags|=1,Eo(e,t,n,r),t.child):(Ir(e,t,r),Xo(e,t,r))}function Fo(e,t,n,i,s){if(Cs(t),null===t.stateNode){var r=Ri,a=n.contextType;"object"===typeof a&&null!==a&&(r=_s(a)),r=new n(i,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=po,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=i,r.state=t.memoizedState,r.refs={},nr(t),a=n.contextType,r.context="object"===typeof a&&null!==a?_s(a):Ri,r.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(uo(t,n,a,i),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(a=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),a!==r.state&&po.enqueueReplaceState(r,r.state,null),dr(t,i,r,s),cr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){r=t.stateNode;var o=t.memoizedProps,l=go(n,o);r.props=l;var c=r.context,d=n.contextType;a=Ri,"object"===typeof d&&null!==d&&(a=_s(d));var h=n.getDerivedStateFromProps;d="function"===typeof h||"function"===typeof r.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||c!==a)&&fo(t,r,i,a),tr=!1;var u=t.memoizedState;r.state=u,dr(t,i,r,s),cr(),c=t.memoizedState,o||u!==c||tr?("function"===typeof h&&(uo(t,n,h,i),c=t.memoizedState),(l=tr||mo(t,n,l,i,u,c,a))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,ir(e,t),d=go(n,a=t.memoizedProps),r.props=d,h=t.pendingProps,u=r.context,c=n.contextType,l=Ri,"object"===typeof c&&null!==c&&(l=_s(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==h||u!==l)&&fo(t,r,i,l),tr=!1,u=t.memoizedState,r.state=u,dr(t,i,r,s),cr();var p=t.memoizedState;a!==h||u!==p||tr||null!==e&&null!==e.dependencies&&ks(e.dependencies)?("function"===typeof o&&(uo(t,n,o,i),p=t.memoizedState),(d=tr||mo(t,n,d,i,u,p,l)||null!==e&&null!==e.dependencies&&ks(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),r.props=i,r.state=p,r.context=l,i=d):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ro(e,t),i=0!==(128&t.flags),r||i?(r=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&i?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):Eo(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Xo(e,t,s),e}function Oo(e,t,n,i){return ps(),t.flags|=256,Eo(e,t,n,i),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:qs()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var i,s=t.pendingProps,r=!1,o=0!==(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),i&&(r=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(rs){if(r?ro(t):oo(),rs){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yi?{id:Qi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Ii(18,null,null,0)).stateNode=c,l.return=t,t.child=l,is=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,r?(oo(),c=qo({mode:"hidden",children:c},r=t.mode),s=Bi(s,r,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(r=t.child).memoizedState=Ho(n),r.childLanes=Bo(e,i,n),t.memoizedState=zo,s):(ro(t),Uo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ro(t),t.flags&=-257,t=$o(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),r=s.fallback,c=t.mode,s=qo({mode:"visible",children:s.children},c),(r=Bi(r,c,n,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Ho(n),s.childLanes=Bo(e,i,n),t.memoizedState=zo,t=r);else if(ro(t),gh(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var d=i.dgst;i=d,(s=Error(a(419))).stack="",s.digest=i,fs({value:s,source:null,stack:null}),t=$o(e,t,n)}else if(jo||Ss(e,t,n,!1),i=0!==(n&e.childLanes),jo||i){if(null!==(i=ic)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Ee(s))&(i.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Pi(e,s),Ic(i,e,s),_o;"$?"===c.data||Wc(),t=$o(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=bh(c.nextSibling),is=t,rs=!0,as=null,os=!1,null!==e&&(Ki[Xi++]=Qi,Ki[Xi++]=Ji,Ki[Xi++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),(t=Uo(t,s.children)).flags|=4096);return t}return r?(oo(),r=s.fallback,c=t.mode,d=(l=e.child).sibling,(s=Oi(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?r=Oi(d,r):(r=Bi(r,c,n,null)).flags|=2,r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,null===(c=e.child.memoizedState)?c=Ho(n):(null!==(l=c.cachePool)?(d=Ms._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=qs(),c={baseLanes:c.baseLanes|n,cachePool:l}),r.memoizedState=c,r.childLanes=Bo(e,i,n),t.memoizedState=zo,s):(ro(t),e=(n=e.child).sibling,(n=Oi(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Uo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Ii(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $o(e,t,n){return to(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ws(e.return,t,n)}function Wo(e,t,n,i,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Ko(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(Eo(e,t,i.children,n),0!==(2&(i=co.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(B(co,i),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wo(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ho(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wo(t,!0,n,null,r);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ss(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ks(e))}function Qo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)jo=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return jo=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),vs(0,Ms,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:vs(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(ro(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(ro(t),null!==(e=Xo(e,t,n))?e.sibling:null);ro(t);break;case 19:var s=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Ss(e,t,n,!1),i=0!==(n&t.childLanes)),s){if(i)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(co,co.current),i)break;return null;case 22:case 23:return t.lanes=0,Mo(e,t,n);case 24:vs(0,Ms,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);jo=0!==(131072&e.flags)}else jo=!1,rs&&0!==(1048576&t.flags)&&es(t,Wi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((s=i.$$typeof)===A){t.tag=11,t=No(null,t,i,e,n);break e}if(s===C){t.tag=14,t=To(null,t,i,e,n);break e}}throw t=M(i)||i,Error(a(306,t,""))}Fi(i)?(e=go(i,e),t.tag=1,t=Fo(null,t,i,e,n)):(t.tag=0,t=Lo(null,t,i,e,n))}return t;case 0:return Lo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,i=t.type,s=go(i,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,ir(e,t),dr(t,i,null,n);var o=t.memoizedState;if(i=o.cache,vs(0,Ms,i),i!==r.cache&&As(t,[Ms],n,!0),cr(),i=o.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Oo(e,t,i,n);break e}if(i!==s){fs(s=ki(Error(a(424)),t)),t=Oo(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=bh(e.firstChild),is=t,rs=!0,as=null,os=!0,n=no(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===s){t=Xo(e,t,n);break e}Eo(e,t,i,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Eh(t.type,null,t.pendingProps,null))?t.memoizedState=n:rs||(n=t.type,e=t.pendingProps,(i=ih(q.current).createElement(n))[Me]=t,i[De]=e,eh(i,n,e),$e(i),t.stateNode=i):t.memoizedState=Eh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&rs&&(i=t.stateNode=xh(t.type,t.pendingProps,q.current),is=t,os=!0,s=ss,ph(t.type)?(yh=s,ss=bh(i.firstChild)):ss=s),Eo(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&rs&&((s=i=ss)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=bh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,os))?(t.stateNode=i,is=t,ss=bh(i.firstChild),os=!1,s=!0):s=!1),s||cs(t)),K(t),s=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,i=r.children,ah(s,r)?i=null:null!==o&&ah(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Pr(e,t,Rr,null,null,n),Kh._currentValue=s),Ro(e,t),Eo(e,t,i,n),t.child;case 6:return null===e&&rs&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bh(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,is=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Vo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=to(t,null,i,n):Eo(e,t,i,n),t.child;case 11:return No(e,t,t.type,t.pendingProps,n);case 7:return Eo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,vs(0,t.type,i.value),Eo(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Cs(t),i=i(s=_s(s)),t.flags|=1,Eo(e,t,i,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=qo(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Oi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Mo(e,t,n);case 24:return Cs(t),i=_s(Ms),null===e?(null===(s=Vs())&&(s=ic,r=Ds(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},nr(t),vs(0,Ms,s)):(0!==(e.lanes&n)&&(ir(e,t),dr(t,null,null,n),cr()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),vs(0,Ms,i)):(i=r.cache,vs(0,Ms,i),i!==s.cache&&As(t,[Ms],n,!0))),Eo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=io.current)&&((4194048&rc)===rc?null!==so:(62914560&rc)!==rc&&0===(536870912&rc)||t!==so))throw Js=Ks,Gs;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,bc|=t)}function tl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=65011712&s.subtreeFlags,i|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),xs(Ms),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ms())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=q.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Jo(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=V.current,us(t)?ds(t):(e=xh(s,i,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Jo(t);else{if(!i){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=V.current,us(t))ds(t);else{switch(s=ih(q.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}e[Me]=t,e[De]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(eh(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Jo(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(e=q.current,us(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=is))switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Yd(e.nodeValue,n)))||cs(t)}else(e=ih(e).createTextNode(i))[Me]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=us(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Me]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ms(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return W(),null===e&&Hd(t.stateNode.containerInfo),nl(t),null;case 10:return xs(t.type),nl(t),null;case 19:if(H(co),null===(s=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(r=s.rendering))if(i)tl(s,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=ho(e))){for(t.flags|=128,tl(s,!1),e=r.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zi(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>Ac&&(t.flags|=128,i=!0,tl(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ho(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!rs)return nl(t),null}else 2*te()-s.renderingStartTime>Ac&&536870912!==n&&(t.flags|=128,i=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=s.last)?e.sibling=r:t.child=r,s.last=r)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),br(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&H(Bs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Ms),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Ms),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return H(co),null;case 4:return W(),null;case 10:return xs(t.type),null;case 22:case 23:return lo(t),br(),null!==e&&H(Bs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Ms),null;default:return null}}function rl(e,t){switch(ns(t),t.tag){case 3:xs(Ms),W();break;case 26:case 27:case 5:X(t);break;case 4:W();break;case 13:lo(t);break;case 19:H(co);break;case 10:xs(t.type);break;case 22:case 23:lo(t),br(),null!==e&&H(Bs);break;case 24:xs(Ms)}}function al(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var i=t.updateQueue,s=null!==i?i.lastEffect:null;if(null!==s){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(d){dd(s,l,d)}}}i=i.next}while(i!==r)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ur(t,n)}catch(i){dd(e,e.return,i)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dd(e,t,i)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){dd(e,t,s)}}function hl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(s){dd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){dd(e,t,r)}else n.current=null}function ul(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){dd(e,e.return,s)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,l=null,c=null,d=null,h=null;for(m in n){var u=n[m];if(n.hasOwnProperty(m)&&null!=u)switch(m){case"checked":case"value":break;case"defaultValue":c=u;default:i.hasOwnProperty(m)||Jd(e,t,m,null,i,u)}}for(var p in i){var m=i[p];if(u=n[p],i.hasOwnProperty(p)&&(null!=m||null!=u))switch(p){case"type":r=m;break;case"name":s=m;break;case"checked":d=m;break;case"defaultChecked":h=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==u&&Jd(e,t,p,m,i,u)}}return void gt(e,o,l,c,d,h,r,s);case"select":for(r in m=o=l=p=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(r)||Jd(e,t,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&Jd(e,t,s,r,i,c)}return t=l,n=o,i=m,void(null!=p?vt(e,!!n,p,!1):!!i!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jd(e,t,l,null,i,s)}for(o in i)if(s=i[o],r=n[o],i.hasOwnProperty(o)&&(null!=s||null!=r))switch(o){case"value":p=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==r&&Jd(e,t,o,s,i,r)}return void xt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Jd(e,t,f,null,i,p);for(c in i)if(p=i[c],m=n[c],i.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Jd(e,t,c,p,i,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&Jd(e,t,g,null,i,p);for(d in i)if(p=i[d],m=n[d],i.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Jd(e,t,d,p,i,m)}return;default:if(_t(t)){for(var b in n)p=n[b],n.hasOwnProperty(b)&&void 0!==p&&!i.hasOwnProperty(b)&&Zd(e,t,b,void 0,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||void 0===p&&void 0===m||Zd(e,t,h,p,i,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&Jd(e,t,y,null,i,p);for(u in i)p=i[u],m=n[u],!i.hasOwnProperty(u)||p===m||null==p&&null==m||Jd(e,t,u,p,i,m)}(i,e.type,n,t),i[De]=t}catch(s){dd(e,e.return,s)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qd));else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function bl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);eh(t,i,n),t[Me]=e,t[De]=n}catch(r){dd(e,e.return,r)}}var vl=!1,xl=!1,wl=!1,Al="function"===typeof WeakSet?WeakSet:Set,Sl=null;function kl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&i&&al(5,n);break;case 1:if(Fl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&i&&ll(n),512&i&&dl(n,n.return);break;case 3:if(Fl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ur(e,t)}catch(a){dd(n,n.return,a)}}break;case 27:null===t&&4&i&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&i&&ul(n),512&i&&dl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&i&&Tl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=md.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||vl)){t=null!==t&&null!==t.memoizedState||xl,s=vl;var r=xl;vl=i,(xl=t)&&!r?zl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),vl=s,xl=r}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,jl=!1;function El(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(de,n)}catch(r){}switch(n.tag){case 26:xl||hl(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||hl(n,t);var i=_l,s=jl;ph(n.type)&&(_l=n.stateNode,jl=!1),El(e,t,n),wh(n.stateNode),_l=i,jl=s;break;case 5:xl||hl(n,t);case 6:if(i=_l,s=jl,_l=null,El(e,t,n),jl=s,null!==(_l=i))if(jl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(a){dd(n,t,a)}else try{_l.removeChild(n.stateNode)}catch(a){dd(n,t,a)}break;case 18:null!==_l&&(jl?(mh(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),ju(e)):mh(_l,n.stateNode));break;case 4:i=_l,s=jl,_l=n.stateNode.containerInfo,jl=!0,El(e,t,n),_l=i,jl=s;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),El(e,t,n);break;case 1:xl||(hl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,t,i)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:xl=(i=xl)||null!==n.memoizedState,El(e,t,n),xl=i;break;default:El(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{ju(e)}catch(n){dd(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var i=fd.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function Ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){_l=l.stateNode,jl=!1;break e}break;case 5:_l=l.stateNode,jl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===_l)throw Error(a(160));Nl(r,o,s),_l=null,jl=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Dl=null;function Rl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),Ll(e),4&i&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Ml(t,e),Ll(e),512&i&&(xl||null===n||hl(n,n.return)),64&i&&vl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=Dl;if(Ml(t,e),Ll(e),512&i&&(xl||null===n||hl(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(r=s.getElementsByTagName("title")[0])||r[ze]||r[Me]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),eh(r,i,n),r[Me]=e,$e(r),i=r;break e;case"link":var o=zh("link","href",s).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((r=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eh(r=s.createElement(i),i,n),s.head.appendChild(r);break;case"meta":if(o=zh("meta","content",s).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((r=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eh(r=s.createElement(i),i,n),s.head.appendChild(r);break;default:throw Error(a(468,i))}r[Me]=e,$e(r),i=r}e.stateNode=i}else Hh(s,e.type,e.stateNode);else e.stateNode=Rh(s,i,e.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?Hh(s,e.type,e.stateNode):Rh(s,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ml(t,e),Ll(e),512&i&&(xl||null===n||hl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ml(t,e),Ll(e),512&i&&(xl||null===n||hl(n,n.return)),32&e.flags){s=e.stateNode;try{At(s,"")}catch(m){dd(e,e.return,m)}}4&i&&null!=e.stateNode&&pl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(wl=!0);break;case 6:if(Ml(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(a(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){dd(e,e.return,m)}}break;case 3:if(Oh=null,s=Dl,Dl=kh(t.containerInfo),Ml(t,e),Dl=s,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{ju(t.containerInfo)}catch(m){dd(e,e.return,m)}wl&&(wl=!1,Il(e));break;case 4:i=Dl,Dl=kh(e.stateNode.containerInfo),Ml(t,e),Ll(e),Dl=i;break;case 12:default:Ml(t,e),Ll(e);break;case 13:Ml(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=vl,h=xl;if(vl=d||s,xl=h||c,Ml(t,e),xl=h,vl=d,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||vl||xl||Ol(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,s)"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var u=c.memoizedProps.style,p=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){dd(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){dd(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Pl(e,n))));break;case 19:Ml(t,e),Ll(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(ml(i)){n=i;break}i=i.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;bl(e,fl(e),s);break;case 5:var r=n.stateNode;32&n.flags&&(At(r,""),n.flags&=-33),bl(e,fl(e),r);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(a(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ol(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ol(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),Ol(t);break;case 22:null===t.memoizedState&&Ol(t);break;default:Ol(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:zl(s,r,n),al(4,r);break;case 1:if(zl(s,r,n),"function"===typeof(s=(i=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){dd(i,i.return,c)}if(null!==(s=(i=r).updateQueue)){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)hr(l[s],o)}catch(c){dd(i,i.return,c)}}n&&64&a&&ll(r),dl(r,r.return);break;case 27:yl(r);case 26:case 5:zl(s,r,n),n&&null===i&&4&a&&ul(r),dl(r,r.return);break;case 12:zl(s,r,n);break;case 13:zl(s,r,n),n&&4&a&&Tl(s,r);break;case 22:null===r.memoizedState&&zl(s,r,n),dl(r,r.return);break;case 30:break;default:zl(s,r,n)}t=t.sibling}}function Hl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Rs(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e))}function Vl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ul(e,t,n,i),t=t.sibling}function Ul(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,i),2048&s&&al(9,t);break;case 1:case 13:default:Vl(e,t,n,i);break;case 3:Vl(e,t,n,i),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rs(e)));break;case 12:if(2048&s){Vl(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Vl(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,null!==t.memoizedState?2&r._visibility?Vl(e,t,n,i):$l(e,t):2&r._visibility?Vl(e,t,n,i):(r._visibility|=2,ql(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&s&&Hl(a,t);break;case 24:Vl(e,t,n,i),2048&s&&Bl(t.alternate,t)}}function ql(e,t,n,i,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(r,a,o,l,s),al(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?ql(r,a,o,l,s):$l(r,a):(d._visibility|=2,ql(r,a,o,l,s)),s&&2048&c&&Hl(a.alternate,a);break;case 24:ql(r,a,o,l,s),s&&2048&c&&Bl(a.alternate,a);break;default:ql(r,a,o,l,s)}t=t.sibling}}function $l(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:$l(n,i),2048&s&&Hl(i.alternate,i);break;case 24:$l(n,i),2048&s&&Bl(i.alternate,i);break;default:$l(n,i)}t=t.sibling}}var Gl=8192;function Wl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Wl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Vh)throw Error(a(475));var i=Vh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Nh(n.href),r=e.querySelector(Th(s));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=qh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,void $e(r);r=e.ownerDocument||e,n=Ph(n),(s=Ah.get(s))&&Ih(n,s),$e(r=r.createElement("link"));var o=r;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eh(r,"link",n),t.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=qh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Wl(e);break;case 3:case 4:var t=Dl;Dl=kh(e.stateNode.containerInfo),Wl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Wl(e),Gl=t):Wl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,Zl(i,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,Zl(i,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Rs(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Sl=i;else e:for(n=e;null!==Sl;){var s=(i=Sl).sibling,r=i.return;if(Cl(i),i===n){Sl=null;break e}if(null!==s){s.return=r,Sl=s;break e}Sl=r}}}var ec={getCacheForType:function(e){var t=_s(Ms),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,sc=null,rc=0,ac=0,oc=null,lc=!1,cc=!1,dc=!1,hc=0,uc=0,pc=0,mc=0,fc=0,gc=0,bc=0,yc=null,vc=null,xc=!1,wc=0,Ac=1/0,Sc=null,kc=null,Cc=0,_c=null,jc=null,Ec=0,Nc=0,Tc=null,Pc=null,Mc=0,Dc=null;function Rc(){if(0!==(2&nc)&&0!==rc)return rc&-rc;if(null!==R.T){return 0!==Fs?Fs:Nd()}return Te()}function Lc(){0===gc&&(gc=0===(536870912&rc)||rs?Ae():536870912);var e=io.current;return null!==e&&(e.flags|=32),gc}function Ic(e,t,n){(e!==ic||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Uc(e,0),Hc(e,rc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===ic||(e===ic&&(0===(2&nc)&&(mc|=n),4===uc&&Hc(e,rc,gc,!1)),Ad(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),s=i?function(e,t){var n=nc;nc|=2;var i=$c(),s=Gc();ic!==e||rc!==t?(Sc=null,Ac=te()+500,Uc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var r=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,r,1);break;case 2:case 9:if(Xs(r)){ac=0,oc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||ic!==e||(ac=7),Ad(e)},r.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Xs(r)?(ac=0,oc=null,Jc(t)):(ac=0,oc=null,Zc(e,t,r,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Bh(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var d=l.return;null!==d?(sc=d,ed(d)):sc=null}break t}}ac=0,oc=null,Zc(e,t,r,5);break;case 6:ac=0,oc=null,Zc(e,t,r,6);break;case 8:Vc(),uc=6;break e;default:throw Error(a(462))}}Yc();break}catch(h){qc(e,h)}return ys=bs=null,R.H=i,R.A=s,nc=n,null!==sc?0:(ic=null,rc=0,Ei(),uc)}(e,t):Kc(e,t,!0),r=i;;){if(0===s){cc&&!i&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!r||zc(n)){if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=r,mc|=r,s=4;break e}r=vc,vc=s,null!==r&&(null===vc?vc=r:vc.push.apply(vc,r))}s=o}if(r=!1,2!==s)continue}}if(1===s){Uc(e,0),Hc(e,t,0,!0);break}e:{switch(i=e,r=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Hc(i,t,gc,!lc);break e;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Hc(i,t,gc,!lc),0!==ve(i,0,!0))break e;i.timeoutHandle=lh(Oc.bind(null,i,n,vc,Sc,xc,t,gc,mc,bc,lc,r,2,-0,0),s)}else Oc(i,n,vc,Sc,xc,t,gc,mc,bc,lc,r,0,-0,0)}break}s=Kc(e,t,!1),r=!1}Ad(e)}function Oc(e,t,n,i,s,r,o,l,c,d,h,u,p,m){if(e.timeoutHandle=-1,(8192&(u=t.subtreeFlags)||16785408===(16785408&u))&&(Vh={stylesheets:null,count:0,unsuspend:Uh},Kl(t),null!==(u=function(){if(null===Vh)throw Error(a(475));var e=Vh;return e.stylesheets&&0===e.count&&Gh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=u(nd.bind(null,e,t,r,n,i,s,o,l,c,h,1,p,m)),void Hc(e,r,o,!d);nd(e,t,r,n,i,s,o,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Xn(r(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,i){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-pe(s),a=1<<r;i[r]=-1,s&=~a}0!==n&&_e(e,n,t)}function Bc(){return 0!==(6&nc)||(Sd(0,!1),!1)}function Vc(){if(null!==sc){if(0===ac)var e=sc.return;else ys=bs=null,Fr(e=sc),Ka=null,Xa=0,e=sc;for(;null!==e;)rl(e.alternate,e),e=e.return;sc=null}}function Uc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),ic=e,sc=n=Oi(e.current,null),rc=t,ac=0,oc=null,lc=!1,cc=xe(e,t),dc=!1,bc=gc=fc=mc=pc=uc=0,vc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var s=31-pe(i),r=1<<s;t|=e[s],i&=~r}return hc=t,Ei(),n}function qc(e,t){vr=null,R.H=qa,t===$s||t===Ws?(t=Zs(),ac=3):t===Gs?(t=Zs(),ac=4):ac=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(uc=1,wo(e,ki(t,e.current)))}function $c(){var e=R.H;return R.H=qa,null===e?qa:e}function Gc(){var e=R.A;return R.A=ec,e}function Wc(){uc=4,lc||(4194048&rc)!==rc&&null!==io.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||Hc(ic,rc,gc,!1)}function Kc(e,t,n){var i=nc;nc|=2;var s=$c(),r=Gc();ic===e&&rc===t||(Sc=null,Uc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:Vc(),a=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Xc(),a=uc;break}catch(d){qc(e,d)}return t&&e.shellSuspendCounter++,ys=bs=null,nc=i,R.H=s,R.A=r,null===sc&&(ic=null,rc=0,Ei()),a}function Xc(){for(;null!==sc;)Qc(sc)}function Yc(){for(;null!==sc&&!Z();)Qc(sc)}function Qc(e){var t=Qo(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?ed(e):sc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Io(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Io(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:Fr(t);default:rl(n,t),t=Qo(n,t=sc=zi(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?ed(e):sc=t}function Zc(e,t,n,i){ys=bs=null,Fr(t),Ka=null,Xa=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Ss(t,n,s,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===so?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Ks?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),hd(e,i,s)),!1;case 22:return n.flags|=65536,i===Ks?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),hd(e,i,s)),!1}throw Error(a(435,n.tag))}return hd(e,i,s),Wc(),!1}if(rs)return null!==(t=io.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==ls&&fs(ki(e=Error(a(422),{cause:i}),n))):(i!==ls&&fs(ki(t=Error(a(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=ki(i,n),or(e,s=So(e.stateNode,i,s)),4!==uc&&(uc=2)),!1;var r=Error(a(520),{cause:i});if(r=ki(r,n),null===yc?yc=[r]:yc.push(r),4!==uc&&(uc=2),null===t)return!0;i=ki(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,or(n,e=So(n.stateNode,i,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,Co(s=ko(s),e,n,i),or(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,rc))return uc=1,wo(e,ki(n,e.current)),void(sc=null)}catch(r){if(null!==s)throw sc=s,r;return uc=1,wo(e,ki(n,e.current)),void(sc=null)}32768&t.flags?(rs||1===i?e=!0:cc||0!==(536870912&rc)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=io.current)&&13===i.tag&&(i.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===uc&&(uc=5)}function td(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);uc=6,sc=null}function nd(e,t,n,i,s,r,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==Cc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(r=t.lanes|t.childLanes,function(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-pe(n),h=1<<d;o[d]=0,l[d]=-1;var u=c[d];if(null!==u)for(c[d]=null,d=0;d<u.length;d++){var p=u[d];null!==p&&(p.lane&=-536870913)}n&=~h}0!==i&&_e(e,i,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(a&~t))}(e,n,r|=ji,o,l,c),e===ic&&(sc=ic=null,rc=0),jc=t,_c=e,Ec=n,Nc=r,Tc=s,Pc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(re,(function(){return ld(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=R.T,R.T=null,s=L.p,L.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nu,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,p=null;t:for(;;){for(var m;u!==n||0!==s&&3!==u.nodeType||(l=o+s),u!==r||0!==i&&3!==u.nodeType||(c=o+i),3===u.nodeType&&(o+=u.nodeValue.length),null!==(m=u.firstChild);)p=u,u=m;for(;;){if(u===e)break t;if(p===n&&++d===s&&(l=o),p===r&&++h===i&&(c=o),null!==(m=u.nextSibling))break;p=(u=p).parentNode}u=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nu=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(r=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var f=go(n.type,s,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(b){dd(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,L.p=s,R.T=i}}Cc=1,id(),sd(),rd()}}function id(){if(1===Cc){Cc=0;var e=_c,t=jc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var i=L.p;L.p=2;var s=nc;nc|=4;try{Rl(t,e);var r=nh,a=ei(e.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ti(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,u=h&&h.defaultView||window;if(u.getSelection){var p=u.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(a=g,g=f,f=a);var b=Jn(o,f),y=Jn(o,g);if(b&&y&&(1!==p.rangeCount||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var v=h.createRange();v.setStart(b.node,b.offset),p.removeAllRanges(),f>g?(p.addRange(v),p.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),p.addRange(v))}}}}for(h=[],p=o;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var x=h[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nu=!!th,nh=th=null}finally{nc=s,L.p=i,R.T=n}}e.current=t,Cc=2}}function sd(){if(2===Cc){Cc=0;var e=_c,t=jc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var i=L.p;L.p=2;var s=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=s,L.p=i,R.T=n}}Cc=3}}function rd(){if(4===Cc||3===Cc){Cc=0,ee();var e=_c,t=jc,n=Ec,i=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,jc=_c=null,ad(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(kc=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=R.T,s=L.p,L.p=2,R.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{R.T=t,L.p=s}}0!==(3&Ec)&&od(),Ad(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Dc?Mc++:(Mc=0,Dc=e):Mc=0,Sd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Rs(t)))}function od(e){return id(),sd(),rd(),ld()}function ld(){if(5!==Cc)return!1;var e=_c,t=Nc;Nc=0;var n=Ne(Ec),i=R.T,s=L.p;try{L.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var r=_c,o=Ec;if(Cc=0,jc=_c=null,Ec=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Ql(r.current),Ul(r,r.current,o,n),nc=l,Sd(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(de,r)}catch(c){}return!0}finally{L.p=s,R.T=i,ad(e,t)}}function cd(e,t,n){t=ki(n,t),null!==(e=rr(e,t=So(e.stateNode,t,2),2))&&(Ce(e,2),Ad(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))){e=ki(n,e),null!==(i=rr(t,n=ko(2),2))&&(Co(n,i,t,e),Ce(i,2),Ad(i));break}}t=t.return}}function hd(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(dc=!0,s.add(n),e=ud.bind(null,e,t,n),t.then(e,e))}function ud(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>te()-wc?0===(2&nc)&&Uc(e,0):fc|=n,bc===rc&&(bc=0)),Ad(e)}function pd(e,t){0===t&&(t=Se()),null!==(e=Pi(e,t))&&(Ce(e,t),Ad(e))}function md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function fd(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==i&&i.delete(t),pd(e,n)}var gd=null,bd=null,yd=!1,vd=!1,xd=!1,wd=0;function Ad(e){e!==bd&&null===e.next&&(null===bd?gd=bd=e:bd=bd.next=e),vd=!0,yd||(yd=!0,hh((function(){0!==(6&nc)?Q(ie,kd):Cd()})))}function Sd(e,t){if(!xd&&vd){xd=!0;do{for(var n=!1,i=gd;null!==i;){if(!t)if(0!==e){var s=i.pendingLanes;if(0===s)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-pe(42|e)+1)-1,r=201326741&(r&=s&~(a&~o))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Ed(i,r))}else r=rc,0===(3&(r=ve(i,i===ic?r:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||xe(i,r)||(n=!0,Ed(i,r));i=i.next}}while(n);xd=!1}}function kd(){Cd()}function Cd(){vd=yd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==oh&&(oh=e,!0);return oh=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,i=gd;null!==i;){var s=i.next,r=_d(i,t);0===r?(i.next=null,null===n?gd=s:n.next=s,null===s&&(bd=n)):(n=i,(0!==e||0!==(3&r))&&(vd=!0)),i=s}Sd(e,!1)}function _d(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var a=31-pe(r),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&i)||(s[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(n=rc,n=ve(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&J(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&J(i),Ne(n)){case 2:case 8:n=se;break;case 32:default:n=re;break;case 268435456:n=oe}return i=jd.bind(null,e),n=Q(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&J(i),e.callbackPriority=2,e.callbackNode=null,2}function jd(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var i=rc;return 0===(i=ve(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,i,t),_d(e,te()),null!=e.callbackNode&&e.callbackNode===n?jd.bind(null,e):null)}function Ed(e,t){if(od())return null;Fc(e,t,!0)}function Nd(){return 0===wd&&(wd=Ae()),wd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Pd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Md=0;Md<wi.length;Md++){var Dd=wi[Md];Ai(Dd.toLowerCase(),"on"+(Dd[0].toUpperCase()+Dd.slice(1)))}Ai(pi,"onAnimationEnd"),Ai(mi,"onAnimationIteration"),Ai(fi,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(gi,"onTransitionRun"),Ai(bi,"onTransitionStart"),Ai(yi,"onTransitionCancel"),Ai(vi,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function Id(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(d){bo(d)}s.currentTarget=null,r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(d){bo(d)}s.currentTarget=null,r=l}}}}function Fd(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var i=e+"__bubble";n.has(i)||(Bd(t,e,2,!1),n.add(i))}function Od(e,t,n){var i=0;t&&(i|=4),Bd(n,e,i,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[zd]){e[zd]=!0,Ge.forEach((function(t){"selectionchange"!==t&&(Ld.has(t)||Od(t,!1,e),Od(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Od("selectionchange",!1,t))}}function Bd(e,t,n,i){switch(cu(t)){case 2:var s=iu;break;case 8:s=su;break;default:s=ru}n=s.bind(null,t,n,e),s=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vd(e,t,n,i,s){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=i.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=Be(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){i=r=a;continue e}o=o.parentNode}}i=i.return}It((function(){var i=r,s=Pt(n),a=[];e:{var o=xi.get(e);if(void 0!==o){var c=Zt,d=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":d="focus",c=an;break;case"focusout":d="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case pi:case mi:case fi:c=on;break;case vi:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=vn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var h=0!==(4&t),u=!h&&("scroll"===e||"scrollend"===e),p=h?null!==o?o+"Capture":null:o;h=[];for(var m,f=i;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Ft(f,p))&&h.push(Ud(f,g,m)),u)break;f=f.return}0<h.length&&(o=new c(o,d,null,n,s),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Be(d)&&!d[Re])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(d=(d=n.relatedTarget||n.toElement)?Be(d):null)&&(u=l(d),h=d.tag,d!==u||5!==h&&27!==h&&6!==h)&&(d=null)):(c=null,d=i),c!==d)){if(h=sn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==c?o:Ue(c),m=null==d?o:Ue(d),(o=new h(g,f+"leave",c,n,s)).target=u,o.relatedTarget=m,g=null,Be(s)===i&&((h=new h(p,f+"enter",d,n,s)).target=m,h.relatedTarget=u,g=h),u=g,c&&d)e:{for(p=d,f=0,m=h=c;m;m=$d(m))f++;for(m=0,g=p;g;g=$d(g))m++;for(;0<f-m;)h=$d(h),f--;for(;0<m-f;)p=$d(p),m--;for(;f--;){if(h===p||null!==p&&h===p.alternate)break e;h=$d(h),p=$d(p)}h=null}else h=null;null!==c&&Gd(a,o,c,h,!1),null!==d&&null!==u&&Gd(a,u,d,h,!0)}if("select"===(c=(o=i?Ue(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=On;else if(Mn(o))if(zn)b=Kn;else{b=Gn;var y=$n}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&_t(i.elementType)&&(b=On):b=Wn;switch(b&&(b=b(e,i))?Dn(a,b,n,s):(y&&y(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&yt(o,"number",o.value)),y=i?Ue(i):window,e){case"focusin":(Mn(y)||"true"===y.contentEditable)&&(ii=y,si=i,ri=null);break;case"focusout":ri=si=ii=null;break;case"mousedown":ai=!0;break;case"contextmenu":case"mouseup":case"dragend":ai=!1,oi(a,n,s);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(a,n,s)}var v;if(An)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?En(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Tn&&(v=qt()):(Vt="value"in(Bt=s)?Bt.value:Bt.textContent,Tn=!0)),0<(y=qd(i,x)).length&&(x=new cn(x,e,null,n,s),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=Nn(n))&&(x.data=v))),(v=kn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(jn=!0,_n);case"textInput":return(e=t.data)===_n&&jn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!An&&En(e,t)?(e=qt(),Ut=Vt=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=qd(i,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:y,listeners:x}),y.data=v)),function(e,t,n,i,s){if("submit"===t&&n&&n.stateNode===s){var r=Td((s[De]||null).action),a=i.submitter;a&&null!==(t=(t=a[De]||null)?Td(t.formAction):a.getAttribute("formAction"))&&(r=t,a=null);var o=new Zt("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==wd){var e=a?Pd(s,a):new FormData(s);Ta(n,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(o.preventDefault(),e=a?Pd(s,a):new FormData(s),Ta(n,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(a,e,i,n,s)}Id(a,t)}))}function Ud(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qd(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,r=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=Ft(e,n))&&i.unshift(Ud(e,s,r)),null!=(s=Ft(e,t))&&i.push(Ud(e,s,r))),3===e.tag)return i;e=e.return}return[]}function $d(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gd(e,t,n,i,s){for(var r=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Ft(n,r))&&a.unshift(Ud(n,c,l)):s||null!=(c=Ft(n,r))&&a.push(Ud(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wd=/\r\n?/g,Kd=/\u0000|\uFFFD/g;function Xd(e){return("string"===typeof e?e:""+e).replace(Wd,"\n").replace(Kd,"")}function Yd(e,t){return t=Xd(t),Xd(e)===t}function Qd(){}function Jd(e,t,n,i,s,r){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||At(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&At(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Ct(e,i,r);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Nt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Jd(e,t,"name",s.name,s,null),Jd(e,t,"formEncType",s.formEncType,s,null),Jd(e,t,"formMethod",s.formMethod,s,null),Jd(e,t,"formTarget",s.formTarget,s,null)):(Jd(e,t,"encType",s.encType,s,null),Jd(e,t,"method",s.method,s,null),Jd(e,t,"target",s.target,s,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Nt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Qd);break;case"onScroll":null!=i&&Fd("scroll",e);break;case"onScrollEnd":null!=i&&Fd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Nt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fd("beforetoggle",e),Fd("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=jt.get(n)||n,i)}}function Zd(e,t,n,i,s,r){switch(n){case"style":Ct(e,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(a(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof i?At(e,i):("number"===typeof i||"bigint"===typeof i)&&At(e,""+i);break;case"onScroll":null!=i&&Fd("scroll",e);break;case"onScrollEnd":null!=i&&Fd("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=e[De]||null)?r[n]:null)&&e.removeEventListener(t,r,s),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fd("error",e),Fd("load",e);var i,s=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Jd(e,t,i,o,n,null)}}return r&&Jd(e,t,"srcSet",n.srcSet,n,null),void(s&&Jd(e,t,"src",n.src,n,null));case"input":Fd("invalid",e);var l=i=o=r=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var h=n[s];if(null!=h)switch(s){case"name":r=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Jd(e,t,s,h,n,null)}}return bt(e,i,l,c,d,o,r,!1),void ht(e);case"select":for(r in Fd("invalid",e),s=o=i=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Jd(e,t,r,l,n,null)}return t=i,n=o,e.multiple=!!s,void(null!=t?vt(e,!!s,t,!1):null!=n&&vt(e,!!s,n,!0));case"textarea":for(o in Fd("invalid",e),i=r=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Jd(e,t,o,l,n,null)}return wt(e,s,r,i),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Jd(e,t,c,s,n,null);return;case"dialog":Fd("beforetoggle",e),Fd("toggle",e),Fd("cancel",e),Fd("close",e);break;case"iframe":case"object":Fd("load",e);break;case"video":case"audio":for(s=0;s<Rd.length;s++)Fd(Rd[s],e);break;case"image":Fd("error",e),Fd("load",e);break;case"details":Fd("toggle",e);break;case"embed":case"source":case"link":Fd("error",e),Fd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Jd(e,t,d,s,n,null)}return;default:if(_t(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(s=n[h])&&Zd(e,t,h,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Jd(e,t,l,s,n,null))}var th=null,nh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,dh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dh?function(e){return dh.resolve(null).then(e).catch(uh)}:lh;function uh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function mh(e,t){var n=t,i=0,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(1&n&&wh(a.documentElement),2&n&&wh(a.body),4&n)for(wh(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(r),void ju(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);ju(t)}function fh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fh(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function vh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xh(e,t,n){switch(t=ih(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var Ah=new Map,Sh=new Set;function kh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ch=L.d;L.d={f:function(){var e=Ch.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):Ch.r(e)},D:function(e){Ch.D(e),jh("dns-prefetch",e,null)},C:function(e,t){Ch.C(e,t),jh("preconnect",e,t)},L:function(e,t,n){Ch.L(e,t,n);var i=_h;if(i&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var r=s;switch(t){case"style":r=Nh(e);break;case"script":r=Mh(e)}Ah.has(r)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ah.set(r,e),null!==i.querySelector(s)||"style"===t&&i.querySelector(Th(r))||"script"===t&&i.querySelector(Dh(r))||(eh(t=i.createElement("link"),"link",e),$e(t),i.head.appendChild(t)))}},m:function(e,t){Ch.m(e,t);var n=_h;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Mh(e)}if(!Ah.has(r)&&(e=u({rel:"modulepreload",href:e},t),Ah.set(r,e),null===n.querySelector(s))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dh(r)))return}eh(i=n.createElement("link"),"link",e),$e(i),n.head.appendChild(i)}}},X:function(e,t){Ch.X(e,t);var n=_h;if(n&&e){var i=qe(n).hoistableScripts,s=Mh(e),r=i.get(s);r||((r=n.querySelector(Dh(s)))||(e=u({src:e,async:!0},t),(t=Ah.get(s))&&Fh(e,t),$e(r=n.createElement("script")),eh(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}},S:function(e,t,n){Ch.S(e,t,n);var i=_h;if(i&&e){var s=qe(i).hoistableStyles,r=Nh(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Th(r)))o.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ah.get(r))&&Ih(e,n);var l=a=i.createElement("link");$e(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Lh(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}},M:function(e,t){Ch.M(e,t);var n=_h;if(n&&e){var i=qe(n).hoistableScripts,s=Mh(e),r=i.get(s);r||((r=n.querySelector(Dh(s)))||(e=u({src:e,async:!0,type:"module"},t),(t=Ah.get(s))&&Fh(e,t),$e(r=n.createElement("script")),eh(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}};var _h="undefined"===typeof document?null:document;function jh(e,t,n){var i=_h;if(i&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),Sh.has(s)||(Sh.add(s),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(s)&&(eh(t=i.createElement("link"),"link",e),$e(t),i.head.appendChild(t)))}}function Eh(e,t,n,i){var s,r,o,l,c=(c=q.current)?kh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(i=(n=qe(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var d=qe(c).hoistableStyles,h=d.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,h),(d=c.querySelector(Th(e)))&&!d._p&&(h.instance=d,h.state.loading=5),Ah.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ah.set(e,n),d||(s=c,r=e,o=n,l=h.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",(function(){return l.loading|=1})),r.addEventListener("error",(function(){return l.loading|=2})),eh(r,"link",o),$e(r),s.head.appendChild(r))))),t&&null===i)throw Error(a(528,""));return h}if(t&&null!==i)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Mh(n),(i=(n=qe(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nh(e){return'href="'+ft(e)+'"'}function Th(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Mh(e){return'[src="'+ft(e)+'"]'}function Dh(e){return"script[async]"+e}function Rh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,$e(i),i;var s=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(i=(e.ownerDocument||e).createElement("style")),eh(i,"style",s),Lh(i,n.precedence,e),t.instance=i;case"stylesheet":s=Nh(n.href);var r=e.querySelector(Th(s));if(r)return t.state.loading|=4,t.instance=r,$e(r),r;i=Ph(n),(s=Ah.get(s))&&Ih(i,s),$e(r=(e.ownerDocument||e).createElement("link"));var o=r;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eh(r,"link",i),t.state.loading|=4,Lh(r,n.precedence,e),t.instance=r;case"script":return r=Mh(n.src),(s=e.querySelector(Dh(r)))?(t.instance=s,$e(s),s):(i=n,(s=Ah.get(r))&&Fh(i=u({},n),s),$e(s=(e=e.ownerDocument||e).createElement("script")),eh(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Lh(i,n.precedence,e));return t.instance}function Lh(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Oh=null;function zh(e,t,n){if(null===Oh){var i=new Map,s=Oh=new Map;s.set(n,i)}else(i=(s=Oh).get(n))||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[ze]||r[Me]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function Hh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vh=null;function Uh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $h=null;function Gh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$h=new Map,t.forEach(Wh,e),$h=null,qh.call(e))}function Wh(e,t){if(!(4&t.state.loading)){var n=$h.get(e);if(n)var i=n.get(null);else{n=new Map,$h.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(s=t.instance).getAttribute("data-precedence"),(r=n.get(a)||i)===i&&n.set(null,s),n.set(a,s),this.count++,i=qh.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Kh={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Xh(e,t,n,i,s,r,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yh(e,t,n,i,s,r,a,o,l,c,d,h){return e=new Xh(e,t,n,a,o,l,c,h),t=1,!0===r&&(t|=24),r=Ii(3,null,null,t),e.current=r,r.stateNode=e,(t=Ds()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},nr(r),e}function Qh(e){return e?e=Ri:Ri}function Jh(e,t,n,i,s,r){s=Qh(s),null===i.context?i.context=s:i.pendingContext=s,(i=sr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=rr(e,i,t))&&(Ic(n,0,t),ar(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function tu(e){if(13===e.tag){var t=Pi(e,67108864);null!==t&&Ic(t,0,67108864),eu(e,67108864)}}var nu=!0;function iu(e,t,n,i){var s=R.T;R.T=null;var r=L.p;try{L.p=2,ru(e,t,n,i)}finally{L.p=r,R.T=s}}function su(e,t,n,i){var s=R.T;R.T=null;var r=L.p;try{L.p=8,ru(e,t,n,i)}finally{L.p=r,R.T=s}}function ru(e,t,n,i){if(nu){var s=au(i);if(null===s)Vd(e,t,i,ou,n),yu(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return hu=vu(hu,e,t,n,i,s),!0;case"dragenter":return uu=vu(uu,e,t,n,i,s),!0;case"mouseover":return pu=vu(pu,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return mu.set(r,vu(mu.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,fu.set(r,vu(fu.get(r)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(yu(e,i),4&t&&-1<bu.indexOf(e)){for(;null!==s;){var r=Ve(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var a=ye(r.pendingLanes);if(0!==a){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-pe(a);o.entanglements[1]|=l,a&=~l}Ad(r),0===(6&nc)&&(Ac=te()+500,Sd(0,!1))}}break;case 13:null!==(o=Pi(r,2))&&Ic(o,0,2),Bc(),eu(r,2)}if(null===(r=au(i))&&Vd(e,t,i,ou,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Vd(e,t,i,null,n)}}function au(e){return lu(e=Pt(e))}var ou=null;function lu(e){if(ou=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function cu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case se:return 8;case re:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var du=!1,hu=null,uu=null,pu=null,mu=new Map,fu=new Map,gu=[],bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yu(e,t){switch(e){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(t.pointerId)}}function vu(e,t,n,i,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=Ve(t))&&tu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xu(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc();e=Ee(e);var t=Pi(n,e);null!==t&&Ic(t,0,e),eu(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wu(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=au(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&tu(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Tt=i,n.target.dispatchEvent(i),Tt=null,t.shift()}return!0}function Au(e,t,n){wu(e)&&n.delete(t)}function Su(){du=!1,null!==hu&&wu(hu)&&(hu=null),null!==uu&&wu(uu)&&(uu=null),null!==pu&&wu(pu)&&(pu=null),mu.forEach(Au),fu.forEach(Au)}function ku(e,t){e.blockedOn===t&&(e.blockedOn=null,du||(du=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Su)))}var Cu=null;function _u(e){Cu!==e&&(Cu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Cu===e&&(Cu=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if("function"!==typeof i){if(null===lu(i||n))continue;break}var r=Ve(n);null!==r&&(e.splice(t,3),t-=3,Ta(r,{pending:!0,data:s,method:n.method,action:i},i,s))}})))}function ju(e){function t(t){return ku(t,e)}null!==hu&&ku(hu,e),null!==uu&&ku(uu,e),null!==pu&&ku(pu,e),mu.forEach(t),fu.forEach(t);for(var n=0;n<gu.length;n++){var i=gu[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gu.length&&null===(n=gu[0]).blockedOn;)xu(n),null===n.blockedOn&&gu.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[De]||null;if("function"===typeof r)a||_u(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[De]||null)o=a.formAction;else if(null!==lu(s))continue}else o=a.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),_u(n)}}}function Eu(e){this._internalRoot=e}function Nu(e){this._internalRoot=e}Nu.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jh(t.current,Rc(),e,t,null,null)},Nu.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),Bc(),t[Re]=null}},Nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gu.length&&0!==t&&t<gu[n].priority;n++);gu.splice(n,0,e),0===n&&xu(e)}};var Tu=s.version;if("19.1.0"!==Tu)throw Error(a(527,Tu,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return d(s),e;if(r===i)return d(s),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,i=r;break}if(c===i){o=!0,i=s,n=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===n){o=!0,n=r,i=s;break}if(c===i){o=!0,i=r,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pu={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{de=Mu.inject(Pu),he=Mu}catch(Ru){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,i="",s=yo,r=vo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,i,s,r,l,0,null),e[Re]=t.current,Hd(e),new Eu(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var i=!1,s="",r=yo,l=vo,c=xo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Yh(e,1,!0,t,0,i,s,r,l,c,0,d)).context=Qh(null),n=t.current,(s=sr(i=Ee(i=Rc()))).callback=null,rr(n,s,i),n=i,t.current.lanes=n,Ce(t,n),Ad(t),e[Re]=t.current,Hd(e),new Nu(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,f(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function k(e,t,i,s,r,a){return i=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function N(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case i:d=!0;break;case u:return N((d=e._init)(e._payload),t,s,r,a)}}if(d)return a=a(e),d=""===r?"."+j(e,0):r,w(a)?(s="",null!=d&&(s=d.replace(_,"$&/")+"/"),N(a,t,s,"",(function(e){return e}))):null!=a&&(C(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+d,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;d=0;var h,m=""===r?".":r+":";if(w(e))for(var f=0;f<e.length;f++)d+=N(r=e[f],t,s,o=m+j(r,f),a);else if("function"===typeof(f=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=N(r=r.value,t,s,o=m+j(r,f++),a);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var i=[],s=0;return N(e,i,"","",(function(e){return t.call(n,e,s++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=s,t.Profiler=a,t.PureComponent=v,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return A.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!S.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(i[r]=t[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return k(e.type,s,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var i,s={},r=null;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)S.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=t[i]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===s[i]&&(s[i]=a[i]);return k(e,r,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.T,n={};A.T=n;try{var i=e(),s=A.S;null!==s&&s(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(D,M)}catch(r){M(r)}finally{A.T=t}},t.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},t.use=function(e){return A.H.use(e)},t.useActionState=function(e,t,n){return A.H.useActionState(e,t,n)},t.useCallback=function(e,t){return A.H.useCallback(e,t)},t.useContext=function(e){return A.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return A.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=A.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return A.H.useId()},t.useImperativeHandle=function(e,t,n){return A.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.H.useMemo(e,t)},t.useOptimistic=function(e,t){return A.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return A.H.useReducer(e,t,n)},t.useRef=function(e){return A.H.useRef(e)},t.useState=function(e){return A.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},440:e=>{var t=function(){};e.exports=t},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var i=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):"script"===n&&a.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function i(e,t,i){var s=null;if(void 0!==i&&(s=""+i),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in i={},t)"key"!==r&&(i[r]=t[r]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:i}}Symbol.for("react.fragment"),t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<s&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,p=3,m=!1,f=!1,g=!1,b=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function A(e){if(g=!1,w(e),!f)if(null!==i(c))f=!0,k||(k=!0,S());else{var t=i(d);null!==t&&M(A,t.startTime-e)}}var S,k=!1,C=-1,_=5,j=-1;function E(){return!!b||!(t.unstable_now()-j<_)}function N(){if(b=!1,k){var e=t.unstable_now();j=e;var n=!0;try{e:{f=!1,g&&(g=!1,v(C),C=-1),m=!0;var r=p;try{t:{for(w(e),u=i(c);null!==u&&!(u.expirationTime>e&&E());){var a=u.callback;if("function"===typeof a){u.callback=null,p=u.priorityLevel;var o=a(u.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){u.callback=o,w(e),n=!0;break t}u===i(c)&&s(c),w(e)}else s(c);u=i(c)}if(null!==u)n=!0;else{var l=i(d);null!==l&&M(A,l.startTime-e),n=!1}}break e}finally{u=null,p=r,m=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof x)S=function(){x(N)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function M(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(g?(v(C),C=-1):g=!0,M(A,r-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{dU:()=>ws,ng:()=>As,EA:()=>Ss,Tm:()=>ks,D6:()=>Cs,YE:()=>_s,rE:()=>js});var s=n(43),r=n(391),a={d:(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},o=globalThis.pdfjsLib={};a.d(o,{AbortException:()=>ve,AnnotationEditorLayer:()=>vs,AnnotationEditorParamsType:()=>A,AnnotationEditorType:()=>w,AnnotationEditorUIManager:()=>pt,AnnotationLayer:()=>rs,AnnotationMode:()=>x,ColorPicker:()=>fs,DOMSVGFactory:()=>ji,DrawLayer:()=>xs,FeatureTest:()=>Se,GlobalWorkerOptions:()=>hn,ImageKind:()=>T,InvalidPDFException:()=>fe,MissingPDFException:()=>ge,OPS:()=>te,OutputScale:()=>st,PDFDataRangeTransport:()=>hi,PDFDateString:()=>Je,PDFWorker:()=>fi,PasswordResponses:()=>ne,PermissionFlag:()=>S,PixelsPerInch:()=>He,RenderingCancelledException:()=>Ue,TextLayer:()=>ti,UnexpectedResponseException:()=>be,Util:()=>Ce,VerbosityLevel:()=>ee,XfaLayer:()=>Ei,build:()=>Ai,createValidAbsoluteUrl:()=>de,fetchData:()=>Be,getDocument:()=>li,getFilenameFromUrl:()=>Ge,getPdfFilenameFromUrl:()=>We,getXfaPageViewport:()=>Ze,isDataScheme:()=>qe,isPdfFile:()=>$e,noContextMenu:()=>Ye,normalizeUnicode:()=>Ee,setLayerDimensions:()=>it,shadow:()=>he,version:()=>wi});const l="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),c=[1,0,0,1,0,0],d=[.001,0,0,.001,0,0],h=1.35,u=1,p=2,m=4,f=16,g=32,b=64,y=128,v=256,x={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},w={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},A={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},S={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k=0,C=1,_=2,j=3,E=3,N=4,T={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},P=1,M=2,D=3,R=4,L=5,I=6,F=7,O=8,z=9,H=10,B=11,V=12,U=13,q=14,$=15,G=16,W=17,K=20,X=1,Y=2,Q=3,J=4,Z=5,ee={ERRORS:0,WARNINGS:1,INFOS:5},te={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ne={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ie=ee.WARNINGS;function se(e){Number.isInteger(e)&&(ie=e)}function re(){return ie}function ae(e){ie>=ee.INFOS&&console.log(`Info: ${e}`)}function oe(e){ie>=ee.WARNINGS&&console.log(`Warning: ${e}`)}function le(e){throw new Error(e)}function ce(e,t){e||le(t)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function he(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const ue=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class pe extends ue{constructor(e,t){super(e,"PasswordException"),this.code=t}}class me extends ue{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class fe extends ue{constructor(e){super(e,"InvalidPDFException")}}class ge extends ue{constructor(e){super(e,"MissingPDFException")}}class be extends ue{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class ye extends ue{constructor(e){super(e,"FormatError")}}class ve extends ue{constructor(e){super(e,"AbortException")}}function xe(e){"object"===typeof e&&void 0!==e?.length||le("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let s=0;s<t;s+=n){const r=Math.min(s+n,t),a=e.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function we(e){"string"!==typeof e&&le("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function Ae(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t}class Se{static get isLittleEndian(){return he(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return he(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return he(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?he(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof navigator?.userAgent&&navigator.userAgent.includes("Firefox")}):he(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return he(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const ke=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class Ce{static makeHexColor(e,t,n){return`#${ke[e]}${ke[t]}${ke[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),r=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],r[0]),Math.min(n[1],i[1],s[1],r[1]),Math.max(n[0],i[0],s[0],r[0]),Math.max(n[1],i[1],s[1],r[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],a=(n+r)/2,o=Math.sqrt((n+r)**2-4*(n*r-s*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>r?null:[n,s,i,r]}static#e(e,t,n,i,s,r,a,o,l,c){if(l<=0||l>=1)return;const d=1-l,h=l*l,u=h*l,p=d*(d*(d*e+3*l*t)+3*h*n)+u*i,m=d*(d*(d*s+3*l*r)+3*h*a)+u*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}static#t(e,t,n,i,s,r,a,o,l,c,d,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,i,s,r,a,o,-d/c,h));const u=c**2-4*d*l;if(u<0)return;const p=Math.sqrt(u),m=2*l;this.#e(e,t,n,i,s,r,a,o,(-c+p)/m,h),this.#e(e,t,n,i,s,r,a,o,(-c-p)/m,h)}static bezierBoundingBox(e,t,n,i,s,r,a,o,l){return l?(l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,a),Math.min(t,o),Math.max(e,a),Math.max(t,o)],this.#t(e,n,s,a,t,i,r,o,3*(3*(n-s)-e+a),6*(e-2*n+s),3*(n-e),l),this.#t(e,n,s,a,t,i,r,o,3*(3*(i-r)-t+o),6*(t-2*i+r),3*(i-t),l),l}}let _e=null,je=null;function Ee(e){return _e||(_e=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,je=new Map([["\ufb05","\u017ft"]])),e.replaceAll(_e,((e,t,n)=>t?t.normalize("NFKC"):je.get(n)))}const Ne="pdfjs_internal_id_",Te=0,Pe=1,Me=2,De=3,Re=4,Le=5,Ie=6,Fe=7,Oe=8;const ze="http://www.w3.org/2000/svg";class He{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Xe(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class Ve{constructor(e){let{viewBox:t,scale:n,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,h,u,p,m,f,g;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,d=0,h=0,u=1;break;case 90:c=0,d=1,h=1,u=0;break;case 270:c=0,d=-1,h=-1,u=0;break;case 0:c=1,d=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,u=-u),0===c?(p=Math.abs(l-t[1])*n+s,m=Math.abs(o-t[0])*n+r,f=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+s,m=Math.abs(l-t[1])*n+r,f=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,d*n,h*n,u*n,p-c*n*o-h*n*l,m-d*n*o-u*n*l],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return he(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ve({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Ce.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ce.applyTransform([e[0],e[1]],this.transform),n=Ce.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ce.applyInverseTransform([e,t],this.transform)}}class Ue extends ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function qe(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function $e(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function Ge(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function We(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(qe(e))return oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class Ke{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms\n`);return e.join("")}}function Xe(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function Ye(e){e.preventDefault()}function Qe(e){console.log("Deprecated API usage: "+e)}class Je{static#n;static toDateObject(e){if(!e||"string"!==typeof e)return null;this.#n||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#n.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(n,i,s,r,a,o))}}function Ze(e,t){let{scale:n=1,rotation:i=0}=t;const{width:s,height:r}=e.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new Ve({viewBox:a,scale:n,rotation:i})}function et(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(oe(`Not a valid color format: "${e}"`),[0,0,0])}function tt(e){const{a:t,b:n,c:i,d:s,e:r,f:a}=e.getTransform();return[t,n,i,s,r,a]}function nt(e){const{a:t,b:n,c:i,d:s,e:r,f:a}=e.getTransform().invertSelf();return[t,n,i,s,r,a]}function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Ve){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:r}=e,a=Se.isCSSRoundSupported,o=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${s}px`,c=a?`round(down, ${o}, var(--scale-round-x, 1px))`:`calc(${o})`,d=a?`round(down, ${l}, var(--scale-round-y, 1px))`:`calc(${l})`;n&&t.rotation%180!==0?(r.width=d,r.height=c):(r.width=c,r.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class st{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}class rt{#i=null;#s=null;#r;#a=null;#o=null;static#l=null;constructor(e){this.#r=e,rt.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#i=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#r._uiManager._signal;e.addEventListener("contextmenu",Ye,{signal:t}),e.addEventListener("pointerdown",rt.#c,{signal:t});const n=this.#a=document.createElement("div");n.className="buttons",e.append(n);const i=this.#r.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#r._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#d(),e}get div(){return this.#i}static#c(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#u(e){this.#r._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#p(e){const t=this.#r._uiManager._signal;e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ye,{signal:t})}hide(){this.#i.classList.add("hidden"),this.#s?.hideDropdown()}show(){this.#i.classList.remove("hidden"),this.#o?.shown()}#d(){const{editorType:e,_uiManager:t}=this.#r,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",rt.#l[e]),this.#p(n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),this.#a.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#p(t),this.#a.prepend(t,this.#m),this.#o=e}addColorPicker(e){this.#s=e;const t=e.renderButton();this.#p(t),this.#a.prepend(t,this.#m)}remove(){this.#i.remove(),this.#s?.destroy(),this.#s=null}}class at{#a=null;#i=null;#f;constructor(e){this.#f=e}#g(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ye,{signal:this.#f._signal});const t=this.#a=document.createElement("div");return t.className="buttons",e.append(t),this.#b(),e}#y(e,t){let n=0,i=0;for(const s of e){const e=s.y+s.height;if(e<n)continue;const r=s.x+(t?s.width:0);e>n?(i=r,n=e):t?r>i&&(i=r):r<i&&(i=r)}return[t?1-i:i,n]}show(e,t,n){const[i,s]=this.#y(t,n),{style:r}=this.#i||=this.#g();e.append(this.#i),r.insetInlineEnd=100*i+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#b(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#f._signal;e.addEventListener("contextmenu",Ye,{signal:n}),e.addEventListener("click",(()=>{this.#f.highlightSelection("floating_button")}),{signal:n}),this.#a.append(e)}}function ot(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class lt{#v=0;get id(){return"pdfjs_internal_editor_"+this.#v++}}class ct{#x=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return xe(e)}())();#v=0;#w=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return he(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#A(e,t){this.#w||=new Map;let n=this.#w.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#x}_${this.#v++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await Be(t,"blob")):t instanceof File?e=n.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=ct._isSVGFittingCanvas,i=new FileReader,s=new Image,r=new Promise(((e,r)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;s.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},s.onerror=i.onerror=r}));i.readAsDataURL(e),await r}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(i){console.error(i),n=null}return this.#w.set(e,n),n&&this.#w.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return this.#A(`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return this.#A(e,e)}async getFromBlob(e,t){const n=await t;return this.#A(e,n)}async getFromId(e){this.#w||=new Map;const t=this.#w.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#w||=new Map;let n=this.#w.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#x}_${this.#v++}`,refCounter:1,isSvg:!1},this.#w.set(e,n),this.#w.set(n.id,n),n}getSvgUrl(e){const t=this.#w.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#w||=new Map;const t=this.#w.get(e);if(!t)return;if(t.refCounter-=1,0!==t.refCounter)return;const{bitmap:n}=t;if(!t.url&&!t.file){const e=new OffscreenCanvas(n.width,n.height);e.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=e.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#x}_`)}}class dt{#S=[];#k=!1;#C;#_=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#C=e}add(e){let{cmd:t,undo:n,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(s&&t(),this.#k)return;const l={cmd:t,undo:n,post:i,type:r};if(-1===this.#_)return this.#S.length>0&&(this.#S.length=0),this.#_=0,void this.#S.push(l);if(a&&this.#S[this.#_].type===r)return o&&(l.undo=this.#S[this.#_].undo),void(this.#S[this.#_]=l);const c=this.#_+1;c===this.#C?this.#S.splice(0,1):(this.#_=c,c<this.#S.length&&this.#S.splice(c)),this.#S.push(l)}undo(){if(-1===this.#_)return;this.#k=!0;const{undo:e,post:t}=this.#S[this.#_];e(),t?.(),this.#k=!1,this.#_-=1}redo(){if(this.#_<this.#S.length-1){this.#_+=1,this.#k=!0;const{cmd:e,post:t}=this.#S[this.#_];e(),t?.(),this.#k=!1}}hasSomethingToUndo(){return-1!==this.#_}hasSomethingToRedo(){return this.#_<this.#S.length-1}destroy(){this.#S=null}}class ht{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Se.platform;for(const[n,i,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1)))}}#j(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#j(t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:r=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...r,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class ut{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,et(i))}t.remove()}(e),he(this,"_colors",e)}convert(e){const t=et(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every(((e,n)=>e===t[n])))return ut._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ce.makeHexColor(...t):e}}class pt{#E=(()=>new AbortController)();#N=null;#T=(()=>new Map)();#P=(()=>new Map)();#M=null;#D=null;#R=null;#L=(()=>new dt)();#I=null;#F=0;#O=(()=>new Set)();#z=null;#H=null;#B=(()=>new Set)();#V=!1;#U=!1;#q=!1;#$=null;#G=null;#W=null;#K=null;#X=!1;#Y=null;#Q=(()=>new lt)();#J=!1;#Z=!1;#ee=null;#te=null;#ne=null;#ie=null;#se=(()=>w.NONE)();#re=(()=>new Set)();#ae=null;#oe=null;#le=null;#ce={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#de=[0,0];#he=null;#ue=null;#pe=null;#me=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=pt.prototype,t=e=>e.#ue.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return he(this,"_keyboardManager",new ht([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#ue.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#ue.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,i,s,r,a,o,l,c,d){const h=this._signal=this.#E.signal;this.#ue=e,this.#pe=t,this.#M=n,this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:h}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),i._on("setpreference",this.onSetPreference.bind(this),{signal:h}),i._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:h}),this.#fe(),this.#ge(),this.#be(),this.#D=s.annotationStorage,this.#$=s.filterFactory,this.#oe=r,this.#K=a||null,this.#V=o,this.#U=l,this.#q=c,this.#ie=d||null,this.viewParameters={realScale:He.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#me?.resolve(),this.#me=null,this.#E?.abort(),this.#E=null,this._signal=null;for(const e of this.#P.values())e.destroy();this.#P.clear(),this.#T.clear(),this.#B.clear(),this.#N=null,this.#re.clear(),this.#L.destroy(),this.#M?.destroy(),this.#Y?.hide(),this.#Y=null,this.#G&&(clearTimeout(this.#G),this.#G=null),this.#he&&(clearTimeout(this.#he),this.#he=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#ie}get useNewAltTextFlow(){return this.#U}get useNewAltTextWhenAddingImage(){return this.#q}get hcmFilter(){return he(this,"hcmFilter",this.#oe?this.#$.addHCMFilter(this.#oe.foreground,this.#oe.background):"none")}get direction(){return he(this,"direction",getComputedStyle(this.#ue).direction)}get highlightColors(){return he(this,"highlightColors",this.#K?new Map(this.#K.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return he(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#ne=e}editAltText(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.#M?.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)this.#q=n}onPageChanging(e){let{pageNumber:t}=e;this.#F=t-1}focusMainContainer(){this.#ue.focus()}findParent(e,t){for(const n of this.#P.values()){const{x:i,y:s,width:r,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+r&&t>=s&&t<=s+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#pe.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#B.add(e)}removeShouldRescale(e){this.#B.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*He.PDF_TO_CSS_UNITS;for(const n of this.#B)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#ye(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#ve(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#P.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}=t,a=t.toString(),o=this.#ye(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=this.#ve(o),d=this.#se===w.NONE,h=()=>{c?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r,text:a}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode(w.HIGHLIGHT,h):h()}#xe(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#ye(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#Y||=new at(this),this.#Y.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#D||this.#D.has(e.id)||this.#D.setValue(e.id,e)}#we(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#ae&&(this.#Y?.hide(),this.#ae=null,this.#Ae({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#ae)return;const n=this.#ye(e).closest(".textLayer");if(n){if(this.#Y?.hide(),this.#ae=t,this.#Ae({hasSelectedText:!0}),(this.#se===w.HIGHLIGHT||this.#se===w.NONE)&&(this.#se===w.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#X=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this.#se===w.HIGHLIGHT?this.#ve(n):null;e?.toggleDrawing();const t=new AbortController,i=this.combinedSignal(t),s=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),e?.toggleDrawing(!0),"pointerup"===n.type&&this.#Se("main_toolbar"))};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})}}else this.#ae&&(this.#Y?.hide(),this.#ae=null,this.#Ae({hasSelectedText:!1}))}#Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#se===w.HIGHLIGHT?this.highlightSelection(e):this.#V&&this.#xe()}#fe(){document.addEventListener("selectionchange",this.#we.bind(this),{signal:this._signal})}#ke(){if(this.#W)return;this.#W=new AbortController;const e=this.combinedSignal(this.#W);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#Ce(){this.#W?.abort(),this.#W=null}blur(){if(this.isShiftKeyDown=!1,this.#X&&(this.#X=!1,this.#Se("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#re)if(t.div.contains(e)){this.#te=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#te)return;const[e,t]=this.#te;this.#te=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#be(){if(this.#ee)return;this.#ee=new AbortController;const e=this.combinedSignal(this.#ee);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#_e(){this.#ee?.abort(),this.#ee=null}#je(){if(this.#I)return;this.#I=new AbortController;const e=this.combinedSignal(this.#I);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#Ee(){this.#I?.abort(),this.#I=null}#ge(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#be(),this.#je()}removeEditListeners(){this.#_e(),this.#Ee()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#H)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#H)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#N?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#re){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of this.#H)if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void oe(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const r of n){const t=await i.deserialize(r);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Ne(t);this.#Te(e)},s=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:s,mustExec:!0})}catch(s){oe(`paste: "${s.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#se===w.NONE||this.isEditorHandlingKeyboard||pt._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#X&&(this.#X=!1,this.#Se("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Ae(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#ce[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#ce,e)}),this.#se===w.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#Pe([[A.HIGHLIGHT_FREE,!0]]))}#Pe(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ke(),this.#je(),this.#Ae({isEditing:this.#se!==w.NONE,isEmpty:this.#Me(),hasSomethingToUndo:this.#L.hasSomethingToUndo(),hasSomethingToRedo:this.#L.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ce(),this.#Ee(),this.#Ae({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#H){this.#H=e;for(const e of this.#H)this.#Pe(e.defaultPropertiesToUpdate)}}getId(){return this.#Q.id}get currentLayer(){return this.#P.get(this.#F)}getLayer(e){return this.#P.get(e)}get currentPageIndex(){return this.#F}addLayer(e){this.#P.set(e.pageIndex,e),this.#J?e.enable():e.disable()}removeLayer(e){this.#P.delete(e.pageIndex)}async updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#se!==e&&(!this.#me||(await this.#me.promise,this.#me))){if(this.#me=Promise.withResolvers(),this.#se=e,e===w.NONE)return this.setEditingState(!1),this.#De(),void this.#me.resolve();this.setEditingState(!0),await this.#Re(),this.unselectAll();for(const t of this.#P.values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void this.#me.resolve();for(const e of this.#T.values())e.annotationElementId===t?(this.setSelected(e),e.enterInEditMode()):e.unselect();this.#me.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#se&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#H){switch(e){case A.CREATE:return void this.currentLayer.addNewEditor();case A.HIGHLIGHT_DEFAULT_COLOR:this.#ne?.updateColor(t);break;case A.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#le||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#re)n.updateParams(e,t);for(const n of this.#H)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#T.values())n.editorType===e&&n.show(t);(this.#le?.get(A.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#Pe([[A.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#Z!==e){this.#Z=e;for(const t of this.#P.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#Re(){if(!this.#J){this.#J=!0;const e=[];for(const t of this.#P.values())e.push(t.enable());await Promise.all(e);for(const t of this.#T.values())t.enable()}}#De(){if(this.unselectAll(),this.#J){this.#J=!1;for(const e of this.#P.values())e.disable();for(const e of this.#T.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#G&&clearTimeout(this.#G),this.#G=setTimeout((()=>{this.focusMainContainer(),this.#G=null}),0)),this.#T.delete(e.id),this.unselect(e),e.annotationElementId&&this.#O.has(e.annotationElementId)||this.#D?.remove(e.id)}addDeletedAnnotationElement(e){this.#O.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#O.has(e)}removeDeletedAnnotationElement(e){this.#O.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Ne(e){const t=this.#P.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#N!==e&&(this.#N=e,e&&this.#Pe(e.propertiesToUpdate))}get#Le(){let e=null;for(e of this.#re);return e}updateUI(e){this.#Le===e&&this.#Pe(e.propertiesToUpdate)}toggleSelected(e){if(this.#re.has(e))return this.#re.delete(e),e.unselect(),void this.#Ae({hasSelectedEditor:this.hasSelection});this.#re.add(e),e.select(),this.#Pe(e.propertiesToUpdate),this.#Ae({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#re)t!==e&&t.unselect();this.#re.clear(),this.#re.add(e),e.select(),this.#Pe(e.propertiesToUpdate),this.#Ae({hasSelectedEditor:!0})}isSelected(e){return this.#re.has(e)}get firstSelectedEditor(){return this.#re.values().next().value}unselect(e){e.unselect(),this.#re.delete(e),this.#Ae({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#re.size}get isEnterHandled(){return 1===this.#re.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#L.undo(),this.#Ae({hasSomethingToUndo:this.#L.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Me()})}redo(){this.#L.redo(),this.#Ae({hasSomethingToUndo:!0,hasSomethingToRedo:this.#L.hasSomethingToRedo(),isEmpty:this.#Me()})}addCommands(e){this.#L.add(e),this.#Ae({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Me()})}#Me(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#re];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Ne(t)},mustExec:!0})}commitOrRemove(){this.#N?.commitOrRemove()}hasSomethingToControl(){return this.#N||this.hasSelection}#Te(e){for(const t of this.#re)t.unselect();this.#re.clear();for(const t of e)t.isEmpty()||(this.#re.add(t),t.select());this.#Ae({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#re)e.commit();this.#Te(this.#T.values())}unselectAll(){if((!this.#N||(this.#N.commitOrRemove(),this.#se===w.NONE))&&this.hasSelection){for(const e of this.#re)e.unselect();this.#re.clear(),this.#Ae({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#de[0]+=e,this.#de[1]+=t;const[n,i]=this.#de,s=[...this.#re];this.#he&&clearTimeout(this.#he),this.#he=setTimeout((()=>{this.#he=null,this.#de[0]=this.#de[1]=0,this.addCommands({cmd:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(n,i)},undo:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(-n,-i)},mustExec:!1})}),1e3);for(const r of s)r.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#z=new Map;for(const e of this.#re)this.#z.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#z)return!1;this.disableUserSelect(!1);const e=this.#z;this.#z=null;let t=!1;for(const[{x:i,y:s,pageIndex:r},a]of e)a.newX=i,a.newY=s,a.newPageIndex=r,t||=i!==a.savedX||s!==a.savedY||r!==a.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#T.has(e.id)){const s=this.#P.get(i);s?e._setParentAndPosition(s,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:s,newPageIndex:r}]of e)n(t,i,s,r)},undo:()=>{for(const[t,{savedX:i,savedY:s,savedPageIndex:r}]of e)n(t,i,s,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#z)for(const n of this.#z.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#re.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#N===e}getActive(){return this.#N}getMode(){return this.#se}get imageManager(){return he(this,"imageManager",new ct)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:r}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-i)/r,y:1-(e+a-n)/s,width:o/r,height:a/s});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/s,y:1-(t+o-i)/r,width:a/s,height:o/r});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-i)/r,y:(e-n)/s,width:o/r,height:a/s});break;default:a=(e,t,a,o)=>({x:(e-n)/s,y:(t-i)/r,width:a/s,height:o/r})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:s}of e.getClientRects())0!==i&&0!==s&&o.push(a(t,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#R||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#R?.delete(t)}renderAnnotationElement(e){const t=this.#R?.get(e.data.id);if(!t)return;const n=this.#D.getRawValue(t);n&&(this.#se!==w.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class mt{#o=null;#Ie=!1;#Fe=null;#Oe=null;#ze=null;#He=null;#Be=!1;#Ve=null;#r=null;#Ue=null;#qe=null;#$e=!1;static#Ge=null;static _l10n=null;constructor(e){this.#r=e,this.#$e=e._uiManager.useNewAltTextFlow,mt.#Ge||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){mt._l10n??=e}async render(){const e=this.#Fe=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#Oe=document.createElement("span");e.append(t),this.#$e?(e.classList.add("new"),e.setAttribute("data-l10n-id",mt.#Ge.missing),t.setAttribute("data-l10n-id",mt.#Ge["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#r._uiManager._signal;e.addEventListener("contextmenu",Ye,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),this.#r._uiManager.editAltText(this.#r),this.#$e&&this.#r._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#We}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#Be=!0,i(t))}),{signal:n}),await this.#Ke(),e}get#We(){return(this.#o?"added":null===this.#o&&this.guessedText&&"review")||"missing"}finish(){this.#Fe&&(this.#Fe.focus({focusVisible:this.#Be}),this.#Be=!1)}isEmpty(){return this.#$e?null===this.#o:!this.#o&&!this.#Ie}hasData(){return this.#$e?null!==this.#o||!!this.#Ue:this.isEmpty()}get guessedText(){return this.#Ue}async setGuessedText(e){null===this.#o&&(this.#Ue=e,this.#qe=await mt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#Ke())}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.#$e||this.#o)return this.#Ve?.remove(),void(this.#Ve=null);if(!this.#Ve){const e=this.#Ve=document.createElement("div");e.className="noAltTextBadge",this.#r.div.append(e)}this.#Ve.classList.toggle("hidden",!e)}serialize(e){let t=this.#o;return e||this.#Ue!==t||(t=this.#qe),{altText:t,decorative:this.#Ie,guessedText:this.#Ue,textWithDisclaimer:this.#qe}}get data(){return{altText:this.#o,decorative:this.#Ie}}set data(e){let{altText:t,decorative:n,guessedText:i,textWithDisclaimer:s,cancel:r=!1}=e;i&&(this.#Ue=i,this.#qe=s),this.#o===t&&this.#Ie===n||(r||(this.#o=t,this.#Ie=n),this.#Ke())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Fe&&(!e&&this.#He&&(clearTimeout(this.#He),this.#He=null),this.#Fe.disabled=!e)}shown(){this.#r._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#We}})}destroy(){this.#Fe?.remove(),this.#Fe=null,this.#Oe=null,this.#ze=null,this.#Ve?.remove(),this.#Ve=null}async#Ke(){const e=this.#Fe;if(!e)return;if(this.#$e){if(e.classList.toggle("done",!!this.#o),e.setAttribute("data-l10n-id",mt.#Ge[this.#We]),this.#Oe?.setAttribute("data-l10n-id",mt.#Ge[`${this.#We}-label`]),!this.#o)return void this.#ze?.remove()}else{if(!this.#o&&!this.#Ie)return e.classList.remove("done"),void this.#ze?.remove();e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#ze;if(!t){this.#ze=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#r.id}`;const n=100,i=this.#r._uiManager._signal;i.addEventListener("abort",(()=>{clearTimeout(this.#He),this.#He=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#He=setTimeout((()=>{this.#He=null,this.#ze.classList.add("show"),this.#r._reportTelemetry({action:"alt_text_tooltip"})}),n)}),{signal:i}),e.addEventListener("mouseleave",(()=>{this.#He&&(clearTimeout(this.#He),this.#He=null),this.#ze?.classList.remove("show")}),{signal:i})}this.#Ie?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#o),t.parentNode||e.append(t);const n=this.#r.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class ft{#Xe=null;#Ye=null;#o=null;#Qe=!1;#Je=!1;#Ze=null;#et=null;#tt=null;#nt="";#it=!1;#st=null;#rt=!1;#at=!1;#ot=!1;#lt=null;#ct=0;#dt=0;#ht=null;_editToolbar=null;_initialOptions=(()=>Object.create(null))();_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#ut=!1;#pt=(()=>ft._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new ut)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=ft.prototype._resizeWithKeyboard,t=pt.TRANSLATE_SMALL,n=pt.TRANSLATE_BIG;return he(this,"_resizerKeyboardManager",new ht([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ft.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,r];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return he(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new gt({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ft._l10n??=e,ft._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==ft._borderLineWidth)return;const n=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){le("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ut}set _isDraggable(e){this.#ut=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#pt}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#mt(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#it?this.#it=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/r,this.fixAndSetPosition()}#ft(e,t,n){let[i,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/s,this.fixAndSetPosition()}translate(e,t){this.#ft(this.parentDimensions,e,t)}translateInPage(e,t){this.#st||=[this.x,this.y],this.#ft(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#st||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[a,o]=this.getBaseTranslation();s+=a,r+=o,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#st&&(this.#st[0]!==this.x||this.#st[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ft,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:i,y:s,width:r,height:a}=this;if(r*=t,a*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-r,i)),s=Math.max(0,Math.min(n-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(n,Math.max(r,s));break;case 180:i=Math.min(t,Math.max(r,i)),s=Math.min(n,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(n-r,s))}this.x=i/=t,this.y=s/=n;const[o,l]=this.getBaseTranslation();i+=o,s+=l;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#gt(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return ft.#gt(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return ft.#gt(e,t,360-this.parentRotation)}#bt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Je||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!this.#Je&&t.endsWith("%");if(i&&s)return;const[r,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/r).toFixed(2)}%`),this.#Je||s||(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#yt(){if(this.#Ze)return;this.#Ze=document.createElement("div"),this.#Ze.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ze.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#vt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",Ye,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ze)}#vt(e,t){t.preventDefault();const{isMac:n}=Se.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#o?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#xt.bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Ye,{signal:r});const a=this.x,o=this.y,l=this.width,c=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#o?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#wt(a,o,l,c)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})}#wt(e,t,n,i){const s=this.x,r=this.y,a=this.width,o=this.height;s===e&&r===t&&a===n&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=s,this.y=r;const[e,t]=this.parentDimensions;this.setDims(e*a,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[s,r]=this.parentDimensions;this.setDims(s*n,r*i),this.fixAndSetPosition()},mustExec:!0})}#xt(e,t){const[n,i]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,l=ft.MIN_SIZE/n,c=ft.MIN_SIZE/i,d=e=>Math.round(1e4*e)/1e4,h=this.#bt(this.rotation),u=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],p=this.#bt(360-this.rotation);let m,f,g=!1,b=!1;switch(e){case"topLeft":g=!0,m=(e,t)=>[0,0],f=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],f=(e,t)=>[e/2,t];break;case"topRight":g=!0,m=(e,t)=>[e,0],f=(e,t)=>[0,t];break;case"middleRight":b=!0,m=(e,t)=>[e,t/2],f=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,m=(e,t)=>[e,t],f=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],f=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,m=(e,t)=>[0,t],f=(e,t)=>[e,0];break;case"middleLeft":b=!0,m=(e,t)=>[0,t/2],f=(e,t)=>[e,t/2]}const y=m(a,o),v=f(a,o);let x=u(...v);const w=d(s+x[0]),A=d(r+x[1]);let S=1,k=1,[C,_]=this.screenToPageTranslation(t.movementX,t.movementY);var j,E;if([C,_]=(j=C/n,E=_/i,[p[0]*j+p[2]*E,p[1]*j+p[3]*E]),g){const e=Math.hypot(a,o);S=k=Math.max(Math.min(Math.hypot(v[0]-y[0]-C,v[1]-y[1]-_)/e,1/a,1/o),l/a,c/o)}else b?S=Math.max(l,Math.min(1,Math.abs(v[0]-y[0]-C)))/a:k=Math.max(c,Math.min(1,Math.abs(v[1]-y[1]-_)))/o;const N=d(a*S),T=d(o*k);x=u(...f(N,T));const P=w-x[0],M=A-x[1];this.width=N,this.height=T,this.x=P,this.y=M,this.setDims(n*N,i*T),this.fixAndSetPosition()}altTextFinish(){this.#o?.finish()}async addEditToolbar(){return this._editToolbar||this.#at||(this._editToolbar=new rt(this),this.div.append(this._editToolbar.render()),this.#o&&await this._editToolbar.addAltText(this.#o)),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#o?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#o||(mt.initialize(ft._l10n),this.#o=new mt(this),this.#Xe&&(this.#o.data=this.#Xe,this.#Xe=null),await this.addEditToolbar())}get altTextData(){return this.#o?.data}set altTextData(e){this.#o&&(this.#o.data=e)}get guessedAltText(){return this.#o?.guessedText}async setGuessedAltText(e){await(this.#o?.setGuessedText(e))}serializeAltText(e){return this.#o?.serialize(e)}hasAltText(){return!!this.#o&&!this.#o.isEmpty()}hasAltTextData(){return this.#o?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#Qe?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#At();const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),ot(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Se.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#it=!0,this._isDraggable?this.#St(e):this.#kt(e))}get isSelected(){return this._uiManager.isSelected(this)}#kt(e){const{isMac:t}=Se.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#St(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),this.#ct=e.clientX,this.#dt=e.clientY;const t=e=>{const{clientX:t,clientY:n}=e,[i,s]=this.screenToPageTranslation(t-this.#ct,n-this.#dt);this.#ct=t,this.#dt=n,this._uiManager.dragSelectedEditors(i,s)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:i})}const s=()=>{n.abort(),t&&this.div.classList.remove("moving"),this.#it=!1,this._uiManager.endDragSession()||this.#kt(e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})}moveInDOM(){this.#lt&&clearTimeout(this.#lt),this.#lt=setTimeout((()=>{this.#lt=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/i,c=t/i,d=this.x*s,h=this.y*r,u=this.width*s,p=this.height*r;switch(n){case 0:return[d+l+a,r-h-c-p+o,d+l+u+a,r-h-c+o];case 90:return[d+c+a,r-h+l+o,d+c+p+a,r-h+l+u+o];case 180:return[d-l-u+a,r-h+c+o,d-l+a,r-h+c+p+o];case 270:return[d-c-p+a,r-h-l-u+o,d-c+a,r-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,r]=e,a=s-n,o=r-i;switch(this.rotation){case 0:return[n,t-r,a,o];case 90:return[n,t-i,o,a];case 180:return[s,t-i,a,o];case 270:return[s,t-r,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#at=!0}disableEditMode(){this.#at=!1}isInEditMode(){return this.#at}shouldGetKeyboardEvents(){return this.#ot}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#At(){if(this.#tt||!this.div)return;this.#tt=new AbortController;const e=this._uiManager.combinedSignal(this.#tt);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#At()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(){le("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,i.#Xe=e.accessibilityData;const[s,r]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(e.rect,r);return i.x=a/s,i.y=o/r,i.width=l/s,i.height=c/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#tt?.abort(),this.#tt=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#lt&&(clearTimeout(this.#lt),this.#lt=null),this.#mt(),this.removeEditToolbar(),this.#ht){for(const e of this.#ht.values())clearTimeout(e);this.#ht=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#yt(),this.#Ze.classList.remove("hidden"),ot(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#et={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ze.children;if(!this.#Ye){this.#Ye=Array.from(t);const e=this.#Ct.bind(this),n=this.#_t.bind(this),i=this._uiManager._signal;for(const t of this.#Ye){const s=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#jt.bind(this,s),{signal:i}),t.setAttribute("data-l10n-id",ft._l10nResizer[s])}}const n=this.#Ye[0];let i=0;for(const r of t){if(r===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#Ye.length/4);if(s!==i){if(s<i)for(let t=0;t<i-s;t++)this.#Ze.append(this.#Ze.firstChild);else if(s>i)for(let t=0;t<s-i;t++)this.#Ze.firstChild.before(this.#Ze.lastChild);let e=0;for(const n of t){const t=this.#Ye[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",ft._l10nResizer[t])}}this.#Et(0),this.#ot=!0,this.#Ze.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Ct(e){ft._resizerKeyboardManager.exec(this,e)}#_t(e){this.#ot&&e.relatedTarget?.parentNode!==this.#Ze&&this.#mt()}#jt(e){this.#nt=this.#ot?e:""}#Et(e){if(this.#Ye)for(const t of this.#Ye)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#ot&&this.#xt(this.#nt,{movementX:e,movementY:t})}#mt(){if(this.#ot=!1,this.#Et(-1),this.#et){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#et;this.#wt(e,t,n,i),this.#et=null}}_stopResizingWithKeyboard(){this.#mt(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#o?.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}unselect(){this.#Ze?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#o?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#rt}set isEditing(e){this.#rt=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Je=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#ht||=new Map;const{action:t}=e;let n=this.#ht.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#ht.delete(t),0===this.#ht.size&&(this.#ht=null)}),ft._telemetryTimeout),void this.#ht.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#Qe=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Qe=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t?.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class gt extends ft{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bt=3285377520,yt=4294901760,vt=65535;class xt{constructor(e){this.h1=e?4294967295&e:bt,this.h2=e?4294967295&e:bt}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,s=e.length;i<s;i++){const s=e.charCodeAt(i);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,s=n-4*i,r=new Uint32Array(t.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const d=3432918353,h=461845907,u=11601,p=13715;for(let m=0;m<i;m++)1&m?(a=r[m],a=a*d&yt|a*u&vt,a=a<<15|a>>>17,a=a*h&yt|a*p&vt,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[m],o=o*d&yt|o*u&vt,o=o<<15|o>>>17,o=o*h&yt|o*p&vt,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,s){case 3:a^=t[4*i+2]<<16;case 2:a^=t[4*i+1]<<8;case 1:a^=t[4*i],a=a*d&yt|a*u&vt,a=a<<15|a>>>17,a=a*h&yt|a*p&vt,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&yt|36045*e&vt,t=4283543511*t&yt|(2950163797*(t<<16|e>>>16)&yt)>>>16,e^=t>>>1,e=444984403*e&yt|60499*e&vt,t=3301882366*t&yt|(3120437893*(t<<16|e>>>16)&yt)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const wt=Object.freeze({map:null,hash:"",transfer:void 0});class At{#Nt=!1;#Tt=null;#Pt=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#Pt.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#Pt.get(e)}remove(e){if(this.#Pt.delete(e),0===this.#Pt.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#Pt.values())if(e instanceof ft)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#Pt.get(e);let i=!1;if(void 0!==n)for(const[s,r]of Object.entries(t))n[s]!==r&&(i=!0,n[s]=r);else i=!0,this.#Pt.set(e,t);i&&this.#Mt(),t instanceof ft&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#Pt.has(e)}getAll(){return this.#Pt.size>0?Ae(this.#Pt):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#Pt.size}#Mt(){this.#Nt||(this.#Nt=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Nt&&(this.#Nt=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(0===this.#Pt.size)return wt;const e=new Map,t=new xt,n=[],i=Object.create(null);let s=!1;for(const[r,a]of this.#Pt){const n=a instanceof ft?a.serialize(!1,i):a;n&&(e.set(r,n),t.update(`${r}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:wt}get editorStats(){let e=null;const t=new Map;for(const n of this.#Pt.values()){if(!(n instanceof ft))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const r=e[s]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=r.get(e);n||(n=new Map,r.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#Tt=null}get modifiedIds(){if(this.#Tt)return this.#Tt;const e=[];for(const t of this.#Pt.values())t instanceof ft&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return this.#Tt={ids:new Set(e),hash:e.join(",")}}}class St extends At{#Dt;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#Dt={map:s,hash:n,transfer:i}}get print(){le("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Dt}get modifiedIds(){return he(this,"modifiedIds",{ids:new Set,hash:""})}}class kt{#Rt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Rt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#Rt.has(t.loadedName))if(ce(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:s}=t,r=new FontFace(e,i,s);this.addNativeFontFace(r);try{await r.load(),this.#Rt.add(e),n?.(t)}catch{oe(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}}else le("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw oe(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return he(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(l||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),he(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(ce(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return he(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,c.length,c);const h=1482184792;let u=n(d,16);for(s=0,r=c.length-3;s<r;s+=4)u=u-h+n(c,s)|0;var p;s<c.length&&(u=u-h+n(c+"XXX",s)|0),d=i(d,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const m=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(m);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const g of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=g,f.append(e)}this._document.body.append(f),function e(t,n){if(++l>30)return oe("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{f.remove(),t.complete()}))}}class Ct{constructor(e,t){let{disableFontFace:n=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${t=this.data,Uint8Array.prototype.toBase64?t.toBase64():btoa(xe(t))});`;var t;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){oe(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case Te:{const[e,t,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.bezierCurveTo(e,t,s,a,o,l))),r+=6}break;case Pe:{const[e,t]=n.slice(r,r+2);i.push((n=>n.moveTo(e,t))),r+=2}break;case Me:{const[e,t]=n.slice(r,r+2);i.push((n=>n.lineTo(e,t))),r+=2}break;case De:{const[e,t,s,a]=n.slice(r,r+4);i.push((n=>n.quadraticCurveTo(e,t,s,a))),r+=4}break;case Re:i.push((e=>e.restore()));break;case Le:i.push((e=>e.save()));break;case Ie:ce(2===i.length,"Scale command is only valid at the third position.");break;case Fe:{const[e,t,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.transform(e,t,s,a,o,l))),r+=6}break;case Oe:{const[e,t]=n.slice(r,r+2);i.push((n=>n.translate(e,t))),r+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let n=2,s=i.length;n<s;n++)i[n](e)}}}class _t{#Lt=!1;constructor(e){let{enableHWA:t=!1}=e;this.#Lt=t}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#Lt})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){le("Abstract method `_createCanvas` called.")}}class jt{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then((e=>({cMapData:e,isCompressed:this.isCompressed}))).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}async _fetch(e){le("Abstract method `_fetch` called.")}}class Et extends jt{async _fetch(e){const t=await Be(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):we(t)}}class Nt{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(){}}class Tt{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}async _fetch(e){le("Abstract method `_fetch` called.")}}class Pt extends Tt{async _fetch(e){const t=await Be(e,"arraybuffer");return new Uint8Array(t)}}if(l){var Mt=Promise.withResolvers(),Dt=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((e=>{Dt=e,Mt.resolve()}),(e=>{oe(`loadPackages: ${e}`),Dt=new Map,Mt.resolve()}))}class Rt{static get promise(){return Mt.promise}static get(e){return Dt?.get(e)}}async function Lt(e){const t=Rt.get("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}const It="Fill",Ft="Stroke",Ot="Shading";function zt(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,i),e.clip(s)}class Ht{getPattern(){le("Abstract method `getPattern` called.")}}class Bt extends Ht{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Ft||i===It){const r=t.current.getClippedPathBoundingBox(i,tt(e))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=Ce.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),zt(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else zt(e,this._bbox),s=this._createGradient(e);return s}}function Vt(e,t,n,i,s,r,a,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=r,r=a,a=u),l[i+1]>l[s+1]&&(u=i,i=s,s=u,u=a,a=o,o=u),l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=r,r=a,a=u);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,f=(l[i]+t.offsetX)*t.scaleX,g=(l[i+1]+t.offsetY)*t.scaleY,b=(l[s]+t.offsetX)*t.scaleX,y=(l[s+1]+t.offsetY)*t.scaleY;if(m>=y)return;const v=c[r],x=c[r+1],w=c[r+2],A=c[a],S=c[a+1],k=c[a+2],C=c[o],_=c[o+1],j=c[o+2],E=Math.round(m),N=Math.round(y);let T,P,M,D,R,L,I,F;for(let O=E;O<=N;O++){if(O<g){const e=O<m?0:(m-O)/(m-g);T=p-(p-f)*e,P=v-(v-A)*e,M=x-(x-S)*e,D=w-(w-k)*e}else{let e;e=O>y?1:g===y?0:(g-O)/(g-y),T=f-(f-b)*e,P=A-(A-C)*e,M=S-(S-_)*e,D=k-(k-j)*e}let e;e=O<m?0:O>y?1:(m-O)/(m-y),R=p-(p-b)*e,L=v-(v-C)*e,I=x-(x-_)*e,F=w-(w-j)*e;const t=Math.round(Math.min(T,R)),n=Math.round(Math.max(T,R));let i=h*O+4*t;for(let s=t;s<=n;s++)e=(T-s)/(T-R),e<0?e=0:e>1&&(e=1),d[i++]=P-(P-L)*e|0,d[i++]=M-(M-I)*e|0,d[i++]=D-(D-F)*e|0,d[i++]=255}}function Ut(e,t,n){const i=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<c;r++,t++)Vt(e,n,i[t],i[t+1],i[t+o],s[t],s[t+1],s[t+o]),Vt(e,n,i[t+o+1],i[t+1],i[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)Vt(e,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class qt extends Ht{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(r*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=r/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/d},u=o+4,p=l+4,m=n.getCanvas("mesh",u,p),f=m.context,g=f.createImageData(o,l);if(t){const e=g.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)Ut(g,b,h);f.putImageData(g,2,2);return{canvas:m.canvas,offsetX:i-2*c,offsetY:s-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,i){let s;if(zt(e,this._bbox),i===Ot)s=Ce.singularValueDecompose2dScale(tt(e));else if(s=Ce.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Ce.singularValueDecompose2dScale(this.matrix);s=[s[0]*e[0],s[1]*e[1]]}const r=this._createMeshCanvas(s,i===Ot?null:this._background,t.cachedCanvases);return i!==Ot&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class $t extends Ht{getPattern(){return"hotpink"}}const Gt=1,Wt=2;class Kt{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:r,canvasGraphicsFactory:a}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),ae("TilingType: "+s);const c=t[0],d=t[1],h=t[2],u=t[3],p=h-c,m=u-d,f=Ce.singularValueDecompose2dScale(this.matrix),g=Ce.singularValueDecompose2dScale(this.baseTransform),b=f[0]*g[0],y=f[1]*g[1];let v=p,x=m,w=!1,A=!1;const S=Math.ceil(o*b),k=Math.ceil(l*y);S>=Math.ceil(p*b)?v=o:w=!0,k>=Math.ceil(m*y)?x=l:A=!0;const C=this.getSizeAndScale(v,this.ctx.canvas.width,b),_=this.getSizeAndScale(x,this.ctx.canvas.height,y),j=e.cachedCanvases.getCanvas("pattern",C.size,_.size),E=j.context,N=a.createCanvasGraphics(E);if(N.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(N,i,r),E.translate(-C.scale*c,-_.scale*d),N.transform(C.scale,0,0,_.scale,0,0),E.save(),this.clipBbox(N,c,d,h,u),N.baseTransform=tt(N.ctx),N.executeOperatorList(n),N.endDrawing(),E.restore(),w||A){const t=j.canvas;w&&(v=o),A&&(x=l);const n=this.getSizeAndScale(v,this.ctx.canvas.width,b),i=this.getSizeAndScale(x,this.ctx.canvas.height,y),s=n.size,r=i.size,a=e.cachedCanvases.getCanvas("pattern-workaround",s,r),h=a.context,u=w?Math.floor(p/o):0,f=A?Math.floor(m/l):0;for(let e=0;e<=u;e++)for(let n=0;n<=f;n++)h.drawImage(t,s*e,r*n,s,r,0,0,s,r);return{canvas:a.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:c,offsetY:d}}return{canvas:j.canvas,scaleX:C.scale,scaleY:_.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,t,n){const i=Math.max(Kt.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const r=i-t,a=s-n;e.ctx.rect(t,n,r,a),e.current.updateRectMinMax(tt(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case Gt:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case Wt:const r=Ce.makeHexColor(n[0],n[1],n[2]);i.fillStyle=r,i.strokeStyle=r,s.fillColor=r,s.strokeColor=r;break;default:throw new ye(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==Ot&&(s=Ce.transform(s,t.baseTransform),this.matrix&&(s=Ce.transform(s,this.matrix)));const r=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(r.offsetX,r.offsetY),a=a.scale(1/r.scaleX,1/r.scaleY);const o=e.createPattern(r.canvas,"repeat");return o.setTransform(a),o}}function Xt(e){let{src:t,srcPos:n=0,dest:i,width:s,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=Se.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],h=s>>3,u=7&s,p=t.length;i=new Uint32Array(i.buffer);let m=0;for(let f=0;f<r;f++){for(const s=n+h;n<s;n++){const e=n<p?t[n]:255;i[m++]=128&e?d:c,i[m++]=64&e?d:c,i[m++]=32&e?d:c,i[m++]=16&e?d:c,i[m++]=8&e?d:c,i[m++]=4&e?d:c,i[m++]=2&e?d:c,i[m++]=1&e?d:c}if(0===u)continue;const e=n<p?t[n++]:255;for(let t=0;t<u;t++)i[m++]=e&1<<7-t?d:c}return{srcPos:n,destPos:m}}const Yt=16;class Qt{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Jt(e,t,n,i,s,r,a,o,l,c){const[d,h,u,p,m,f]=tt(e);if(0===h&&0===u){const g=a*d+m,b=Math.round(g),y=o*p+f,v=Math.round(y),x=(a+l)*d+m,w=Math.abs(Math.round(x)-b)||1,A=(o+c)*p+f,S=Math.abs(Math.round(A)-v)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),b,v),e.drawImage(t,n,i,s,r,0,0,w,S),e.setTransform(d,h,u,p,m,f),[w,S]}if(0===d&&0===p){const g=o*u+m,b=Math.round(g),y=a*h+f,v=Math.round(y),x=(o+c)*u+m,w=Math.abs(Math.round(x)-b)||1,A=(a+l)*h+f,S=Math.abs(Math.round(A)-v)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,b,v),e.drawImage(t,n,i,s,r,0,0,S,w),e.setTransform(d,h,u,p,m,f),[S,w]}e.drawImage(t,n,i,s,r,a,o,l,c);return[Math.hypot(d,h)*l,Math.hypot(u,p)*c]}class Zt{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c,this.textMatrixScale=1,this.fontMatrix=d,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=k,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ce.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ce.applyTransform(t,e),i=Ce.applyTransform(t.slice(2),e),s=Ce.applyTransform([t[0],t[3]],e),r=Ce.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],r[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],r[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],r[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],r[1])}updateScalingPathMinMax(e,t){Ce.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,r,a,o,l,c){const d=Ce.bezierBoundingBox(t,n,i,s,r,a,o,l,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ft){t||le("Stroke bounding box must include transform.");const e=Ce.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function en(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,s=n%Yt,r=(n-s)/Yt,a=0===s?r:r+1,o=e.createImageData(i,Yt);let l,c=0;const d=t.data,h=o.data;let u,p,m,f;if(t.kind===T.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),f=n.length,g=i+7>>3,b=4294967295,y=Se.isLittleEndian?4278190080:255;for(u=0;u<a;u++){for(m=u<r?Yt:s,l=0,p=0;p<m;p++){const e=t-c;let s=0;const r=e>g?i:8*e-7,a=-8&r;let o=0,h=0;for(;s<a;s+=8)h=d[c++],n[l++]=128&h?b:y,n[l++]=64&h?b:y,n[l++]=32&h?b:y,n[l++]=16&h?b:y,n[l++]=8&h?b:y,n[l++]=4&h?b:y,n[l++]=2&h?b:y,n[l++]=1&h?b:y;for(;s<r;s++)0===o&&(h=d[c++],o=128),n[l++]=h&o?b:y,o>>=1}for(;l<f;)n[l++]=0;e.putImageData(o,0,u*Yt)}}else if(t.kind===T.RGBA_32BPP){for(p=0,f=i*Yt*4,u=0;u<r;u++)h.set(d.subarray(c,c+f)),c+=f,e.putImageData(o,0,p),p+=Yt;u<a&&(f=i*s*4,h.set(d.subarray(c,c+f)),e.putImageData(o,0,p))}else{if(t.kind!==T.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(m=Yt,f=i*m,u=0;u<a;u++){for(u>=r&&(m=s,f=i*m),l=0,p=f;p--;)h[l++]=d[c++],h[l++]=d[c++],h[l++]=d[c++],h[l++]=255;e.putImageData(o,0,u*Yt)}}}function tn(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,s=n%Yt,r=(n-s)/Yt,a=0===s?r:r+1,o=e.createImageData(i,Yt);let l=0;const c=t.data,d=o.data;for(let h=0;h<a;h++){const t=h<r?Yt:s;({srcPos:l}=Xt({src:c,srcPos:l,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,h*Yt)}}function nn(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function sn(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!l){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function rn(e,t){if(t)return!0;const n=Ce.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*He.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const an=["butt","round","square"],on=["miter","round","bevel"],ln={},cn={};class dn{constructor(e,t,n,i,s,r,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=r;this.ctx=e,this.current=new Zt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Qt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...tt(this.compositeCtx))}this.ctx.save(),sn(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=tt(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,r=e.fnArray;let a=t||0;const o=s.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const h=this.commonObjs,u=this.objs;let p;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(p=r[a],p!==te.dependency)this[p].apply(this,s[a]);else for(const e of s[a]){const t=e.startsWith("g_")?h:u;if(!t.has(e))return t.get(e,n),a}if(a++,a===o)return a;if(l&&++d>10){if(Date.now()>c)return n(),a;d=0}}}#It(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#It(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Ft()}#Ft(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s,r,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,d="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),s=this.cachedCanvases.getCanvas(d,t,n),r=s.context,r.clearRect(0,0,t,n),r.drawImage(e,0,0,l,c,0,0,t,n),e=s.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,r=this.current.patternFill,a=tt(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(r?a:[a.slice(0,4),s]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!r){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),tn(d.context,e));let h=Ce.transform(a,[1/n,0,0,-1/i,0,0]);h=Ce.transform(h,[1,0,0,1,0,-i]);const[u,p,m,f]=Ce.getAxialAlignedBoundingBox([0,0,n,i],h),g=Math.round(m-u)||1,b=Math.round(f-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",g,b),v=y.context,x=u,w=p;v.translate(-x,-w),v.transform(...h),c||(c=this._scaleImage(d.canvas,nt(v)),c=c.img,o&&r&&o.set(l,c)),v.imageSmoothingEnabled=rn(tt(v),e.interpolate),Jt(v,c,0,0,c.width,c.height,0,0,n,i),v.globalCompositeOperation="source-in";const A=Ce.transform(nt(v),[1,0,0,1,-x,-w]);return v.fillStyle=r?s.getPattern(t,this,A,It):s,v.fillRect(0,0,n,i),o&&!r&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(x),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=an[e]}setLineJoin(e){this.ctx.lineJoin=on[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...tt(this.suspendedCtx)),nn(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,s,r,a){t.transform(e,n,i,s,r,a),this.__originalTransform(e,n,i,s,r,a)},e.setTransform=function(e,n,i,s,r,a){t.setTransform(e,n,i,s,r,a),this.__originalSetTransform(e,n,i,s,r,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,s,r,a){t.bezierCurveTo(e,n,i,s,r,a),this.__originalBezierCurveTo(e,n,i,s,r,a)},e.rect=function(e,n,i,s){t.rect(e,n,i,s),this.__originalRect(e,n,i,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nn(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],r=i[1],a=i[2]-s,o=i[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,s,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,r,a,o,l,c,d){let h=e.canvas,u=o-c,p=l-d;if(r){const t=Ce.makeHexColor(...r);if(u<0||p<0||u+n>h.width||p+i>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),s=e.context;s.drawImage(h,-u,-p),s.globalCompositeOperation="destination-atop",s.fillStyle=t,s.fillRect(0,0,n,i),s.globalCompositeOperation="source-over",h=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const s=new Path2D;s.rect(u,p,n,i),e.clip(s),e.globalCompositeOperation="destination-atop",e.fillStyle=t,e.fillRect(u,p,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(o,l,n,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,u,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode?(nn(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nn(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,r){this.ctx.transform(e,t,n,i,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let r,a,o=s.x,l=s.y;const c=tt(i),d=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=d?n.slice(0):null;for(let u=0,p=0,m=e.length;u<m;u++)switch(0|e[u]){case te.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],u=o+e,m=l+n;i.moveTo(o,l),0===e||0===n?i.lineTo(u,m):(i.lineTo(u,l),i.lineTo(u,m),i.lineTo(o,m)),d||s.updateRectMinMax(c,[o,l,u,m]),i.closePath();break;case te.moveTo:o=t[p++],l=t[p++],i.moveTo(o,l),d||s.updatePathMinMax(c,o,l);break;case te.lineTo:o=t[p++],l=t[p++],i.lineTo(o,l),d||s.updatePathMinMax(c,o,l);break;case te.curveTo:r=o,a=l,o=t[p+4],l=t[p+5],i.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),s.updateCurvePathMinMax(c,r,a,t[p],t[p+1],t[p+2],t[p+3],o,l,h),p+=6;break;case te.curveTo2:r=o,a=l,i.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(c,r,a,o,l,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],l=t[p+3],p+=4;break;case te.curveTo3:r=o,a=l,o=t[p+2],l=t[p+3],i.bezierCurveTo(t[p],t[p+1],o,l,o,l),s.updateCurvePathMinMax(c,r,a,t[p],t[p+1],o,l,o,l,h),p+=4;break;case te.closePath:i.closePath()}d&&s.updateScalingPathMinMax(c,h),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,nt(t),Ft),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,nt(t),It),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ln}eoClip(){this.pendingClip=cn}beginText(){this.current.textMatrix=c,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||d,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||oe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",r=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${a} ${l}px ${r}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,r){this.current.textMatrix=[e,t,n,i,s,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,r=this.current,a=r.font,o=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,c=o&E,d=!!(o&N),h=r.patternFill&&!a.missingFile;let u;if((a.disableFontFace||d||h)&&(u=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,n),s.beginPath(),u(s,l),i&&s.setTransform(...i),c!==k&&c!==_||s.fill(),c!==C&&c!==_||s.stroke(),s.restore()):(c!==k&&c!==_||s.fillText(e,t,n),c!==C&&c!==_||s.strokeText(e,t,n)),d){(this.pendingTextPaths||=[]).push({transform:tt(s),x:t,y:n,fontSize:l,addToPath:u})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return he(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const s=this.ctx,r=t.fontSizeScale,a=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,h=n.vertical,u=h?1:-1,p=n.defaultVMetrics,m=i*t.fontMatrix[0],f=t.textRenderingMode===k&&!n.disableFontFace&&!t.patternFill;let g;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),l>0?s.scale(c,-1):s.scale(c,1),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this,nt(s),It);g=tt(s),s.restore(),s.fillStyle=e}let b=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===b){const e=t.textRenderingMode&E;e!==C&&e!==_||(b=this.getSinglePixelWidth())}else b/=y;if(1!==r&&(s.scale(r,r),b/=r),s.lineWidth=b,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return s.fillText(n.join(""),0,0),t.x+=i*m*c,s.restore(),void this.compose()}let v,x=0;for(v=0;v<d;++v){const t=e[v];if("number"===typeof t){x+=u*t*i/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+a,b=t.fontChar,y=t.accent;let w,A,S=t.width;if(h){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*S)*m,i=e[2]*m;S=e?-e[0]:S,w=n/r,A=(x+i)/r}else w=x/r,A=0;if(n.remeasure&&S>0){const e=1e3*s.measureText(b).width/i*r;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;c=!0,s.save(),s.scale(t,1),w/=t}else S!==e&&(w+=(S-e)/2e3*i/r)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(f&&!y)s.fillText(b,w,A);else if(this.paintChar(b,w,A,g),y){const e=w+i*y.offset.x/r,t=A-i*y.offset.y/r;this.paintChar(y.fontChar,e,t,g)}x+=h?S*m-d*l:S*m+d*l,c&&s.restore()}h?t.y-=x:t.x+=x*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,r=n.fontDirection,a=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*r,h=n.fontMatrix||d,u=e.length;let p,m,f,g;if(!(n.textRenderingMode===j)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,r),p=0;p<u;++p){if(m=e[p],"number"===typeof m){g=a*m*s/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const r=(m.isSpace?l:0)+o,d=i.charProcOperatorList[m.operatorListId];if(!d){oe(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(d),this.restore());f=Ce.applyTransform([m.width,0],h)[0]*s+r,t.translate(f,0),n.x+=f*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,r){this.ctx.rect(n,i,s-n,r-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||tt(this.ctx),s={createCanvasGraphics:e=>new dn(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Kt(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ce.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ce.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Bt(e);case"Mesh":return new qt(e);case"Dummy":return new $t}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,nt(t),Ot);const i=nt(t);if(i){const{width:e,height:n}=t.canvas,[s,r,a,o]=Ce.getAxialAlignedBoundingBox([0,0,e,n],i);this.ctx.fillRect(s,r,a-s,o-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){le("Should not call beginInlineImage")}beginImageData(){le("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=tt(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(tt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ae("TODO: Support non-isolated groups."),e.knockout&&oe("Knockout groups not supported.");const n=tt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ce.getAxialAlignedBoundingBox(e.bbox,tt(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Ce.intersect(i,s)||[0,0,0,0];const r=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-r,1),l=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),h=d.context;h.translate(-r,-a),h.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:r,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(r,a),t.save()),nn(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=tt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Ce.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,s){if(this.#It(),sn(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],r=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=r;const[s,a]=Ce.singularValueDecompose2dScale(tt(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(r*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:d,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(s,0,0,-a,0,r*a),sn(this.ctx)}else sn(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],i,r),this.ctx.clip(),this.ctx.beginPath()}this.current=new Zt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Ft(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let r,a,o,l=new Uint8Array(s*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),h=0;for(const f of e.data){let e=128;for(;e>0;)d[h++]=f&e?0:255,e>>=1}let u=0;for(h=0,0!==d[h]&&(l[0]=1,++u),a=1;a<t;a++)d[h]!==d[h+1]&&(l[a]=d[h]?2:1,++u),h++;for(0!==d[h]&&(l[a]=2,++u),r=1;r<n;r++){h=r*c,o=r*s,d[h-c]!==d[h]&&(l[o]=d[h]?1:8,++u);let e=(d[h]?4:0)+(d[h-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[e]&&(l[o+a]=i[e],++u),h++;if(d[h-c]!==d[h]&&(l[o+a]=d[h]?2:4,++u),u>1e3)return null}for(h=c*(n-1),o=r*s,0!==d[h]&&(l[o]=8,++u),a=1;a<t;a++)d[h]!==d[h+1]&&(l[o+a]=d[h]?4:8,++u),h++;if(0!==d[h]&&(l[o+a]=4,++u),u>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(r=0;u&&r<=n;r++){let e=r*s;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;m.moveTo(e%s,r);const i=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),m.lineTo(e%s,e/s|0),l[e]||--u}while(i!==e);--r}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(m),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const s=this._createMaskCanvas(e),r=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const o=tt(a);a.transform(t,n,i,s,0,0);const l=this._createMaskCanvas(e);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=r.length;c<d;c+=2){const e=Ce.transform(o,[t,n,i,s,r[c],r[c+1]]),[d,h]=Ce.applyTransform([0,0],e);a.drawImage(l.canvas,d,h)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:r,height:a,transform:o}=s,l=this.cachedCanvases.getCanvas("maskCanvas",r,a),c=l.context;c.save();tn(c,this.getObject(e,s)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,nt(t),It):n,c.fillRect(0,0,r,a),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),Jt(t,l.canvas,0,0,r,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):oe("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void oe("Dependent image isn't ready yet");const r=s.width,a=s.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:r,h:a});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!l){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let s;if(i.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;en(i,e),s=this.applyTransferMapsToCanvas(i)}const r=this._scaleImage(s,nt(i));i.imageSmoothingEnabled=rn(tt(i),e.interpolate),Jt(i,r.img,0,0,r.paintWidth,r.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;en(s,e),i=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),Jt(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===cn?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=tt(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let r,a;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(s);if(n===i)if(0===e)r=a=1/n;else{const t=n*e;r=a=t<1?1/t:1}else if(0===e)r=1/n,a=1/i;else{const t=n*e,s=i*e;r=t<1?1/t:1,a=s<1?1/s:1}}else{const o=Math.abs(t*s-n*i),l=Math.hypot(t,n),c=Math.hypot(i,s);if(0===e)r=c/o,a=l/o;else{const t=e*o;r=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===s)return void t.stroke();const r=t.getLineDash();if(e&&t.save(),t.scale(i,s),r.length>0){const e=Math.max(i,s);t.setLineDash(r.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const Or in te)void 0!==dn.prototype[Or]&&(dn.prototype[te[Or]]=dn.prototype[Or]);class hn{static#Ot=null;static#zt="";static get workerPort(){return this.#Ot}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#Ot=e}static get workerSrc(){return this.#zt}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#zt=e}}const un=1,pn=2,mn=1,fn=2,gn=3,bn=4,yn=5,vn=6,xn=7,wn=8;function An(e){switch(e instanceof Error||"object"===typeof e&&null!==e||le('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new ve(e.message);case"MissingPDFException":return new ge(e.message);case"PasswordException":return new pe(e.message,e.code);case"UnexpectedResponseException":return new be(e.message,e.status);case"UnknownErrorException":return new me(e.message,e.details);default:return new me(e.message,e.toString())}}class Sn{#Ht=(()=>new AbortController)();constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#Bt.bind(this),{signal:this.#Ht.signal})}#Bt(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Vt(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===un)n.resolve(t.data);else{if(t.callback!==pn)throw new Error("Unexpected callback case");n.reject(An(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,i=t.sourceName,s=this.comObj;new Promise((function(e){e(n(t.data))})).then((function(n){s.postMessage({sourceName:e,targetName:i,callback:un,callbackId:t.callbackId,data:n})}),(function(n){s.postMessage({sourceName:e,targetName:i,callback:pn,callbackId:t.callbackId,reason:An(n)})}))}else t.streamId?this.#Ut(t):n(t.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(r){s.reject(r)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,o.postMessage({sourceName:r,targetName:a,stream:vn,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{ce(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:mn,streamId:s,reason:An(e)}),t.promise}},n)}#Ut(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,r=this,a=this.actionHandler[e.action],o={enqueue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:bn,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:gn,streamId:t}),delete r.streamSinks[t])},error(e){ce(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:yn,streamId:t,reason:An(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(a(e.data,o))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:wn,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:wn,streamId:t,reason:An(e)})}))}#Vt(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case wn:e.success?r.startCall.resolve():r.startCall.reject(An(e.reason));break;case xn:e.success?r.pullCall.resolve():r.pullCall.reject(An(e.reason));break;case vn:if(!a){s.postMessage({sourceName:n,targetName:i,stream:xn,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise((function(e){e(a.onPull?.())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:xn,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:xn,streamId:t,reason:An(e)})}));break;case bn:if(ce(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case gn:if(ce(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#qt(r,t);break;case yn:ce(r,"error should have stream controller"),r.controller.error(An(e.reason)),this.#qt(r,t);break;case fn:e.success?r.cancelCall.resolve():r.cancelCall.reject(An(e.reason)),this.#qt(r,t);break;case mn:if(!a)break;new Promise((function(t){t(a.onCancel?.(An(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:fn,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:fn,streamId:t,reason:An(e)})})),a.sinkCapability.reject(An(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#qt(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#Ht?.abort(),this.#Ht=null}}class kn{#$t;#Gt;constructor(e){let{parsedData:t,rawData:n}=e;this.#$t=t,this.#Gt=n}getRaw(){return this.#Gt}get(e){return this.#$t.get(e)??null}getAll(){return Ae(this.#$t)}has(e){return this.#$t.has(e)}}const Cn=Symbol("INTERNAL");class _n{#Wt=!1;#Kt=!1;#Xt=!1;#Yt=!0;constructor(e,t){let{name:n,intent:i,usage:s,rbGroups:r}=t;this.#Wt=!!(e&p),this.#Kt=!!(e&m),this.name=n,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(this.#Xt)return this.#Yt;if(!this.#Yt)return!1;const{print:e,view:t}=this.usage;return this.#Wt?"OFF"!==t?.viewState:!this.#Kt||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Cn&&le("Internal method `_setVisible` called."),this.#Xt=n,this.#Yt=t}}class jn{#Qt=null;#Jt=(()=>new Map)();#Zt=null;#en=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#en=e.order;for(const n of e.groups)this.#Jt.set(n.id,new _n(t,n));if("OFF"===e.baseState)for(const e of this.#Jt.values())e._setVisible(Cn,!1);for(const t of e.on)this.#Jt.get(t)._setVisible(Cn,!0);for(const t of e.off)this.#Jt.get(t)._setVisible(Cn,!1);this.#Zt=this.getHash()}}#tn(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=this.#tn(t);else{if(!this.#Jt.has(t))return oe(`Optional content group not found: ${t}`),!0;s=this.#Jt.get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(e){if(0===this.#Jt.size)return!0;if(!e)return ae("Optional content group not defined."),!0;if("OCG"===e.type)return this.#Jt.has(e.id)?this.#Jt.get(e.id).visible:(oe(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#tn(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return oe(`Optional content group not found: ${t}`),!0;if(this.#Jt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return oe(`Optional content group not found: ${t}`),!0;if(!this.#Jt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return oe(`Optional content group not found: ${t}`),!0;if(!this.#Jt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#Jt.has(t))return oe(`Optional content group not found: ${t}`),!0;if(this.#Jt.get(t).visible)return!1}return!0}return oe(`Unknown optional content policy ${e.policy}.`),!0}return oe(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.#Jt.get(e);if(i){if(n&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const n of t)n!==e&&this.#Jt.get(n)?._setVisible(Cn,!1,!0);i._setVisible(Cn,!!t,!0),this.#Qt=null}else oe(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}const e=this.#Jt.get(s);if(e)switch(t){case"ON":this.setVisibility(s,!0,i);break;case"OFF":this.setVisibility(s,!1,i);break;case"Toggle":this.setVisibility(s,!e.visible,i)}}this.#Qt=null}get hasInitialVisibility(){return null===this.#Zt||this.getHash()===this.#Zt}getOrder(){return this.#Jt.size?this.#en?this.#en.slice():[...this.#Jt.keys()]:null}getGroups(){return this.#Jt.size>0?Ae(this.#Jt):null}getGroup(e){return this.#Jt.get(e)||null}getHash(){if(null!==this.#Qt)return this.#Qt;const e=new xt;for(const[t,n]of this.#Jt)e.update(`${t}:${n.visible}`);return this.#Qt=e.hexdigest()}}class En{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;ce(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,r?.length>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{ce(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ce(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Nn(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Tn(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Nn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=$e(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Tn{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Pn(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const i in t){const e=t[i];void 0!==e&&n.append(i,e)}return n}function Mn(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:i,disableRange:s}=e;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*i)return r;if(s||!n)return r;if("bytes"!==t.get("Accept-Ranges"))return r;return"identity"!==(t.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Dn(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),r(e)}if(n=function(e){const t=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,i,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,s]}const r=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=a(n),e&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(e),n)return r(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),r(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=we(n);n=i.decode(s),t=!1}catch{}}return n}function r(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return s(t,i)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if($e(e))return e}return null}function Rn(e,t){return 404===e||0===e&&t.startsWith("file:")?new ge('Missing PDF "'+t+'".'):new be(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Ln(e){return 200===e||206===e}function In(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Fn(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(oe(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class On{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Pn(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ce(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zn(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Hn(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class zn{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,In(n,this._withCredentials,this._abortController)).then((t=>{if(!Ln(t.status))throw Rn(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:s,suggestedLength:r}=Mn({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=r||this._contentLength,this._filename=Dn(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ve("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Fn(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Hn{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,In(s,this._withCredentials,this._abortController)).then((e=>{if(!Ln(e.status))throw Rn(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Fn(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Bn{constructor(e){let{url:t,httpHeaders:n,withCredentials:i}=e;this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Pn(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,r]of this.headers)t.setRequestHeader(s,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(i.status);const r=function(e){const t=e.response;return"string"!==typeof t?t:we(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:r})}else r?n.onDone({begin:0,chunk:r}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Vn{constructor(e){this._source=e,this._manager=new Bn(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ce(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Un(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new qn(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Un{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map((e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}))),{allowRangeRequests:i,suggestedLength:s}=Mn({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Dn(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Rn(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qn{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Rn(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $n=/^[a-z][a-z0-9\-+.]+:/i;function Gn(e,t,n){if("http:"===e.protocol){return Rt.get("http").request(e,{headers:t},n)}return Rt.get("https").request(e,{headers:t},n)}class Wn{constructor(e){this.source=e,this.url=function(e){if($n.test(e))return new URL(e);const t=Rt.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=Pn(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ce(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Jn(this):new Yn(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Zn(this,e,t):new Qn(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Kn{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ve("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xn{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class Yn extends Kn{constructor(e){super(e);const t=Object.fromEntries(e.headers);this._request=Gn(this._url,t,(t=>{if(404===t.statusCode){const e=new ge(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=new Headers(this._readableStream.headers),{allowRangeRequests:i,suggestedLength:s}=Mn({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Dn(n)})),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class Qn extends Xn{constructor(e,t,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${n-1}`;this._request=Gn(this._url,i,(e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new ge(`Missing PDF "${this._url}".`);this._storedError=e}})),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class Jn extends Kn{constructor(e){super(e);const t=Rt.get("fs");t.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new ge(`Missing PDF "${this._url}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class Zn extends Xn{constructor(e,t,n){super(e);const i=Rt.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}}const ei=30;class ti{#nn=(()=>Promise.withResolvers())();#ue=null;#in=!1;#sn=(()=>!!globalThis.FontInspector?.enabled)();#rn=null;#an=null;#on=0;#ln=0;#cn=null;#dn=null;#hn=0;#un=0;#pn=(()=>Object.create(null))();#mn=[];#fn=null;#gn=[];#bn=(()=>new WeakMap)();#yn=null;static#vn=(()=>new Map)();static#xn=(()=>new Map)();static#wn=(()=>new WeakMap)();static#An=null;static#Sn=(()=>new Set)();constructor(e){let{textContentSource:t,container:n,viewport:i}=e;if(t instanceof ReadableStream)this.#fn=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#fn=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#ue=this.#dn=n,this.#un=i.scale*(globalThis.devicePixelRatio||1),this.#hn=i.rotation,this.#an={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=i.rawDims;this.#yn=[1,0,0,-1,-a,o+r],this.#ln=s,this.#on=r,ti.#kn(),it(n,i),this.#nn.promise.finally((()=>{ti.#Sn.delete(this),this.#an=null,this.#pn=null})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Se.platform;return he(this,"fontFamilyMap",new Map([["sans-serif",(e&&t?"Calibri, ":"")+"sans-serif"],["monospace",(e&&t?"Lucida Console, ":"")+"monospace"]]))}render(){const e=()=>{this.#cn.read().then((t=>{let{value:n,done:i}=t;i?this.#nn.resolve():(this.#rn??=n.lang,Object.assign(this.#pn,n.styles),this.#Cn(n.items),e())}),this.#nn.reject)};return this.#cn=this.#fn.getReader(),ti.#Sn.add(this),e(),this.#nn.promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==this.#hn&&(n?.(),this.#hn=s,it(this.#dn,{rotation:s})),i!==this.#un){n?.(),this.#un=i;const e={div:null,properties:null,ctx:ti.#_n(this.#rn)};for(const t of this.#gn)e.properties=this.#bn.get(t),e.div=t,this.#jn(e)}}cancel(){const e=new ve("TextLayer task cancelled.");this.#cn?.cancel(e).catch((()=>{})),this.#cn=null,this.#nn.reject(e)}get textDivs(){return this.#gn}get textContentItemsStr(){return this.#mn}#Cn(e){if(this.#in)return;this.#an.ctx??=ti.#_n(this.#rn);const t=this.#gn,n=this.#mn;for(const i of e){if(t.length>1e5)return oe("Ignoring additional textDivs for performance reasons."),void(this.#in=!0);if(void 0!==i.str)n.push(i.str),this.#En(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#ue;this.#ue=document.createElement("span"),this.#ue.classList.add("markedContent"),null!==i.id&&this.#ue.setAttribute("id",`${i.id}`),e.append(this.#ue)}else"endMarkedContent"===i.type&&(this.#ue=this.#ue.parentNode)}}#En(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#gn.push(t);const i=Ce.transform(this.#yn,e.transform);let s=Math.atan2(i[1],i[0]);const r=this.#pn[e.fontName];r.vertical&&(s+=Math.PI/2);let a=this.#sn&&r.fontSubstitution||r.fontFamily;a=ti.fontFamilyMap.get(a)||a;const o=Math.hypot(i[2],i[3]),l=o*ti.#Nn(a,this.#rn);let c,d;0===s?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(s),d=i[5]-l*Math.cos(s));const h="calc(var(--scale-factor)*",u=t.style;this.#ue===this.#dn?(u.left=`${(100*c/this.#ln).toFixed(2)}%`,u.top=`${(100*d/this.#on).toFixed(2)}%`):(u.left=`${h}${c.toFixed(2)}px)`,u.top=`${h}${d.toFixed(2)}px)`),u.fontSize=`${h}${(ti.#An*o).toFixed(2)}px)`,u.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#sn&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),0!==s&&(n.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=r.vertical?e.height:e.width),this.#bn.set(t,n),this.#an.div=t,this.#an.properties=n,this.#jn(this.#an),n.hasText&&this.#ue.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#ue.append(e)}}#jn(e){const{div:t,properties:n,ctx:i}=e,{style:s}=t;let r="";if(ti.#An>1&&(r=`scale(${1/ti.#An})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=s,{canvasWidth:a,fontSize:o}=n;ti.#Tn(i,o*this.#un,e);const{width:l}=i.measureText(t.textContent);l>0&&(r=`scaleX(${a*this.#un/l}) ${r}`)}0!==n.angle&&(r=`rotate(${n.angle}deg) ${r}`),r.length>0&&(s.transform=r)}static cleanup(){if(!(this.#Sn.size>0)){this.#vn.clear();for(const{canvas:e}of this.#xn.values())e.remove();this.#xn.clear()}}static#_n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#xn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#xn.set(e,t),this.#wn.set(t,{size:0,family:""})}return t}static#Tn(e,t,n){const i=this.#wn.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#kn(){if(null!==this.#An)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#An=e.getBoundingClientRect().height,e.remove()}static#Nn(e,t){const n=this.#vn.get(e);if(n)return n;const i=this.#_n(t);i.canvas.width=i.canvas.height=ei,this.#Tn(i,ei,e);const s=i.measureText("");let r=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(r){const t=r/(r+a);return this.#vn.set(e,t),i.canvas.width=i.canvas.height=0,t}i.strokeStyle="red",i.clearRect(0,0,ei,ei),i.strokeText("g",0,0);let o=i.getImageData(0,0,ei,ei).data;a=0;for(let c=o.length-1-3;c>=0;c-=4)if(o[c]>0){a=Math.ceil(c/4/ei);break}i.clearRect(0,0,ei,ei),i.strokeText("A",0,ei),o=i.getImageData(0,0,ei,ei).data,r=0;for(let c=0,d=o.length;c<d;c+=4)if(o[c]>0){r=ei-Math.floor(c/4/ei);break}i.canvas.width=i.canvas.height=0;const l=r?r/(r+a):.8;return this.#vn.set(e,l),l}}class ni{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!ni.shouldBuildText(s))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const ii=65536,si=l?class extends _t{_createCanvas(e,t){return Rt.get("canvas").createCanvas(e,t)}}:class extends _t{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},ri=l?class extends jt{async _fetch(e){return Lt(e)}}:Et,ai=l?class extends Nt{}:class extends Nt{#Pn;#Mn;#Dn;#Rn;#Ln;#In;#v=0;constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),this.#Rn=t,this.#Ln=n}get#w(){return this.#Mn||=new Map}get#Fn(){return this.#In||=new Map}get#On(){if(!this.#Dn){const e=this.#Ln.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Ln.createElementNS(ze,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#Dn=this.#Ln.createElementNS(ze,"defs"),e.append(n),n.append(this.#Dn),this.#Ln.body.append(e)}return this.#Dn}#zn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,r[o]=n[o]/255,a[o]=i[o]/255;return[s.join(","),r.join(","),a.join(",")]}#Hn(e){if(void 0===this.#Pn){this.#Pn="";const e=this.#Ln.URL;e!==this.#Ln.baseURI&&(qe(e)?oe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#Pn=e.split("#",1)[0])}return`url(${this.#Pn}#${e})`}addFilter(e){if(!e)return"none";let t=this.#w.get(e);if(t)return t;const[n,i,s]=this.#zn(e),r=1===e.length?n:`${n}${i}${s}`;if(t=this.#w.get(r),t)return this.#w.set(e,t),t;const a=`g_${this.#Rn}_transfer_map_${this.#v++}`,o=this.#Hn(a);this.#w.set(e,o),this.#w.set(r,o);const l=this.#Bn(a);return this.#Vn(n,i,s,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let s=this.#Fn.get(i);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#Fn.set(i,s)),!e||!t)return s.url;const r=this.#Un(e);e=Ce.makeHexColor(...r);const a=this.#Un(t);if(t=Ce.makeHexColor(...a),this.#On.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const o=new Array(256);for(let u=0;u<=255;u++){const e=u/255;o[u]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#Rn}_hcm_filter`,d=s.filter=this.#Bn(c);this.#Vn(l,l,l,d),this.#qn(d);const h=(e,t)=>{const n=r[e]/255,i=a[e]/255,s=new Array(t+1);for(let r=0;r<=t;r++)s[r]=n+r/t*(i-n);return s.join(",")};return this.#Vn(h(0,5),h(1,5),h(2,5),d),s.url=this.#Hn(c),s.url}addAlphaFilter(e){let t=this.#w.get(e);if(t)return t;const[n]=this.#zn([e]),i=`alpha_${n}`;if(t=this.#w.get(i),t)return this.#w.set(e,t),t;const s=`g_${this.#Rn}_alpha_map_${this.#v++}`,r=this.#Hn(s);this.#w.set(e,r),this.#w.set(i,r);const a=this.#Bn(s);return this.#$n(n,a),r}addLuminosityFilter(e){let t,n,i=this.#w.get(e||"luminosity");if(i)return i;if(e?([t]=this.#zn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#w.get(n),i)return this.#w.set(e,i),i;const s=`g_${this.#Rn}_luminosity_map_${this.#v++}`,r=this.#Hn(s);this.#w.set(e,r),this.#w.set(n,r);const a=this.#Bn(s);return this.#Gn(a),e&&this.#$n(t,a),r}addHighlightHCMFilter(e,t,n,i,s){const r=`${t}-${n}-${i}-${s}`;let a=this.#Fn.get(e);if(a?.key===r)return a.url;if(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#Fn.set(e,a)),!t||!n)return a.url;const[o,l]=[t,n].map(this.#Un.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[h,u]=[i,s].map(this.#Un.bind(this));d<c&&([c,d,h,u]=[d,c,u,h]),this.#On.style.color="";const p=(e,t,n)=>{const i=new Array(256),s=(d-c)/n,r=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(c+l*s),t=r+l*a;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m=`g_${this.#Rn}_hcm_${e}_filter`,f=a.filter=this.#Bn(m);return this.#qn(f),this.#Vn(p(h[0],u[0],5),p(h[1],u[1],5),p(h[2],u[2],5),f),a.url=this.#Hn(m),a.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#Fn.size||(this.#Dn&&(this.#Dn.parentNode.parentNode.remove(),this.#Dn=null),this.#Mn&&(this.#Mn.clear(),this.#Mn=null),this.#v=0)}#Gn(e){const t=this.#Ln.createElementNS(ze,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#qn(e){const t=this.#Ln.createElementNS(ze,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Bn(e){const t=this.#Ln.createElementNS(ze,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#On.append(t),t}#Wn(e,t,n){const i=this.#Ln.createElementNS(ze,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Vn(e,t,n,i){const s=this.#Ln.createElementNS(ze,"feComponentTransfer");i.append(s),this.#Wn(s,"feFuncR",e),this.#Wn(s,"feFuncG",t),this.#Wn(s,"feFuncB",n)}#$n(e,t){const n=this.#Ln.createElementNS(ze,"feComponentTransfer");t.append(n),this.#Wn(n,"feFuncA",e)}#Un(e){return this.#On.style.color=e,et(getComputedStyle(this.#On).getPropertyValue("color"))}},oi=l?class extends Tt{async _fetch(e){return Lt(e)}}:Pt;function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new di,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(l&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(l&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return we(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,r=e.httpHeaders||null,a=!0===e.withCredentials,o=e.password??null,c=e.range instanceof hi?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:ii;let h=e.worker instanceof fi?e.worker:null;const u=e.verbosity,p="string"!==typeof e.docBaseUrl||qe(e.docBaseUrl)?null:e.docBaseUrl,m="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,g=e.CMapReaderFactory||ri,b="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,y=e.StandardFontDataFactory||oi,v=!0!==e.stopAtErrors,x=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,A="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!l,S="boolean"===typeof e.isChrome?e.isChrome:!Se.platform.isFirefox&&"undefined"!==typeof window&&!!window?.chrome,k=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,C="boolean"===typeof e.disableFontFace?e.disableFontFace:l,_=!0===e.fontExtraProperties,j=!0===e.enableXfa,E=e.ownerDocument||globalThis.document,N=!0===e.disableRange,T=!0===e.disableStream,P=!0===e.disableAutoFetch,M=!0===e.pdfBug,D=e.CanvasFactory||si,R=e.FilterFactory||ai,L=!0===e.enableHWA,I=c?c.length:e.length??NaN,F="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!l&&!C,O="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:g===Et&&y===Pt&&m&&b&&Xe(m,document.baseURI)&&Xe(b,document.baseURI);e.canvasFactory&&Qe("`canvasFactory`-instance option, please use `CanvasFactory` instead."),e.filterFactory&&Qe("`filterFactory`-instance option, please use `FilterFactory` instead.");se(u);const z={canvasFactory:new D({ownerDocument:E,enableHWA:L}),filterFactory:new R({docId:n,ownerDocument:E}),cMapReaderFactory:O?null:new g({baseUrl:m,isCompressed:f}),standardFontDataFactory:O?null:new y({baseUrl:b})};if(!h){const e={verbosity:u,port:hn.workerPort};h=e.port?fi.fromPort(e):new fi(e),t._worker=h}const H={docId:n,apiVersion:"4.8.69",data:s,password:o,disableAutoFetch:P,rangeChunkSize:d,length:I,docBaseUrl:p,enableXfa:j,evaluatorOptions:{maxImageSize:x,disableFontFace:C,ignoreErrors:v,isEvalSupported:w,isOffscreenCanvasSupported:A,isChrome:S,canvasMaxAreaInBytes:k,fontExtraProperties:_,useSystemFonts:F,cMapUrl:O?m:null,standardFontDataUrl:O?b:null}},B={disableFontFace:C,fontExtraProperties:_,ownerDocument:E,pdfBug:M,styleElement:null,loadingParams:{disableAutoFetch:P,enableXfa:j}};return h.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",H,s?[s.buffer]:null);let o;if(c)o=new En(c,{disableRange:N,disableStream:T});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let e;if(l){e="undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&Xe(i)?On:Wn}else e=Xe(i)?On:Vn;o=new e({url:i,length:I,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:N,disableStream:T})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const i=new Sn(n,e,h.port),s=new gi(i,t,o,B,z);t._transport=s,i.send("Ready",null)}))})).catch(t._capability.reject),t}function ci(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class di{static#Rn=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+di.#Rn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class hi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){le("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ui{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class pi{#Kn=null;#Xn=!1;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Ke:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new yi,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ve({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return he(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:i="display",annotationMode:s=x.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}=e;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(i,s,d,h),{renderingIntent:p,cacheKey:f}=u;this.#Xn=!1,this.#Yn(),o||=this._transport.getOptionalContentConfig(p);let g=this._intentStates.get(f);g||(g=Object.create(null),this._intentStates.set(f,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const b=!!(p&m);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const y=e=>{g.renderTasks.delete(v),(this._maybeCleanupAfterRender||b)&&(this.#Xn=!0),this.#Qn(!b),e?(v.capability.reject(e),this._abortOperatorList({intentState:g,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new xi({callback:y,params:{canvasContext:t,viewport:n,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(v);const w=v.task;return Promise.all([g.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)y();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged()}})).catch(y),w}getOperatorList(){let{intent:e="display",annotationMode:t=x.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this._transport.getRenderingIntent(e,t,n,i,!0);let r,a=this._intentStates.get(s.cacheKey);return a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a)),a.opListReadCapability||(r=Object.create(null),r.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>ni.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),s={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then((function(n){let{value:i,done:r}=n;r?e(s):(s.lang??=i.lang,Object.assign(s.styles,i.styles),s.items.push(...i.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#Xn=!1,this.#Yn(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Xn=!0;const t=this.#Qn(!1);return e&&t&&(this._stats&&=new Ke),t}#Qn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#Yn(),!this.#Xn||this.destroyed)return!1;if(e)return this.#Kn=setTimeout((()=>{this.#Kn=null,this.#Qn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Xn=!1,!0}#Yn(){this.#Kn&&(clearTimeout(this.#Kn),this.#Kn=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Qn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:s}=e;const{map:r,transfer:a}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r,modifiedIds:s},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())}),(e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();this.#Qn(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof Ue){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new ve(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class mi{#Jn=(()=>new Map)();#Zn=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Zn.then((()=>{for(const[e]of this.#Jn)e.call(this,n)}))}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted)return void oe("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",r),s.addEventListener("abort",r)}this.#Jn.set(t,i)}removeEventListener(e,t){const n=this.#Jn.get(t);n?.(),this.#Jn.delete(t)}terminate(){for(const[,e]of this.#Jn)e?.();this.#Jn.clear()}}class fi{static#ei=0;static#ti=!1;static#ni;static#ii=(()=>{l&&(this.#ti=!0,hn.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}})();constructor(){let{name:e=null,port:t=null,verbosity:n=re()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(fi.#ni?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(fi.#ni||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return l?Promise.all([Rt.promise,this._readyCapability.promise]):this._readyCapability.promise}#si(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Sn("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#si()}_initialize(){if(fi.#ti||fi.#ri)return void this._setupFakeWorker();let{workerSrc:e}=fi;try{fi._isSameOrigin(window.location.href,e)||(e=fi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Sn("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",(()=>{this._webWorker||i()}),{signal:s.signal}),n.on("test",(e=>{s.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#si()):i()})),n.on("ready",(e=>{if(s.abort(),this.destroyed)i();else try{r()}catch{this._setupFakeWorker()}}));const r=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void r()}catch{ae("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){fi.#ti||(oe("Setting up fake worker."),fi.#ti=!0),fi._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new mi;this._port=t;const n="fake"+fi.#ei++,i=new Sn(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Sn(n,n+"_worker",t),this.#si()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),fi.#ni?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#ni?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new fi(e)}static get workerSrc(){if(hn.workerSrc)return hn.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#ri(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return he(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#ri)return this.#ri;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class gi{#ai=(()=>new Map)();#oi=(()=>new Map)();#li=(()=>new Map)();#ci=(()=>new Map)();#di=null;constructor(e,t,n,i,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new yi,this.fontLoader=new kt({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#ai.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#ai.set(e,i),i}get annotationStorage(){return he(this,"annotationStorage",new At)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=p,a=wt;switch(e){case"any":r=u;break;case"display":break;case"print":r=m;break;default:oe(`getRenderingIntent - invalid intent: ${e}`)}const o=r&m&&n instanceof St?n:this.annotationStorage;switch(t){case x.DISABLE:r+=b;break;case x.ENABLE:break;case x.ENABLE_FORMS:r+=f;break;case x.ENABLE_STORAGE:r+=g,a=o.serializable;break;default:oe(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(r+=y),s&&(r+=v);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#di?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#oi.values())e.push(n._destroy());this.#oi.clear(),this.#li.clear(),this.#ci.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#ai.clear(),this.filterFactory.destroy(),ti.cleanup(),this._networkStream?.cancelAllRequests(new ve("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{ce(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:i}=e;i?t.close():(ce(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:s}=this._fullReader;return n&&i||(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),{isStreamingSupported:n,isRangeSupported:i,contentLength:s}})),e.on("GetRangeReader",((e,t)=>{ce(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:i}=e;i?t.close():(ce(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new ui(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new pe(e.message,e.code);break;case"InvalidPDFException":n=new fe(e.message);break;case"MissingPDFException":n=new ge(e.message);break;case"UnexpectedResponseException":n=new be(e.message,e.status);break;case"UnknownErrorException":n=new me(e.message,e.details);break;default:le("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#di=Promise.withResolvers(),t.onPassword){const i=e=>{e instanceof Error?this.#di.reject(e):this.#di.resolve({password:e})};try{t.onPassword(i,e.code)}catch(n){this.#di.reject(n)}}else this.#di.reject(new pe(e.message,e.code));return this.#di.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#oi.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,i,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:r,pdfBug:a}=this._params;if("error"in s){const e=s.error;oe(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=a&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new Ct(s,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!r&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=s;ce(c,"The imageRef must be defined.");for(const e of this.#oi.values())for(const[,t]of e.objs)if(t?.ref===c)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null})),e.on("obj",(e=>{let[t,n,i,s]=e;if(this.destroyed)return;const r=this.#oi.get(n);if(!r.objs.has(t))if(0!==r._intentStates.size)switch(i){case"Image":r.objs.resolve(t,s),s?.dataLen>1e7&&(r._maybeCleanupAfterRender=!0);break;case"Pattern":r.objs.resolve(t,s);break;default:throw new Error(`Got unknown object type ${i}`)}else s?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(e)})),e.on("FetchStandardFontData",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#li.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#ci.set(n.refStr,e);const i=new pi(t,n,this,this._params.pdfBug);return this.#oi.set(t,i),i}));return this.#li.set(t,i),i}getPageIndex(e){return ci(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#hi("GetFieldObjects")}hasJSActions(){return this.#hi("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#hi("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#hi("GetOptionalContentConfig").then((t=>new jn(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#ai.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new kn(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#ai.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#oi.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#ai.clear(),this.filterFactory.destroy(!0),ti.cleanup()}}cachedPageNumber(e){if(!ci(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#ci.get(t)??null}}const bi=Symbol("INITIAL_DATA");class yi{#ui=(()=>Object.create(null))();#pi(e){return this.#ui[e]||={...Promise.withResolvers(),data:bi}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#pi(e);return n.promise.then((()=>t(n.data))),null}const n=this.#ui[e];if(!n||n.data===bi)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#ui[e];return!!t&&t.data!==bi}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#pi(e);n.data=t,n.resolve()}clear(){for(const e in this.#ui){const{data:t}=this.#ui[e];t?.bitmap?.close()}this.#ui=Object.create(null)}*[Symbol.iterator](){for(const e in this.#ui){const{data:t}=this.#ui[e];t!==bi&&(yield[e,t])}}}class vi{#mi=null;constructor(e){this.#mi=e,this.onContinue=null}get promise(){return this.#mi.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#mi.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#mi.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#mi;return e.form||e.canvas&&t?.size>0}}class xi{#fi=null;static#gi=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null}=e;this.callback=t,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vi(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(xi.#gi.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");xi.#gi.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:a}=this.params;this.gfx=new dn(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#fi&&(window.cancelAnimationFrame(this.#fi),this.#fi=null),xi.#gi.delete(this._canvas),this.callback(e||new Ue(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#fi=window.requestAnimationFrame((()=>{this.#fi=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),xi.#gi.delete(this._canvas),this.callback())))}}const wi="4.8.69",Ai="3634dab10";function Si(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function ki(e){return Math.max(0,Math.min(255,255*e))}class Ci{static CMYK_G(e){let[t,n,i,s]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=ki(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Si(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(ki)}static RGB_HTML(e){return`#${e.map(Si).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,i,s]=e;return[ki(1-Math.min(1,t+s)),ki(1-Math.min(1,i+s)),ki(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const s=1-t,r=1-n,a=1-i;return["CMYK",s,r,a,Math.min(s,r,a)]}}class _i{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){le("Abstract method `_createSVG` called.")}}class ji extends _i{_createSVG(e){return document.createElementNS(ze,e)}}class Ei{static setupStorage(e,t,n,i,s){const r=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?e.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==r.value){e.setAttribute("value",r.value);for(const e of n.children)e.attributes.value===r.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:s})}))}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:s,linkService:r}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:s,linkService:n});const a="richText"!==s,o=e.div;if(o.append(r),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);r.append(e),a&&ni.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,r]];for(;c.length>0;){const[e,i,r]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const e=document.createTextNode(o.value);l.push(e),r.append(e);continue}const h=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(r.append(h),o.attributes&&this.setAttributes({html:h,element:o,storage:t,intent:s,linkService:n}),o.children?.length>0)c.push([o,-1,h]);else if(o.value){const e=document.createTextNode(o.value);a&&ni.shouldBuildText(d)&&l.push(e),h.append(e)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ni=1e3,Ti=new WeakSet;function Pi(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Mi{static create(e){switch(e.data.annotationType){case M:return new Ri(e);case P:return new Li(e);case K:switch(e.data.fieldType){case"Tx":return new Fi(e);case"Btn":return e.data.radioButton?new Hi(e):e.data.checkBox?new zi(e):new Bi(e);case"Ch":return new Vi(e);case"Sig":return new Oi(e)}return new Ii(e);case G:return new Ui(e);case D:return new $i(e);case R:return new Gi(e);case L:return new Wi(e);case I:return new Ki(e);case O:return new Xi(e);case q:return new Qi(e);case $:return new Ji(e);case F:return new Yi(e);case z:return new Zi(e);case H:return new es(e);case B:return new ts(e);case V:return new ns(e);case U:return new is(e);case W:return new ss(e);default:return new Di(e)}}}class Di{#bi=null;#yi=!1;#vi=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:i}=e;return!!(t?.str||n?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Di._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#bi||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#xi(t),this.#vi?.popup.updateEdited(e)}resetEdited(){this.#bi&&(this.#xi(this.#bi.rect),this.#vi?.popup.resetEdited(),this.#bi=null)}#xi(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=Pi(e);t.left=100*(e[0]-a)/s+"%",t.top=100*(r-e[3]+o)/r+"%",0===i?(t.width=100*l/s+"%",t.height=100*c/r+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ii||(s.tabIndex=Ni);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Ui){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:a,height:o}=Pi(t.rect);if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;r.borderRadius=t}else if(this instanceof Hi){const e=`calc(${a}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;r.borderRadius=e}switch(t.borderStyle.style){case X:r.borderStyle="solid";break;case Y:r.borderStyle="dashed";break;case Q:oe("Unimplemented border style: beveled");break;case J:oe("Unimplemented border style: inset");break;case Z:r.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#yi=!0,r.borderColor=Ce.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=Ce.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:u}=i.rawDims;r.left=100*(l[0]-h)/c+"%",r.top=100*(l[1]-u)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(r.width=100*a/c+"%",r.height=100*o/d+"%"):this.setRotation(p,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:r}=Pi(this.data.rect);let a,o;e%180===0?(a=100*s/n,o=100*r/i):(a=100*r/n,o=100*s/i),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],s=i[0],r=i.slice(1);n.target.style[t]=Ci[`${s}_HTML`](r),this.annotationStorage.setValue(this.data.id,{[t]:Ci[`${s}_rgb`](r)})};return he(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const r=n[i];if(r){r({detail:{[i]:s},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[r,a,o,l]=e.subarray(2,6);if(i===r&&s===a&&t===o&&n===l)return}const{style:r}=this.container;let a;if(this.#yi){const{borderColor:e,borderWidth:t}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),p=`clippath_${this.data.id}`;u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let m=2,f=e.length;m<f;m+=8){const n=e[m],i=e[m+1],r=e[m+2],d=e[m+3],h=c.createElement("rect"),p=(r-t)/o,f=(s-i)/l,g=(n-r)/o,b=(i-d)/l;h.setAttribute("x",p),h.setAttribute("y",f),h.setAttribute("width",g),h.setAttribute("height",b),u.append(h),a?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${f}" width="${g}" height="${b}"/>`)}this.#yi&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{data:e}=this,t=this.#vi=new Ui({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){le("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:r}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof r?r:null,a=document.querySelector(`[data-element-id="${s}"]`);!a||Ti.has(a)?n.push({id:s,exportValue:i,domElement:a}):oe(`_getElementsByName - element not allowed: ${s}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,s=i.getAttribute("data-element-id");s!==t&&(Ti.has(i)&&n.push({id:s,exportValue:e,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class Ri extends Di{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#wi(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#Ai(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#Si(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#Si()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#Si()}#wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#Si()}#Ai(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#Si()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=n.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#Si()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#Si(),!this._fieldObjects)return oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:s}=t,r=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&r.push(n)}else for(const t of Object.values(this._fieldObjects))r.push(...t);const a=this.annotationStorage,o=[];for(const t of r){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(Ti.has(n)?n.dispatchEvent(new Event("resetform")):oe(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class Li extends Di{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ii extends Di{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Se.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e)}})}))}_setEventListeners(e,t,n,i){for(const[s,r]of n)("Action"===r||this.data.actions?.[r])&&("Focus"!==r&&"Blur"!==r||(t||={focused:!1}),this._setEventListener(e,t,s,r,i),"Focus"!==r||this.data.actions?.Blur?"Blur"!==r||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Ce.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let r;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(h*i))||1);r=Math.min(i,a(t/h))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(i,a(e/h))}s.fontSize=`calc(${r}px * var(--scale-factor))`,s.color=Ce.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Fi extends Ii{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=n),s.setValue(r.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const r=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let a=i.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ti.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Ni,this._setRequired(n,this.data.required),r&&(n.maxLength=r),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let r=o.userValue;!r||r.length<=i||(r=r.slice(0,i),s.value=o.userValue=r,e.setValue(t,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:i}=e,{value:s,selectionStart:r,selectionEnd:a}=i;let l=r,c=a;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(r).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":r===a&&(l-=1);break;case"deleteContentForward":r===a&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/r;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Oi extends Ii{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class zi extends Ii{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ti.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ni,s.addEventListener("change",(i=>{const{name:s,checked:r}=i.target;for(const a of this._getElementsByName(s,n)){const n=r&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:r})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Hi extends Ii{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const r of this._getElementsByName(t.fieldName,n))e.setValue(r.id,{value:!1});const s=document.createElement("input");if(Ti.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ni,s.addEventListener("change",(t=>{const{name:i,checked:s}=t.target;for(const r of this._getElementsByName(i,n))e.setValue(r.id,{value:!1});e.setValue(n,{value:s})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",(t=>{const s={value:t=>{const s=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=s&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Bi extends Ri{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class Vi extends Ii{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ti.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ni;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),s=!1),i.append(e)}let r=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),r=()=>{e.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){r?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const e of i.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){i.multiple=!0},remove(n){const s=i.options,r=n.detail.remove;if(s[r].selected=!1,i.remove(r),s.length>0){-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:s,displayValue:r,exportValue:c}=n.detail.insert,d=i.children[s],h=document.createElement("option");h.textContent=r,h.value=c,d?d.before(h):i.append(h),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{const i=a(!0),s=a(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Ui extends Di{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Di._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new qi({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${Ne}${e}`)).join(",")),this.container}}class qi{#ki=this.#Ci.bind(this);#_i=this.#ji.bind(this);#Ei=this.#Ni.bind(this);#Ti=this.#Pi.bind(this);#Mi=null;#ue=null;#Di=null;#Ri=null;#Li=null;#Ii=null;#Fi=null;#Oi=!1;#zi=null;#_=null;#Hi=null;#Bi=null;#Vi=null;#bi=null;#Ui=!1;constructor(e){let{container:t,color:n,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h}=e;this.#ue=t,this.#Vi=s,this.#Di=a,this.#Bi=o,this.#Ii=l,this.#Mi=n,this.#Hi=c,this.#Fi=d,this.#Li=i,this.#Ri=Je.toDateObject(r),this.trigger=i.flatMap((e=>e.getElementsToTriggerPopup()));for(const u of this.trigger)u.addEventListener("click",this.#Ti),u.addEventListener("mouseenter",this.#Ei),u.addEventListener("mouseleave",this.#_i),u.classList.add("popupTriggerArea");for(const u of i)u.container?.addEventListener("keydown",this.#ki);this.#ue.hidden=!0,h&&this.#Pi()}render(){if(this.#zi)return;const e=this.#zi=document.createElement("div");if(e.className="popup",this.#Mi){const t=e.style.outlineColor=Ce.makeHexColor(...this.#Mi);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=Ce.makeHexColor(...this.#Mi.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Vi),e.append(t),this.#Ri){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#Ri.valueOf()})),t.append(e)}const i=this.#qi;if(i)Ei.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#Di);e.append(t)}this.#ue.append(e)}get#qi(){const e=this.#Bi,t=this.#Di;return!e?.str||t?.str&&t.str!==e.str?null:this.#Bi.html||null}get#$i(){return this.#qi?.attributes?.style?.fontSize||0}get#Gi(){return this.#qi?.attributes?.style?.color||null}#Wi(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#Gi,fontSize:this.#$i?`calc(${this.#$i}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:i});return n}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const e=s[r];i.append(document.createTextNode(e)),r<a-1&&i.append(document.createElement("br"))}return i}#Ci(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Oi)&&this.#Pi()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#bi||={contentsObj:this.#Di,richText:this.#Bi},t&&(this.#_=null),n&&(this.#Bi=this.#Wi(n),this.#Di=null),this.#zi?.remove(),this.#zi=null}resetEdited(){this.#bi&&(({contentsObj:this.#Di,richText:this.#Bi}=this.#bi),this.#bi=null,this.#zi?.remove(),this.#zi=null,this.#_=null)}#Ki(){if(null!==this.#_)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=this.#Ii;let r=!!this.#Fi,a=r?this.#Fi:this.#Hi;for(const u of this.#Li)if(!a||null!==Ce.intersect(u.data.rect,a)){a=u.data.rect,r=!0;break}const o=Ce.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,d=o[1];this.#_=[100*(c-i)/t,100*(d-s)/n];const{style:h}=this.#ue;h.left=`${this.#_[0]}%`,h.top=`${this.#_[1]}%`}#Pi(){this.#Oi=!this.#Oi,this.#Oi?(this.#Ni(),this.#ue.addEventListener("click",this.#Ti),this.#ue.addEventListener("keydown",this.#ki)):(this.#ji(),this.#ue.removeEventListener("click",this.#Ti),this.#ue.removeEventListener("keydown",this.#ki))}#Ni(){this.#zi||this.render(),this.isVisible?this.#Oi&&this.#ue.classList.add("focused"):(this.#Ki(),this.#ue.hidden=!1,this.#ue.style.zIndex=parseInt(this.#ue.style.zIndex)+1e3)}#ji(){this.#ue.classList.remove("focused"),!this.#Oi&&this.isVisible&&(this.#ue.hidden=!0,this.#ue.style.zIndex=parseInt(this.#ue.style.zIndex)-1e3)}forceHide(){this.#Ui=this.isVisible,this.#Ui&&(this.#ue.hidden=!0)}maybeShow(){this.#Ui&&(this.#zi||this.#Ni(),this.#Ui=!1,this.#ue.hidden=!1)}get isVisible(){return!1===this.#ue.hidden}}class $i extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=w.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Gi extends Di{#Xi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Pi(e.rect),i=this.svgFactory.create(t,n,!0),s=this.#Xi=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Xi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Wi extends Di{#Yi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Pi(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,r=this.#Yi=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",t-s),r.setAttribute("height",n-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Yi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ki extends Di{#Qi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Pi(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,r=this.#Qi=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",n/2),r.setAttribute("rx",t/2-s/2),r.setAttribute("ry",n/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Qi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Xi extends Di{#Ji=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i}}=this;if(!t)return this.container;const{width:s,height:r}=Pi(e),a=this.svgFactory.create(s,r,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push(`${n},${i}`)}o=o.join(" ");const l=this.#Ji=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ji}addHighlightArea(){this.container.classList.add("highlightArea")}}class Yi extends Xi{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qi extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ji extends Di{#Zi=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?w.HIGHLIGHT:w.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:i}}=this,{width:s,height:r}=Pi(e),a=this.svgFactory.create(s,r,!0);for(const o of t){let t=[];for(let n=0,s=o.length;n<s;n+=2){const i=o[n]-e[0],s=e[3]-o[n+1];t.push(`${i},${s}`)}t=t.join(" ");const i=this.svgFactory.createElement(this.svgElementName);this.#Zi.push(i),i.setAttribute("points",t),i.setAttribute("stroke-width",n.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#Zi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Zi extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=w.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class es extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ts extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ns extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class is extends Di{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=w.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ss extends Di{#es=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#ts.bind(this)),this.#es=n;const{isMac:i}=Se.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#ts()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#es}addHighlightArea(){this.container.classList.add("highlightArea")}#ts(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class rs{#ns=null;#is=null;#ss=(()=>new Map)();#rs=null;constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:o}=e;this.div=t,this.#ns=n,this.#is=i,this.#rs=o||null,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#ss.size>0}async#as(e,t){const n=e.firstChild||e,i=n.id=`${Ne}${t}`,s=await(this.#rs?.getAriaAttributes(i));if(s)for(const[r,a]of s)n.setAttribute(r,a);this.div.append(e),this.#ns?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;it(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new ji,annotationStorage:e.annotationStorage||new At,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===G;if(e){const e=i.get(r.id);if(!e)continue;s.elements=e}else{const{width:e,height:t}=Pi(r.rect);if(e<=0||t<=0)continue}s.data=r;const t=Mi.create(s);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=i.get(r.popupRef);e?e.push(t):i.set(r.popupRef,[t])}const n=t.render();r.hidden&&(n.style.visibility="hidden"),await this.#as(n,r.id),t._isEditable&&(this.#ss.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#os()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,it(n,{rotation:t.rotation}),this.#os(),n.hidden=!1}#os(){if(!this.#is)return;const e=this.div;for(const[t,n]of this.#is){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}this.#is.clear()}getEditableAnnotations(){return Array.from(this.#ss.values())}getEditableAnnotation(e){return this.#ss.get(e)}}const as=/\r\n?|\n/g;class os extends ft{#Mi;#ls="";#cs=`${this.id}-editor`;#ds=null;#$i;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=os.prototype,t=e=>e.isEmpty(),n=pt.TRANSLATE_SMALL,i=pt.TRANSLATE_BIG;return he(this,"_keyboardManager",new ht([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=(()=>w.FREETEXT)();constructor(e){super({...e,name:"freeTextEditor"}),this.#Mi=e.color||os._defaultColor||ft._defaultLineColor,this.#$i=e.fontSize||os._defaultFontSize}static initialize(e,t){ft.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case A.FREETEXT_SIZE:os._defaultFontSize=t;break;case A.FREETEXT_COLOR:os._defaultColor=t}}updateParams(e,t){switch(e){case A.FREETEXT_SIZE:this.#hs(t);break;case A.FREETEXT_COLOR:this.#us(t)}}static get defaultPropertiesToUpdate(){return[[A.FREETEXT_SIZE,os._defaultFontSize],[A.FREETEXT_COLOR,os._defaultColor||ft._defaultLineColor]]}get propertiesToUpdate(){return[[A.FREETEXT_SIZE,this.#$i],[A.FREETEXT_COLOR,this.#Mi]]}#hs(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#$i)*this.parentScale),this.#$i=e,this.#ps()},n=this.#$i;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#us(e){const t=e=>{this.#Mi=this.editorDiv.style.color=e},n=this.#Mi;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-os._internalPadding*e,-(os._internalPadding+this.#$i)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(w.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#ds=new AbortController;const e=this._uiManager.combinedSignal(this.#ds);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#cs),this._isDraggable=!0,this.#ds?.abort(),this.#ds=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#ms(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&"BR"===n.nodeName||(e.push(os.#fs(n)),t=n);return e.join("\n")}#ps(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,s=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#ls,t=this.#ls=this.#ms().trimEnd();if(e===t)return;const n=e=>{this.#ls=e,e?(this.#gs(),this._uiManager.rebuild(this),this.#ps()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#ps()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){os._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#cs),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#$i}px * var(--scale-factor))`,n.color=this.#Mi,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ot(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(s[0]-c)/o,u=t+this.height-(s[1]-d)/l;break;case 90:h=e+(s[0]-c)/o,u=t-(s[1]-d)/l,[r,a]=[a,-r];break;case 180:h=e-this.width+(s[0]-c)/o,u=t-(s[1]-d)/l,[r,a]=[-r,-a];break;case 270:h=e+(s[0]-c-this.height*l)/o,u=t+(s[1]-d-this.width*o)/l,[r,a]=[-a,r]}this.setAt(h*n,u*i,r,a)}else this.setAt(e*n,t*i,this.width*n,this.height*i);this.#gs(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#fs(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(as,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=os.#bs(t.getData("text")||"").replaceAll(as,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(as,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(os.#fs(n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(as,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(os.#fs(n))}this.#ls=`${l.join("\n")}${i}${c.join("\n")}`,this.#gs();const d=new Range;let h=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}s.removeAllRanges(),s.addRange(d)}#gs(){if(this.editorDiv.replaceChildren(),this.#ls)for(const e of this.#ls.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#ys(){return this.#ls.replaceAll("\xa0"," ")}static#bs(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let i=null;if(e instanceof $i){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:r,id:a,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;i=e={annotationType:w.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:s.slice(0),rotation:r,id:a,deleted:!1,popupRef:o}}const s=await super.deserialize(e,t,n);return s.#$i=e.fontSize,s.#Mi=Ce.makeHexColor(...e.color),s.#ls=os.#bs(e.value),s.annotationElementId=e.id||null,s._initialData=i,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=os._internalPadding*this.parentScale,n=this.getRect(t,t),i=ft._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Mi),s={annotationType:w.FREETEXT,color:i,fontSize:this.#$i,value:this.#ys(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#vs(s)?null:(s.id=this.annotationElementId,s)}#vs(e){const{value:t,fontSize:n,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#$i}px * var(--scale-factor))`,n.color=this.#Mi,t.replaceChildren();for(const s of this.#ls.split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}const i=os._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#ls}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ls{toSVGPath(){le("Abstract method `toSVGPath` must be implemented.")}get box(){le("Abstract getter `box` must be implemented.")}serialize(e,t){le("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){le("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){le("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class cs{#xs;#ws=[];#As;#Ss;#ks=[];#Cs=(()=>new Float64Array(18))();#_s;#js;#Es;#Ns;#Ts;#Ps;#Ms=[];static#Ds=8;static#Rs=2;static#Ls=(()=>cs.#Ds+cs.#Rs)();constructor(e,t,n,i,s){let{x:r,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#xs=t,this.#Ps=i*n,this.#Ss=s,this.#Cs.set([NaN,NaN,NaN,NaN,r,a],6),this.#As=o,this.#Ns=cs.#Ds*n,this.#Es=cs.#Ls*n,this.#Ts=n,this.#Ms.push(r,a)}isEmpty(){return isNaN(this.#Cs[8])}#Is(){const e=this.#Cs.subarray(4,6),t=this.#Cs.subarray(16,18),[n,i,s,r]=this.#xs;return[(this.#_s+(e[0]-t[0])/2-n)/s,(this.#js+(e[1]-t[1])/2-i)/r,(this.#_s+(t[0]-e[0])/2-n)/s,(this.#js+(t[1]-e[1])/2-i)/r]}add(e){let{x:t,y:n}=e;this.#_s=t,this.#js=n;const[i,s,r,a]=this.#xs;let[o,l,c,d]=this.#Cs.subarray(8,12);const h=t-c,u=n-d,p=Math.hypot(h,u);if(p<this.#Es)return!1;const m=p-this.#Ns,f=m/p,g=f*h,b=f*u;let y=o,v=l;o=c,l=d,c+=g,d+=b,this.#Ms?.push(t,n);const x=g/m,w=-b/m*this.#Ps,A=x*this.#Ps;if(this.#Cs.set(this.#Cs.subarray(2,8),0),this.#Cs.set([c+w,d+A],4),this.#Cs.set(this.#Cs.subarray(14,18),12),this.#Cs.set([c-w,d-A],16),isNaN(this.#Cs[6]))return 0===this.#ks.length&&(this.#Cs.set([o+w,l+A],2),this.#ks.push(NaN,NaN,NaN,NaN,(o+w-i)/r,(l+A-s)/a),this.#Cs.set([o-w,l-A],14),this.#ws.push(NaN,NaN,NaN,NaN,(o-w-i)/r,(l-A-s)/a)),this.#Cs.set([y,v,o,l,c,d],6),!this.isEmpty();this.#Cs.set([y,v,o,l,c,d],6);return Math.abs(Math.atan2(v-l,y-o)-Math.atan2(b,g))<Math.PI/2?([o,l,c,d]=this.#Cs.subarray(2,6),this.#ks.push(NaN,NaN,NaN,NaN,((o+c)/2-i)/r,((l+d)/2-s)/a),[o,l,y,v]=this.#Cs.subarray(14,18),this.#ws.push(NaN,NaN,NaN,NaN,((y+o)/2-i)/r,((v+l)/2-s)/a),!0):([y,v,o,l,c,d]=this.#Cs.subarray(0,6),this.#ks.push(((y+5*o)/6-i)/r,((v+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),[c,d,o,l,y,v]=this.#Cs.subarray(12,18),this.#ws.push(((y+5*o)/6-i)/r,((v+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#ks,t=this.#ws;if(isNaN(this.#Cs[6])&&!this.isEmpty())return this.#Fs();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#Os(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#zs(n),n.join(" ")}#Fs(){const[e,t,n,i]=this.#xs,[s,r,a,o]=this.#Is();return`M${(this.#Cs[2]-e)/n} ${(this.#Cs[3]-t)/i} L${(this.#Cs[4]-e)/n} ${(this.#Cs[5]-t)/i} L${s} ${r} L${a} ${o} L${(this.#Cs[16]-e)/n} ${(this.#Cs[17]-t)/i} L${(this.#Cs[14]-e)/n} ${(this.#Cs[15]-t)/i} Z`}#zs(e){const t=this.#ws;e.push(`L${t[4]} ${t[5]} Z`)}#Os(e){const[t,n,i,s]=this.#xs,r=this.#Cs.subarray(4,6),a=this.#Cs.subarray(16,18),[o,l,c,d]=this.#Is();e.push(`L${(r[0]-t)/i} ${(r[1]-n)/s} L${o} ${l} L${c} ${d} L${(a[0]-t)/i} ${(a[1]-n)/s}`)}newFreeDrawOutline(e,t,n,i,s,r){return new ds(e,t,n,i,s,r)}getOutlines(){const e=this.#ks,t=this.#ws,n=this.#Cs,[i,s,r,a]=this.#xs,o=new Float64Array((this.#Ms?.length??0)+2);for(let d=0,h=o.length-2;d<h;d+=2)o[d]=(this.#Ms[d]-i)/r,o[d+1]=(this.#Ms[d+1]-s)/a;if(o[o.length-2]=(this.#_s-i)/r,o[o.length-1]=(this.#js-s)/a,isNaN(n[6])&&!this.isEmpty())return this.#Hs(o);const l=new Float64Array(this.#ks.length+24+this.#ws.length);let c=e.length;for(let d=0;d<c;d+=2)isNaN(e[d])?l[d]=l[d+1]=NaN:(l[d]=e[d],l[d+1]=e[d+1]);c=this.#Bs(l,c);for(let d=t.length-6;d>=6;d-=6)for(let e=0;e<6;e+=2)isNaN(t[d+e])?(l[c]=l[c+1]=NaN,c+=2):(l[c]=t[d+e],l[c+1]=t[d+e+1],c+=2);return this.#Vs(l,c),this.newFreeDrawOutline(l,o,this.#xs,this.#Ts,this.#As,this.#Ss)}#Hs(e){const t=this.#Cs,[n,i,s,r]=this.#xs,[a,o,l,c]=this.#Is(),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/r,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/r,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/r,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/r],0),this.newFreeDrawOutline(d,e,this.#xs,this.#Ts,this.#As,this.#Ss)}#Vs(e,t){const n=this.#ws;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}#Bs(e,t){const n=this.#Cs.subarray(4,6),i=this.#Cs.subarray(16,18),[s,r,a,o]=this.#xs,[l,c,d,h]=this.#Is();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/a,(n[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-r)/o],t),t+24}}class ds extends ls{#xs;#Us=null;#As;#Ss;#Ms;#Ts;#qs;constructor(e,t,n,i,s,r){super(),this.#qs=e,this.#Ms=t,this.#xs=n,this.#Ts=i,this.#As=s,this.#Ss=r,this.#$s(r);const{x:a,y:o,width:l,height:c}=this.#Us;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=[`M${this.#qs[4]} ${this.#qs[5]}`];for(let t=6,n=this.#qs.length;t<n;t+=6)isNaN(this.#qs[t])?e.push(`L${this.#qs[t+4]} ${this.#qs[t+5]}`):e.push(`C${this.#qs[t]} ${this.#qs[t+1]} ${this.#qs[t+2]} ${this.#qs[t+3]} ${this.#qs[t+4]} ${this.#qs[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,s,r]=e;const a=s-n,o=r-i;let l,c;switch(t){case 0:l=this.#Gs(this.#qs,n,r,a,-o),c=this.#Gs(this.#Ms,n,r,a,-o);break;case 90:l=this.#Ws(this.#qs,n,i,a,o),c=this.#Ws(this.#Ms,n,i,a,o);break;case 180:l=this.#Gs(this.#qs,s,i,-a,o),c=this.#Gs(this.#Ms,s,i,-a,o);break;case 270:l=this.#Ws(this.#qs,s,r,-a,-o),c=this.#Ws(this.#Ms,s,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#Gs(e,t,n,i,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a]*i,r[a+1]=n+e[a+1]*s;return r}#Ws(e,t,n,i,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a+1]*i,r[a+1]=n+e[a]*s;return r}#$s(e){const t=this.#qs;let n=t[4],i=t[5],s=n,r=i,a=n,o=i,l=n,c=i;const d=e?Math.max:Math.min;for(let f=6,g=t.length;f<g;f+=6){if(isNaN(t[f]))s=Math.min(s,t[f+4]),r=Math.min(r,t[f+5]),a=Math.max(a,t[f+4]),o=Math.max(o,t[f+5]),c<t[f+5]?(l=t[f+4],c=t[f+5]):c===t[f+5]&&(l=d(l,t[f+4]));else{const e=Ce.bezierBoundingBox(n,i,...t.slice(f,f+6));s=Math.min(s,e[0]),r=Math.min(r,e[1]),a=Math.max(a,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=d(l,e[2]))}n=t[f+4],i=t[f+5]}const h=s-this.#As,u=r-this.#As,p=a-s+2*this.#As,m=o-r+2*this.#As;this.#Us={x:h,y:u,width:p,height:m,lastPoint:[l,c]}}get box(){return this.#Us}newOutliner(e,t,n,i,s){return new cs(e,t,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const{x:n,y:i,width:s,height:r}=this.#Us,[a,o,l,c]=this.#xs,d=s*l,h=r*c,u=n*l+a,p=i*c+o,m=this.newOutliner({x:this.#Ms[0]*d+u,y:this.#Ms[1]*h+p},this.#xs,this.#Ts,e,this.#Ss,t??this.#As);for(let f=2;f<this.#Ms.length;f+=2)m.add({x:this.#Ms[f]*d+u,y:this.#Ms[f+1]*h+p});return m.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class hs{#xs;#Ks=[];#Xs=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=1/0,r=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:f,y:g,width:b,height:y}of e){const e=Math.floor((f-t)/l)*l,n=Math.ceil((f+b+t)/l)*l,i=Math.floor((g-t)/l)*l,c=Math.ceil((g+y+t)/l)*l,d=[e,i,c,!0],h=[n,i,c,!1];this.#Ks.push(d,h),s=Math.min(s,e),r=Math.max(r,n),a=Math.min(a,i),o=Math.max(o,c)}const c=r-s+2*n,d=o-a+2*n,h=s-n,u=a-n,p=this.#Ks.at(i?-1:-2),m=[p[0],p[2]];for(const f of this.#Ks){const[e,t,n]=f;f[0]=(e-h)/c,f[1]=(t-u)/d,f[2]=(n-u)/d}this.#xs={x:h,y:u,width:c,height:d,lastPoint:m}}getOutlines(){this.#Ks.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#Ks)t[3]?(e.push(...this.#Ys(t)),this.#Qs(t)):(this.#Js(t),e.push(...this.#Ys(t)));return this.#Zs(e)}#Zs(e){const t=[],n=new Set;for(const r of e){const[e,n,i]=r;t.push([e,n,r],[e,i,r])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let r=0,a=t.length;r<a;r+=2){const e=t[r][2],i=t[r+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,r,a,o,l]=e;n.delete(e);let c=t,d=r;for(s=[t,a],i.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,r,a,o,l]=e,c!==t&&(s.push(c,d,t,d===r?r:a),c=t),d=d===r?a:r}s.push(c,d)}return new us(i,this.#xs)}#er(e){const t=this.#Xs;let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,r=t[s][0];if(r===e)return s;r<e?n=s+1:i=s-1}return i+1}#Qs(e){let[,t,n]=e;const i=this.#er(t);this.#Xs.splice(i,0,[t,n])}#Js(e){let[,t,n]=e;const i=this.#er(t);for(let s=i;s<this.#Xs.length;s++){const[e,i]=this.#Xs[s];if(e!==t)break;if(e===t&&i===n)return void this.#Xs.splice(s,1)}for(let s=i-1;s>=0;s--){const[e,i]=this.#Xs[s];if(e!==t)break;if(e===t&&i===n)return void this.#Xs.splice(s,1)}}#Ys(e){const[t,n,i]=e,s=[[t,n,i]],r=this.#er(i);for(let a=0;a<r;a++){const[e,n]=this.#Xs[a];for(let i=0,r=s.length;i<r;i++){const[,a,o]=s[i];if(!(n<=a||o<=e))if(a>=e)if(o>n)s[i][1]=n;else{if(1===r)return[];s.splice(i,1),i--,r--}else s[i][2]=e,o>n&&s.push([t,n,o])}}return s}}class us extends ls{#xs;#tr;constructor(e,t){super(),this.#tr=e,this.#xs=t}toSVGPath(){const e=[];for(const t of this.#tr){let[n,i]=t;e.push(`M${n} ${i}`);for(let s=2;s<t.length;s+=2){const r=t[s],a=t[s+1];r===n?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${r}`),n=r)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,s,r]=e;const a=[],o=s-n,l=r-i;for(const c of this.#tr){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=r-c[t+1]*l;a.push(e)}return a}get box(){return this.#xs}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class ps extends cs{newFreeDrawOutline(e,t,n,i,s,r){return new ms(e,t,n,i,s,r)}get classNamesForDrawing(){return["highlight","free"]}}class ms extends ds{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,i,s){return new ps(e,t,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}class fs{#nr=null;#ir=null;#sr;#rr=null;#ar=!1;#or=!1;#r=null;#lr;#cr=null;#f=null;#dr;static#hr=null;static get _keyboardManager(){return he(this,"_keyboardManager",new ht([[["Escape","mac+Escape"],fs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],fs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],fs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],fs.prototype._moveToPrevious],[["Home","mac+Home"],fs.prototype._moveToBeginning],[["End","mac+End"],fs.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#or=!1,this.#dr=A.HIGHLIGHT_COLOR,this.#r=t):(this.#or=!0,this.#dr=A.HIGHLIGHT_DEFAULT_COLOR),this.#f=t?._uiManager||n,this.#lr=this.#f._eventBus,this.#sr=t?.color||this.#f?.highlightColors.values().next().value||"#FFFF98",fs.#hr||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#nr=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#f._signal;e.addEventListener("click",this.#ur.bind(this),{signal:t}),e.addEventListener("keydown",this.#Ci.bind(this),{signal:t});const n=this.#ir=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#sr,e.append(n),e}renderMainDropdown(){const e=this.#rr=this.#pr();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#pr(){const e=document.createElement("div"),t=this.#f._signal;e.addEventListener("contextmenu",Ye,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of this.#f.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",fs.#hr[n]);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=i,s.setAttribute("aria-selected",i===this.#sr),s.addEventListener("click",this.#mr.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#Ci.bind(this),{signal:t}),e}#mr(e,t){t.stopPropagation(),this.#lr.dispatch("switchannotationeditorparams",{source:this,type:this.#dr,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#nr)return void this.#ur(e);const t=e.target.getAttribute("data-color");t&&this.#mr(t,e)}_moveToNext(e){this.#fr?e.target!==this.#nr?e.target.nextSibling?.focus():this.#rr.firstChild?.focus():this.#ur(e)}_moveToPrevious(e){e.target!==this.#rr?.firstChild&&e.target!==this.#nr?(this.#fr||this.#ur(e),e.target.previousSibling?.focus()):this.#fr&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#fr?this.#rr.firstChild?.focus():this.#ur(e)}_moveToEnd(e){this.#fr?this.#rr.lastChild?.focus():this.#ur(e)}#Ci(e){fs._keyboardManager.exec(this,e)}#ur(e){if(this.#fr)return void this.hideDropdown();if(this.#ar=0===e.detail,this.#cr||(this.#cr=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#f.combinedSignal(this.#cr)})),this.#rr)return void this.#rr.classList.remove("hidden");const t=this.#rr=this.#pr();this.#nr.append(t)}#c(e){this.#rr?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#rr?.classList.add("hidden"),this.#cr?.abort(),this.#cr=null}get#fr(){return this.#rr&&!this.#rr.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#or||(this.#fr?(this.hideDropdown(),this.#nr.focus({preventScroll:!0,focusVisible:this.#ar})):this.#r?.unselect())}updateColor(e){if(this.#ir&&(this.#ir.style.backgroundColor=e),!this.#rr)return;const t=this.#f.highlightColors.values();for(const n of this.#rr.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#nr?.remove(),this.#nr=null,this.#ir=null,this.#rr?.remove(),this.#rr=null}}class gs extends ft{#gr=null;#br=0;#yr;#vr=null;#s=null;#xr=null;#wr=null;#Ar=0;#Sr=null;#kr=null;#v=null;#Cr=!1;#_r=null;#jr;#Er=null;#Nr="";#Ps;#Tr="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=(()=>w.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=gs.prototype;return he(this,"_keyboardManager",new ht([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||gs._defaultColor,this.#Ps=e.thickness||gs._defaultThickness,this.#jr=e.opacity||gs._defaultOpacity,this.#yr=e.boxes||null,this.#Tr=e.methodOfCreation||"",this.#Nr=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#Cr=!0,this.#Pr(e),this.#Mr()):this.#yr&&(this.#gr=e.anchorNode,this.#br=e.anchorOffset,this.#wr=e.focusNode,this.#Ar=e.focusOffset,this.#Dr(),this.#Mr(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#Cr?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Ps,methodOfCreation:this.#Tr}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#Dr(){const e=new hs(this.#yr,.001);this.#kr=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#kr.box);const t=new hs(this.#yr,.0025,.001,"ltr"===this._uiManager.direction);this.#xr=t.getOutlines();const{lastPoint:n}=this.#xr.box;this.#_r=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#Pr(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;this.#kr=t;if(this.#xr=t.getNewOutline(this.#Ps/2+1.5,.0025),n>=0)this.#v=n,this.#vr=i,this.parent.drawLayer.finalizeLine(n,t),this.#Er=this.parent.drawLayer.drawOutline(this.#xr);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#v,t),this.parent.drawLayer.updateBox(this.#v,gs.#Rr(this.#kr.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#Er,this.#xr),this.parent.drawLayer.updateBox(this.#Er,gs.#Rr(this.#xr.box,e))}const{x:s,y:r,width:a,height:o}=t.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=this.#xr.box;this.#_r=[(l[0]-s)/a,(l[1]-r)/o]}static initialize(e,t){ft.initialize(e,t),gs._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case A.HIGHLIGHT_DEFAULT_COLOR:gs._defaultColor=t;break;case A.HIGHLIGHT_THICKNESS:gs._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#_r}updateParams(e,t){switch(e){case A.HIGHLIGHT_COLOR:this.#us(t);break;case A.HIGHLIGHT_THICKNESS:this.#Lr(t)}}static get defaultPropertiesToUpdate(){return[[A.HIGHLIGHT_DEFAULT_COLOR,gs._defaultColor],[A.HIGHLIGHT_THICKNESS,gs._defaultThickness]]}get propertiesToUpdate(){return[[A.HIGHLIGHT_COLOR,this.color||gs._defaultColor],[A.HIGHLIGHT_THICKNESS,this.#Ps||gs._defaultThickness],[A.HIGHLIGHT_FREE,this.#Cr]]}#us(e){const t=(e,t)=>{this.color=e,this.parent?.drawLayer.changeColor(this.#v,e),this.#s?.updateColor(e),this.#jr=t,this.parent?.drawLayer.changeOpacity(this.#v,t)},n=this.color,i=this.#jr;this.addCommands({cmd:t.bind(this,e,gs._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#Lr(e){const t=this.#Ps,n=e=>{this.#Ps=e,this.#Ir(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#s=new fs({editor:this}),e.addColorPicker(this.#s)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#Fr())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#Fr())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#Or(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#Mr(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#Or():e&&(this.#Mr(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#Ir(e){if(!this.#Cr)return;this.#Pr({highlightOutlines:this.#kr.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#Or(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#Er),this.#Er=null)}#Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#v&&(({id:this.#v,clipPathId:this.#vr}=e.drawLayer.draw(this.#kr,this.color,this.#jr)),this.#Er=e.drawLayer.drawOutline(this.#xr),this.#Sr&&(this.#Sr.style.clipPath=this.#vr))}static#Rr(e,t){let{x:n,y:i,width:s,height:r}=e;switch(t){case 90:return{x:1-i-r,y:n,width:r,height:s};case 180:return{x:1-n-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-n-s,width:r,height:s}}return{x:n,y:i,width:s,height:r}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#Cr?(e=(e-this.rotation+360)%360,n=gs.#Rr(this.#kr.box,e)):n=gs.#Rr(this,e),t.rotate(this.#v,e),t.rotate(this.#Er,e),t.updateBox(this.#v,n),t.updateBox(this.#Er,gs.#Rr(this.#xr.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#Nr&&(e.setAttribute("aria-label",this.#Nr),e.setAttribute("role","mark")),this.#Cr?e.classList.add("free"):this.div.addEventListener("keydown",this.#zr.bind(this),{signal:this._uiManager._signal});const t=this.#Sr=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#vr;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),ot(this,this.#Sr,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#Er,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#Er,"hovered")}#zr(e){gs._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#Hr(!0);break;case 1:case 3:this.#Hr(!1)}}#Hr(e){if(!this.#gr)return;const t=window.getSelection();e?t.setPosition(this.#gr,this.#br):t.setPosition(this.#wr,this.#Ar)}select(){super.select(),this.#Er&&(this.parent?.drawLayer.removeClass(this.#Er,"hovered"),this.parent?.drawLayer.addClass(this.#Er,"selected"))}unselect(){super.unselect(),this.#Er&&(this.parent?.drawLayer.removeClass(this.#Er,"selected"),this.#Cr||this.#Hr(!1))}get _mustFixPosition(){return!this.#Cr}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#v,e),this.parent.drawLayer.show(this.#Er,e))}#Fr(){return this.#Cr?this.rotation:0}#Br(){if(this.#Cr)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,s=this.#yr,r=new Float32Array(8*s.length);let a=0;for(const{x:o,y:l,width:c,height:d}of s){const s=o*e+n,h=(1-l-d)*t+i;r[a]=r[a+4]=s,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=s+c*e,r[a+5]=r[a+7]=h+d*t,a+=8}return r}#Vr(e){return this.#kr.serialize(e,this.#Fr())}static startHighlighting(e,t,n){let{target:i,x:s,y:r}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),u=t=>{d.abort(),this.#Ur(e,t)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ye,{signal:h}),i.addEventListener("pointermove",this.#qr.bind(this,e),{signal:h}),this._freeHighlight=new ps({x:s,y:r},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#qr(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Ur(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof Zi){const{data:{quadPoints:t,rect:n,rotation:s,id:r,color:a,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:w.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,id:r,deleted:!1,popupRef:l}}else if(e instanceof Ji){const{data:{inkLists:t,rect:n,rotation:s,id:r,color:a,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;i=e={annotationType:w.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,id:r,deleted:!1,popupRef:l}}const{color:s,quadPoints:r,inkLists:a,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=Ce.makeHexColor(...s),l.#jr=o||1,a&&(l.#Ps=e.thickness),l.annotationElementId=e.id||null,l._initialData=i;const[c,d]=l.pageDimensions,[h,u]=l.pageTranslation;if(r){const e=l.#yr=[];for(let t=0;t<r.length;t+=8)e.push({x:(r[t]-h)/c,y:1-(r[t+1]-u)/d,width:(r[t+2]-r[t])/c,height:(r[t+1]-r[t+5])/d});l.#Dr(),l.#Mr(),l.rotate(l.rotation)}else if(a){l.#Cr=!0;const e=a[0],n={x:e[0]-h,y:d-(e[1]-u)},i=new ps(n,[0,0,c,d],1,l.#Ps/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)n.x=e[t]-h,n.y=d-(e[t+1]-u),i.add(n);const{id:s,clipPathId:r}=t.drawLayer.draw(i,l.color,l._defaultOpacity,!0);l.#Pr({highlightOutlines:i.getOutlines(),highlightId:s,clipPathId:r}),l.#Mr()}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=ft._colorManager.convert(this.color),i={annotationType:w.HIGHLIGHT,color:n,opacity:this.#jr,thickness:this.#Ps,quadPoints:this.#Br(),outlines:this.#Vr(t),pageIndex:this.pageIndex,rect:t,rotation:this.#Fr(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#vs(i)?null:(i.id=this.annotationElementId,i)}#vs(e){const{color:t}=this._initialData;return e.color.some(((e,n)=>e!==t[n]))}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class bs extends ft{#$r=0;#Gr=0;#Wr=null;#Kr=(()=>new Path2D)();#Xr=!1;#Yr=null;#Qr=!1;#Jr=!1;#Zr=null;#ea=null;#ta=0;#na=0;#ia=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>w.INK)();constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){ft.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case A.INK_THICKNESS:bs._defaultThickness=t;break;case A.INK_COLOR:bs._defaultColor=t;break;case A.INK_OPACITY:bs._defaultOpacity=t/100}}updateParams(e,t){switch(e){case A.INK_THICKNESS:this.#Lr(t);break;case A.INK_COLOR:this.#us(t);break;case A.INK_OPACITY:this.#sa(t)}}static get defaultPropertiesToUpdate(){return[[A.INK_THICKNESS,bs._defaultThickness],[A.INK_COLOR,bs._defaultColor||ft._defaultLineColor],[A.INK_OPACITY,Math.round(100*bs._defaultOpacity)]]}get propertiesToUpdate(){return[[A.INK_THICKNESS,this.thickness||bs._defaultThickness],[A.INK_COLOR,this.color||bs._defaultColor||ft._defaultLineColor],[A.INK_OPACITY,Math.round(100*(this.opacity??bs._defaultOpacity))]]}#Lr(e){const t=e=>{this.thickness=e,this.#ra()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#us(e){const t=e=>{this.color=e,this.#aa()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#sa(e){const t=e=>{this.opacity=e,this.#aa()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:A.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#oa(),this.#la()),this.isAttachedToDOM||(this.parent.add(this),this.#ca()),this.#ra()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Wr&&(clearTimeout(this.#Wr),this.#Wr=null),this.#Zr?.disconnect(),this.#Zr=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){this.#Xr||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#da())}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#ha())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#ua(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#pa(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:s,scaleFactor:r}=this;e.lineWidth=i*s/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#ma(e,t){this.canvas.addEventListener("contextmenu",Ye,{signal:this._uiManager._signal}),this.#ha(),this.#Yr=new AbortController;const n=this._uiManager.combinedSignal(this.#Yr);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,this.#Jr||(this.#Jr=!0,this.#ca(),this.thickness||=bs._defaultThickness,this.color||=bs._defaultColor||ft._defaultLineColor,this.opacity??=bs._defaultOpacity),this.currentPath.push([e,t]),this.#Qr=!1,this.#pa(),this.#ia=()=>{this.#fa(),this.#ia&&window.requestAnimationFrame(this.#ia)},window.requestAnimationFrame(this.#ia)}#ga(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const s=this.currentPath;let r=this.#Kr;if(s.push([e,t]),this.#Qr=!0,s.length<=2)return r.moveTo(...s[0]),void r.lineTo(e,t);3===s.length&&(this.#Kr=r=new Path2D,r.moveTo(...s[0])),this.#ba(r,...s.at(-3),...s.at(-2),e,t)}#ya(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Kr.lineTo(...e)}#va(e,t){let n;if(this.#ia=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#ga(e,t),this.#ya(),1!==this.currentPath.length)n=this.#xa();else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Kr,s=this.currentPath;this.currentPath=[],this.#Kr=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#oa(),this.#la()),this.#ra())},mustExec:!0})}#fa(){if(!this.#Qr)return;this.#Qr=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),i=t.map((e=>e[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(this.#Kr),s.restore()}#ba(e,t,n,i,s,r,a){const o=(t+i)/2,l=(n+s)/2,c=(i+r)/2,d=(s+a)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(s-l)/3,c+2*(i-c)/3,d+2*(s-d)/3,c,d)}#xa(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,s]=e[0];for(n=1;n<e.length-2;n++){const[r,a]=e[n],[o,l]=e[n+1],c=(r+o)/2,d=(a+l)/2,h=[i+2*(r-i)/3,s+2*(a-s)/3],u=[c+2*(r-c)/3,d+2*(a-d)/3];t.push([[i,s],h,u,[c,d]]),[i,s]=[c,d]}const[r,a]=e[n],[o,l]=e[n+1],c=[i+2*(r-i)/3,s+2*(a-s)/3],d=[o+2*(r-o)/3,l+2*(a-l)/3];return t.push([[i,s],c,d,[o,l]]),t}#aa(){if(this.isEmpty())return void this.#wa();this.#pa();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#wa();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Xr||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Xr=!0,this.div.classList.add("disabled"),this.#ra(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#da(){if(this.#ea)return;this.#ea=new AbortController;const e=this._uiManager.combinedSignal(this.#ea);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#ha(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Xr&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#ma(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#ga(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#Aa(e)}canvasPointerleave(e){this.#Aa(e)}#Aa(e){this.#Yr?.abort(),this.#Yr=null,this.#da(),this.#Wr&&clearTimeout(this.#Wr),this.#Wr=setTimeout((()=>{this.#Wr=null,this.canvas.removeEventListener("contextmenu",Ye)}),10),this.#va(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#oa(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#la(){this.#Zr=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Zr.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Zr?.disconnect(),this.#Zr=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Xr}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,s,r]=this.#ua();if(this.setAt(n,i,0,0),this.setDims(s,r),this.#oa(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),this.#Jr=!0,this.#ca(),this.setDims(this.width*n,this.height*i),this.#aa(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#la(),this.div}#ca(){if(!this.#Jr)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#wa()}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(this.#ta===n&&this.#na===i)return;this.#ta=n,this.#na=i,this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=e/s,this.height=t/r,this.fixAndSetPosition(),this.#Xr&&this.#Sa(e,t),this.#ca(),this.#aa(),this.canvas.style.visibility="visible",this.fixDims()}#Sa(e,t){const n=this.#ka(),i=(e-n)/this.#Gr,s=(t-n)/this.#$r;this.scaleFactor=Math.min(i,s)}#wa(){const e=this.#ka()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#Ca(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,s,r,a]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(s[0],s[1],r[0],r[1],a[0],a[1])}return t}static#_a(e,t,n){const[i,s,r,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=r-e[t],e[t+1]+=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=r-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}static#ja(e,t,n){const[i,s,r,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-s,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=r-e[t],e[t+1]-=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=r-n}break;default:throw new Error("Invalid rotation")}return e}#Ea(e,t,n,i){const s=[],r=this.thickness/2,a=e*t+r,o=e*n+r;for(const l of this.paths){const t=[],n=[];for(let i=0,s=l.length;i<s;i++){const[r,c,d,h]=l[i];if(r[0]===h[0]&&r[1]===h[1]&&1===s){const i=e*r[0]+a,s=e*r[1]+o;t.push(i,s),n.push(i,s);break}const u=e*r[0]+a,p=e*r[1]+o,m=e*c[0]+a,f=e*c[1]+o,g=e*d[0]+a,b=e*d[1]+o,y=e*h[0]+a,v=e*h[1]+o;0===i&&(t.push(u,p),n.push(u,p)),t.push(m,f,g,b,y,v),n.push(m,f),i===s-1&&n.push(y,v)}s.push({bezier:bs.#_a(t,i,this.rotation),points:bs.#_a(n,i,this.rotation)})}return s}#Na(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[r,a,o,l]of s){const s=Ce.bezierBoundingBox(...r,...a,...o,...l);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}#ka(){return this.#Xr?Math.ceil(this.thickness*this.parentScale):0}#ra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Xr)return void this.#aa();const t=this.#Na(),n=this.#ka();this.#Gr=Math.max(ft.MIN_SIZE,t[2]-t[0]),this.#$r=Math.max(ft.MIN_SIZE,t[3]-t[1]);const i=Math.ceil(n+this.#Gr*this.scaleFactor),s=Math.ceil(n+this.#$r*this.scaleFactor),[r,a]=this.parentDimensions;this.width=i/r,this.height=s/a,this.setAspectRatio(i,s);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#ca(),this.#aa(),this.#ta=i,this.#na=s,this.setDims(i,s);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static async deserialize(e,t,n){if(e instanceof Ji)return null;const i=await super.deserialize(e,t,n);i.thickness=e.thickness,i.color=Ce.makeHexColor(...e.color),i.opacity=e.opacity;const[s,r]=i.pageDimensions,a=i.width*s,o=i.height*r,l=i.parentScale,c=e.thickness/2;i.#Xr=!0,i.#ta=Math.round(a),i.#na=Math.round(o);const{paths:d,rect:h,rotation:u}=e;for(let{bezier:m}of d){m=bs.#ja(m,h,u);const e=[];i.paths.push(e);let t=l*(m[0]-c),n=l*(m[1]-c);for(let i=2,r=m.length;i<r;i+=6){const s=l*(m[i]-c),r=l*(m[i+1]-c),a=l*(m[i+2]-c),o=l*(m[i+3]-c),d=l*(m[i+4]-c),h=l*(m[i+5]-c);e.push([[t,n],[s,r],[a,o],[d,h]]),t=d,n=h}const s=this.#Ca(e);i.bezierPath2D.push(s)}const p=i.#Na();return i.#Gr=Math.max(ft.MIN_SIZE,p[2]-p[0]),i.#$r=Math.max(ft.MIN_SIZE,p[3]-p[1]),i.#Sa(a,o),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=ft._colorManager.convert(this.ctx.strokeStyle);return{annotationType:w.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#Ea(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class ys extends ft{#Ta=null;#Pa=null;#Ma=null;#Da=null;#Ra=null;#La="";#Ia=null;#Zr=null;#Fa=null;#Oa=!1;#za=!1;static _type="stamp";static _editorType=(()=>w.STAMP)();constructor(e){super({...e,name:"stampEditor"}),this.#Da=e.bitmapUrl,this.#Ra=e.bitmapFile}static initialize(e,t){ft.initialize(e,t)}static get supportedTypes(){return he(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return he(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(w.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#Ha(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#Ta=e.bitmap,t||(this.#Pa=e.id,this.#Oa=e.isSvg),e.file&&(this.#La=e.file.name),this.#oa()):this.remove()}#Ba(){if(this.#Ma=null,this._uiManager.enableWaiting(!1),this.#Ia){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ta)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ta){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:r}=e||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:i,width:s,height:r,channels:i.length/(s*r)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}#Va(){if(this.#Pa)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#Pa).then((e=>this.#Ha(e,!0))).finally((()=>this.#Ba()));if(this.#Da){const e=this.#Da;return this.#Da=null,this._uiManager.enableWaiting(!0),void(this.#Ma=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#Ha(e))).finally((()=>this.#Ba())))}if(this.#Ra){const e=this.#Ra;return this.#Ra=null,this._uiManager.enableWaiting(!0),void(this.#Ma=this._uiManager.imageManager.getFromFile(e).then((e=>this.#Ha(e))).finally((()=>this.#Ba())))}const e=document.createElement("input");e.type="file",e.accept=ys.supportedTypesStr;const t=this._uiManager._signal;this.#Ma=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#Ha(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Ba())),e.click()}remove(){this.#Pa&&(this.#Ta=null,this._uiManager.imageManager.deleteId(this.#Pa),this.#Ia?.remove(),this.#Ia=null,this.#Zr?.disconnect(),this.#Zr=null,this.#Fa&&(clearTimeout(this.#Fa),this.#Fa=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#Pa&&null===this.#Ia&&this.#Va(),this.isAttachedToDOM||this.parent.add(this))):this.#Pa&&this.#Va()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#Ma||this.#Ta||this.#Da||this.#Ra||this.#Pa)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#Ta?this.#oa():this.#Va(),this.width&&!this.annotationElementId){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}#oa(){const{div:e}=this;let{width:t,height:n}=this.#Ta;const[i,s]=this.pageDimensions,r=.75;if(this.width)t=this.width*i,n=this.height*s;else if(t>r*i||n>r*s){const e=Math.min(r*i/t,r*s/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/i,n*o/s),this._uiManager.enableWaiting(!1);const l=this.#Ia=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),this.#Ua(t,n),this.#la(),this.#za||(this.parent.addUndoableEditor(this),this.#za=!0),this._reportTelemetry({action:"inserted_image"}),this.#La&&l.setAttribute("aria-label",this.#La)}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:i,height:s}=this.#Ta,r=new st;let a=this.#Ta,o=i,l=s,c=null;if(t){if(i>t||s>t){const e=Math.min(t/i,t/s);o=Math.floor(i*e),l=Math.floor(s*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*r.sx),n=c.height=Math.ceil(l*r.sy);this.#Oa||(a=this.#qa(e,n));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let h="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(h="#8f8f9d",u="#42414d");const p=15,m=p*r.sx,f=p*r.sy,g=new OffscreenCanvas(2*m,2*f),b=g.getContext("2d");b.fillStyle=h,b.fillRect(0,0,2*m,2*f),b.fillStyle=u,b.fillRect(0,0,m,f),b.fillRect(m,f,m,f),d.fillStyle=d.createPattern(g,"repeat"),d.fillRect(0,0,e,n),d.drawImage(a,0,0,a.width,a.height,0,0,e,n)}let d=null;if(n){let t,n;if(r.symmetric&&a.width<e&&a.height<e)t=a.width,n=a.height;else if(a=this.#Ta,i>e||s>e){const r=Math.min(e/i,e/s);t=Math.floor(i*r),n=Math.floor(s*r),this.#Oa||(a=this.#qa(t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,t,n),d={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:d}}#$a(e,t){const[n,i]=this.parentDimensions;this.width=e/n,this.height=t/i,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#Fa&&clearTimeout(this.#Fa);this.#Fa=setTimeout((()=>{this.#Fa=null,this.#Ua(e,t)}),200)}#qa(e,t){const{width:n,height:i}=this.#Ta;let s=n,r=i,a=this.#Ta;for(;s>2*e||r>2*t;){const n=s,i=r;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(s,r);o.getContext("2d").drawImage(a,0,0,n,i,0,0,s,r),a=o.transferToImageBitmap()}return a}#Ua(e,t){const n=new st,i=Math.ceil(e*n.sx),s=Math.ceil(t*n.sy),r=this.#Ia;if(!r||r.width===i&&r.height===s)return;r.width=i,r.height=s;const a=this.#Oa?this.#Ta:this.#qa(i,s),o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(a,0,0,a.width,a.height,0,0,i,s)}getImageForAltText(){return this.#Ia}#Ga(e){if(e){if(this.#Oa){const e=this._uiManager.imageManager.getSvgUrl(this.#Pa);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#Ta);return e.getContext("2d").drawImage(this.#Ta,0,0),e.toDataURL()}if(this.#Oa){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*He.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*He.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(this.#Ta,0,0,this.#Ta.width,this.#Ta.height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(this.#Ta)}#la(){this._uiManager._signal&&(this.#Zr=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#$a(t.width,t.height)})),this.#Zr.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Zr?.disconnect(),this.#Zr=null}),{once:!0}))}static async deserialize(e,t,n){let i=null;if(e instanceof is){const{data:{rect:s,rotation:r,id:a,structParent:o,popupRef:l},container:c,parent:{page:{pageNumber:d}}}=e,h=c.querySelector("canvas"),u=n.imageManager.getFromCanvas(c.id,h);h.remove();const p=(await t._structTree.getAriaAttributes(`${Ne}${a}`))?.get("aria-label")||"";i=e={annotationType:w.STAMP,bitmapId:u.id,bitmap:u.bitmap,pageIndex:d-1,rect:s.slice(0),rotation:r,id:a,deleted:!1,accessibilityData:{decorative:!1,altText:p},isSvg:!1,structParent:o,popupRef:l}}const s=await super.deserialize(e,t,n),{rect:r,bitmap:a,bitmapUrl:o,bitmapId:l,isSvg:c,accessibilityData:d}=e;l&&n.imageManager.isValidId(l)?(s.#Pa=l,a&&(s.#Ta=a)):s.#Da=o,s.#Oa=c;const[h,u]=s.pageDimensions;return s.width=(r[2]-r[0])/h,s.height=(r[3]-r[1])/u,s.annotationElementId=e.id||null,d&&(s.altTextData=d),s._initialData=i,s.#za=!!i,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:w.STAMP,bitmapId:this.#Pa,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#Oa,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Ga(!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const e=this.#vs(n);if(e.isSame)return null;e.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||=new Map;const r=this.#Oa?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#Pa)){if(this.#Oa){const e=t.stamps.get(this.#Pa);r>e.area&&(e.area=r,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Ga(!1))}}else t.stamps.set(this.#Pa,{area:r,serialized:n}),n.bitmap=this.#Ga(!1);return n}#vs(e){const{rect:t,pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=e.rect.every(((e,n)=>Math.abs(e-t[n])<1)),r=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===i;return{isSame:s&&r&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class vs{#ns;#Wa=!1;#Ka=null;#Xa=null;#Ya=null;#Qa=(()=>new Map)();#Ja=!1;#Za=!1;#eo=!1;#to=null;#no=null;#f;static _initialized=!1;static#H=(()=>new Map([os,bs,ys,gs].map((e=>[e._editorType,e]))))();constructor(e){let{uiManager:t,pageIndex:n,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;const h=[...vs.#H.values()];if(!vs._initialized){vs._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),this.#f=t,this.pageIndex=n,this.div=i,this.#ns=r,this.#Ka=a,this.viewport=c,this.#to=l,this.drawLayer=o,this._structTree=s,this.#f.addLayer(this)}get isEmpty(){return 0===this.#Qa.size}get isInvisible(){return this.isEmpty&&this.#f.getMode()===w.NONE}updateToolbar(e){this.#f.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#f.getMode();switch(this.#io(),e){case w.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case w.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case w.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of vs.#H.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#to?.div}addInkEditorIfNeeded(e){if(this.#f.getMode()!==w.INK)return;if(!e)for(const t of this.#Qa.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#f.setEditingState(e)}addCommands(e){this.#f.addCommands(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ka?.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#Qa.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#f.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#Ka)return;const t=this.#Ka.getEditableAnnotations();for(const n of t){if(n.hide(),this.#f.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#eo=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of this.#Qa.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):e.set(i.annotationElementId,i));if(this.#Ka){const n=this.#Ka.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#f.isDeletedAnnotationElement(n))continue;let s=t.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=e.get(n),s&&(this.#f.addChangedExistingAnnotation(s),s.renderAnnotationElement(i)&&s.show(!1)),i.show())}}this.#io(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of vs.#H.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#eo=!1}getEditableAnnotation(e){return this.#Ka?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#f.getActive()!==e&&this.#f.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#to?.div&&!this.#no){this.#no=new AbortController;const e=this.#f.combinedSignal(this.#no);this.#to.div.addEventListener("pointerdown",this.#so.bind(this),{signal:e}),this.#to.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#to?.div&&this.#no&&(this.#no.abort(),this.#no=null,this.#to.div.classList.remove("highlighting"))}#so(e){this.#f.unselectAll();const{target:t}=e;if(t===this.#to.div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&this.#to.div.contains(t)){const{isMac:t}=Se.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#f.showAllEditors("highlight",!0,!0),this.#to.div.classList.add("free"),this.toggleDrawing(),gs.startHighlighting(this,"ltr"===this.#f.direction,{target:this.#to.div,x:e.x,y:e.y}),this.#to.div.addEventListener("pointerup",(()=>{this.#to.div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:this.#f._signal}),e.preventDefault()}}enableClick(){if(this.#Xa)return;this.#Xa=new AbortController;const e=this.#f.combinedSignal(this.#Xa);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#Xa?.abort(),this.#Xa=null}attach(e){this.#Qa.set(e.id,e);const{annotationElementId:t}=e;t&&this.#f.isDeletedAnnotationElement(t)&&this.#f.removeDeletedAnnotationElement(e)}detach(e){this.#Qa.delete(e.id),this.#ns?.removePointerInTextLayer(e.contentDiv),!this.#eo&&e.annotationElementId&&this.#f.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#f.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#Za||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#f.addDeletedAnnotationElement(e.annotationElementId),ft.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#f.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#f.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Ya&&(e._focusEventsAllowed=!1,this.#Ya=setTimeout((()=>{this.#Ya=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#f._signal}),t.focus())}),0)),e._structTreeParentId=this.#ns?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#f.getId()}get#ro(){return vs.#H.get(this.#f.getMode())}combinedSignal(e){return this.#f.combinedSignal(e)}#ao(e){const t=this.#ro;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#ro?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#f.updateToolbar(e),this.#f.updateMode(e);const{offsetX:n,offsetY:i}=this.#oo(),s=this.getNextId(),r=this.#ao({parent:this,id:s,x:n,y:i,uiManager:this.#f,isCentered:!0,...t});r&&this.add(r)}async deserialize(e){return await(vs.#H.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#f))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=this.#ao({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#f,isCentered:t,...n});return s&&this.add(s),s}#oo(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),r=Math.max(0,t),a=(s+Math.min(window.innerWidth,e+n))/2-e,o=(r+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#oo(),!0)}setSelected(e){this.#f.setSelected(e)}toggleSelected(e){this.#f.toggleSelected(e)}unselect(e){this.#f.unselect(e)}pointerup(e){const{isMac:t}=Se.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Ja&&(this.#Ja=!1,this.#Wa?this.#f.getMode()!==w.STAMP?this.createAndAddNewEditor(e,!1):this.#f.unselectAll():this.#Wa=!0)}pointerdown(e){if(this.#f.getMode()===w.HIGHLIGHT&&this.enableTextSelection(),this.#Ja)return void(this.#Ja=!1);const{isMac:t}=Se.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Ja=!0;const n=this.#f.getActive();this.#Wa=!n||n.isEmpty()}findNewParent(e,t,n){const i=this.#f.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){this.#f.getActive()?.parent===this&&(this.#f.commitOrRemove(),this.#f.setActiveEditor(null)),this.#Ya&&(clearTimeout(this.#Ya),this.#Ya=null);for(const e of this.#Qa.values())this.#ns?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Qa.clear(),this.#f.removeLayer(this)}#io(){this.#Za=!0;for(const e of this.#Qa.values())e.isEmpty()&&e.remove();this.#Za=!1}render(e){let{viewport:t}=e;this.viewport=t,it(this.div,t);for(const n of this.#f.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#f.commitOrRemove(),this.#io();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,it(this.div,{rotation:i}),n!==i)for(const s of this.#Qa.values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#f.viewParameters.realScale}}class xs{#Ii=null;#v=0;#lo=(()=>new Map)();#co=(()=>new Map)();constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#Ii){if(this.#Ii!==e){if(this.#lo.size>0)for(const t of this.#lo.values())t.remove(),e.append(t);this.#Ii=e}}else this.#Ii=e}static get _svgFactory(){return he(this,"_svgFactory",new ji)}static#do(e){let{x:t=0,y:n=0,width:i=1,height:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:r}=e;r.top=100*n+"%",r.left=100*t+"%",r.width=100*i+"%",r.height=100*s+"%"}#ho(e){const t=xs._svgFactory.create(1,1,!0);return this.#Ii.append(t),t.setAttribute("aria-hidden",!0),xs.#do(t,e),t}#uo(e,t){const n=xs._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=xs._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}draw(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=this.#v++,r=this.#ho(e.box);r.classList.add(...e.classNamesForDrawing);const a=xs._svgFactory.createElement("defs");r.append(a);const o=xs._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),i&&this.#co.set(s,o);const c=this.#uo(a,l),d=xs._svgFactory.createElement("use");return r.append(d),r.setAttribute("fill",t),r.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),this.#lo.set(s,r),{id:s,clipPathId:`url(#${c})`}}drawOutline(e){const t=this.#v++,n=this.#ho(e.box);n.classList.add(...e.classNamesForOutlining);const i=xs._svgFactory.createElement("defs");n.append(i);const s=xs._svgFactory.createElement("path");i.append(s);const r=`path_p${this.pageIndex}_${t}`;let a;if(s.setAttribute("id",r),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.mustRemoveSelfIntersections){const e=xs._svgFactory.createElement("mask");i.append(e),a=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",a),e.setAttribute("maskUnits","objectBoundingBox");const n=xs._svgFactory.createElement("rect");e.append(n),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("fill","white");const s=xs._svgFactory.createElement("use");e.append(s),s.setAttribute("href",`#${r}`),s.setAttribute("stroke","none"),s.setAttribute("fill","black"),s.setAttribute("fill-rule","nonzero"),s.classList.add("mask")}const o=xs._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${r}`),a&&o.setAttribute("mask",`url(#${a})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#lo.set(t,n),t}finalizeLine(e,t){const n=this.#co.get(e);this.#co.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#lo.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#co.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){xs.#do(this.#lo.get(e),t)}show(e,t){this.#lo.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#lo.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#lo.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#lo.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#lo.get(e).classList.add(t)}removeClass(e,t){this.#lo.get(e).classList.remove(t)}getSVGRoot(e){return this.#lo.get(e)}remove(e){this.#co.delete(e),null!==this.#Ii&&(this.#lo.get(e).remove(),this.#lo.delete(e))}destroy(){this.#Ii=null;for(const e of this.#lo.values())e.remove();this.#lo.clear(),this.#co.clear()}}var ws=o.AnnotationLayer,As=o.AnnotationMode,Ss=o.GlobalWorkerOptions,ks=o.PDFDataRangeTransport,Cs=o.TextLayer,_s=o.getDocument,js=o.version,Es=n(579),Ns=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Ts=Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns(Ns([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Ps(e,t){var n={};return Ts.forEach((function(i){var s=e[i];s&&(n[i]=t?function(e){return s(e,t(i))}:s)})),n}function Ms(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&i(e)}))})),cancel:function(){t=!0}}}function Ds(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ds(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const Rs=function(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ds(e))&&(i&&(i+=" "),i+=t);return i};var Ls="Invariant failed";function Is(e,t){if(!e)throw new Error(Ls)}var Fs=n(440),Os=Object.prototype.hasOwnProperty;function zs(e,t,n){for(n of e.keys())if(Hs(n,t))return n}function Hs(e,t){var n,i,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Hs(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((s=i)&&"object"===typeof s&&!(s=zs(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((s=i[0])&&"object"===typeof s&&!(s=zs(t,s)))return!1;if(!Hs(i[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"===typeof e){for(n in i=0,e){if(Os.call(e,n)&&++i&&!Os.call(t,n))return!1;if(!(n in t)||!Hs(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!==e&&t!==t}const Bs=(0,s.createContext)(null);function Vs(e){let{children:t,type:n}=e;return(0,Es.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:t})}class Us{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Is(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Is(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{Is(this.pdfDocument),Is(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{Is(Array.isArray(e));const t=e[0];new Promise((e=>{Is(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{Is(!1)})):"number"===typeof t?e(t):Is(!1)})).then((t=>{const n=t+1;Is(this.pdfViewer),Is(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Is(this.pdfViewer),Is(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const qs={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},$s="undefined"!==typeof window,Gs=$s&&"file:"===window.location.protocol;function Ws(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Ks(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function Xs(e){Is(Ks(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Ys(){return $s&&window.devicePixelRatio||1}const Qs="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Js(){Fs(!Gs,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Qs}`)}function Zs(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function er(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function tr(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function nr(){return(0,s.useReducer)(tr,{value:void 0,error:void 0})}var ir=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function o(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))},sr=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const{Tm:rr}=i,ar=(e,t)=>{switch(t){case qs.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case qs.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function or(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const lr=(0,s.forwardRef)((function(e,t){var{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF\u2026",noData:u="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:f,onLoadSuccess:g,onPassword:b=ar,onSourceError:y,onSourceSuccess:v,options:x,renderMode:w,rotate:A}=e,S=sr(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[k,C]=nr(),{value:_,error:j}=k,[E,N]=nr(),{value:T,error:P}=E,M=(0,s.useRef)(new Us),D=(0,s.useRef)([]),R=(0,s.useRef)(void 0),L=(0,s.useRef)(void 0);l&&l!==R.current&&or(l)&&(Fs(!Hs(l,R.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),R.current=l),x&&x!==L.current&&(Fs(!Hs(x,L.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),L.current=x);const I=(0,s.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:i=n-1}=e;if(p)return void p({dest:t,pageIndex:i,pageNumber:n});const s=D.current[i];s?s.scrollIntoView():Fs(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,s.useImperativeHandle)(t,(()=>({linkService:M,pages:D,viewer:I})),[]),(0,s.useEffect)((function(){C({type:"RESET"})}),[l,C]);const F=(0,s.useCallback)((()=>ir(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(Ks(l)){return{data:Xs(l)}}return Js(),{url:l}}if(l instanceof rr)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if($s&&function(e){return Is($s),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));t(i.result)},i.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)}))}(l);return{data:e}}if(Is("object"===typeof l),Is(or(l)),"url"in l&&"string"===typeof l.url){if(Ks(l.url)){const{url:e}=l,t=sr(l,["url"]),n=Xs(e);return Object.assign({data:n},t)}Js()}return l}))),[l]);(0,s.useEffect)((()=>{const e=Ms(F());return e.promise.then((e=>{C({type:"RESOLVE",value:e})})).catch((e=>{C({type:"REJECT",error:e})})),()=>{Zs(e)}}),[F,C]),(0,s.useEffect)((()=>{"undefined"!==typeof _&&(!1!==_?v&&v():j&&(Fs(!1,j.toString()),y&&y(j)))}),[_]),(0,s.useEffect)((function(){N({type:"RESET"})}),[N,_]),(0,s.useEffect)((function(){if(!_)return;const e=x?Object.assign(Object.assign({},_),x):_,t=_s(e);f&&(t.onProgress=f),b&&(t.onPassword=b);const n=t,i=n.promise.then((e=>{N({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||N({type:"REJECT",error:e})}));return()=>{i.finally((()=>n.destroy()))}}),[x,N,_]),(0,s.useEffect)((()=>{"undefined"!==typeof T&&(!1!==T?T&&(g&&g(T),D.current=new Array(T.numPages),M.current.setDocument(T)):P&&(Fs(!1,P.toString()),m&&m(P)))}),[T]),(0,s.useEffect)((function(){M.current.setViewer(I.current),M.current.setExternalLinkRel(a),M.current.setExternalLinkTarget(o)}),[a,o]);const O=(0,s.useCallback)(((e,t)=>{D.current[e]=t}),[]),z=(0,s.useCallback)((e=>{delete D.current[e]}),[]),H=(0,s.useMemo)((()=>({imageResourcesPath:d,linkService:M.current,onItemClick:p,pdf:T,registerPage:O,renderMode:w,rotate:A,unregisterPage:z})),[d,p,T,O,w,A,z]),B=(0,s.useMemo)((()=>Ps(S,(()=>T))),[S,T]);return(0,Es.jsx)("div",Object.assign({className:Rs("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},B,{children:l?void 0===T||null===T?(0,Es.jsx)(Vs,{type:"loading",children:"function"===typeof h?h():h}):!1===T?(0,Es.jsx)(Vs,{type:"error",children:"function"===typeof r?r():r}):(0,Es.jsx)(Bs.Provider,{value:H,children:n}):(0,Es.jsx)(Vs,{type:"no-data",children:"function"===typeof u?u():u})}))}));function cr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const dr=(0,s.createContext)(null),hr={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ur=/^H(\d+)$/;function pr(e){return"children"in e}function mr(e){return!!pr(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function fr(e){const t={};if(pr(e)){const{role:n}=e,i=n.match(ur);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(function(e){return e in hr}(n)){const e=hr[n];e&&(t.role=e)}}return t}function gr(e){const t={};if(pr(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),mr(e)){const[n]=e.children;if(n){const e=gr(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function br(e){return e?Object.assign(Object.assign({},fr(e)),gr(e)):null}function yr(e){let{className:t,node:n}=e;const i=(0,s.useMemo)((()=>br(n)),[n]),r=(0,s.useMemo)((()=>pr(n)?mr(n)?null:n.children.map(((e,t)=>(0,Es.jsx)(yr,{node:e},t))):null),[n]);return(0,Es.jsx)("span",Object.assign({className:t},i,{children:r}))}function vr(){return(0,s.useContext)(dr)}function xr(){const e=vr();Is(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,r]=nr(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,s.useEffect)((function(){r({type:"RESET"})}),[r,c]),(0,s.useEffect)((function(){if(l)return;if(!c)return;const e=Ms(c.getStructTree()),t=e;return e.promise.then((e=>{r({type:"RESOLVE",value:e})})).catch((e=>{r({type:"REJECT",error:e})})),()=>Zs(t)}),[l,c,r]),(0,s.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(Fs(!1,o.toString()),t&&t(o)))}),[a]),a?(0,Es.jsx)(yr,{className:"react-pdf__Page__structTree structTree",node:a}):null}const wr=As;function Ar(e){const t=vr();Is(t);const n=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:r,devicePixelRatio:a=Ys(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:h,rotate:u,scale:p}=n,{canvasRef:m}=e;Is(c);const f=(0,s.useRef)(null);function g(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Fs(!1,e.toString()),o&&o(e))}const b=(0,s.useMemo)((()=>c.getViewport({scale:p*a,rotation:u})),[a,c,u,p]),y=(0,s.useMemo)((()=>c.getViewport({scale:p,rotation:u})),[c,u,p]);(0,s.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=f;if(!e)return;e.width=b.width,e.height=b.height,e.style.width=`${Math.floor(y.width)}px`,e.style.height=`${Math.floor(y.height)}px`,e.style.visibility="hidden";const t={annotationMode:d?wr.ENABLE_FORMS:wr.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:b};r&&(t.background=r);const n=c.render(t),i=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(er(c,p))})).catch(g),()=>Zs(i)}),[r,c,d,b,y]);const v=(0,s.useCallback)((()=>{const{current:e}=f;e&&(e.width=0,e.height=0)}),[]);return(0,s.useEffect)((()=>v),[v]),(0,Es.jsx)("canvas",{className:`${i}__canvas`,dir:"ltr",ref:cr(m,f),style:{display:"block",userSelect:"none"},children:h?(0,Es.jsx)(xr,{}):null})}function Sr(){const e=vr();Is(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:h}=e;Is(o);const[u,p]=nr(),{value:m,error:f}=u,g=(0,s.useRef)(null);Fs(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,s.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,s.useEffect)((function(){if(!o)return;const e=Ms(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>Zs(t)}),[o,p]),(0,s.useEffect)((()=>{void 0!==m&&(!1!==m?m&&i&&i(m):f&&(Fs(!1,f.toString()),n&&n(f)))}),[m]);const b=(0,s.useCallback)((()=>{a&&a()}),[a]),y=(0,s.useCallback)((e=>{Fs(!1,e.toString()),r&&r(e)}),[r]);const v=(0,s.useMemo)((()=>o.getViewport({scale:h,rotation:d})),[o,d,h]);return(0,s.useLayoutEffect)((function(){if(!o||!m)return;const{current:e}=g;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new Cs({container:e,textContentSource:n,viewport:v}),s=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const i=e.querySelectorAll('[role="presentation"]');if(t){let e=0;m.items.forEach(((n,s)=>{if(!function(e){return"str"in e}(n))return;const r=i[e];if(!r)return;const a=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:s},n));r.innerHTML=a,e+=n.str&&n.hasEOL?2:1}))}b()})).catch(y),()=>Zs(s)}),[t,y,b,o,l,c,m,v]),(0,Es.jsx)("div",{className:Rs("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=g.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=g.current;e&&e.classList.add("selecting")},ref:g})}function kr(){return(0,s.useContext)(Bs)}function Cr(){const e=kr(),t=vr();Is(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:u,rotate:p,scale:m=1}=n;Is(h),Is(d),Is(r);const[f,g]=nr(),{value:b,error:y}=f,v=(0,s.useRef)(null);Fs(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,s.useEffect)((function(){g({type:"RESET"})}),[g,d]),(0,s.useEffect)((function(){if(!d)return;const e=Ms(d.getAnnotations()),t=e;return e.promise.then((e=>{g({type:"RESOLVE",value:e})})).catch((e=>{g({type:"REJECT",error:e})})),()=>{Zs(t)}}),[g,d]),(0,s.useEffect)((()=>{void 0!==b&&(!1!==b?b&&o&&o(b):y&&(Fs(!1,y.toString()),a&&a(y)))}),[b]);const x=(0,s.useMemo)((()=>d.getViewport({scale:m,rotation:p})),[d,p,m]);return(0,s.useEffect)((function(){if(!h||!d||!r||!b)return;const{current:e}=v;if(!e)return;const t=x.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:d,structTreeLayer:null,viewport:t},s={annotations:b,annotationStorage:h.annotationStorage,div:e,imageResourcesPath:i,linkService:r,page:d,renderForms:u,viewport:t};e.innerHTML="";try{new ws(n).render(s),c&&c()}catch(a){!function(e){Fs(!1,`${e}`),l&&l(e)}(a)}return()=>{}}),[b,i,r,d,h,u,x]),(0,Es.jsx)("div",{className:Rs("react-pdf__Page__annotations","annotationLayer"),ref:v})}var _r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const jr=1;function Er(e){const t=kr(),n=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:h,devicePixelRatio:u,error:p="Failed to load the page.",height:m,inputRef:f,loading:g="Loading page\u2026",noData:b="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:v,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:A,onGetTextSuccess:S,onLoadError:k,onLoadSuccess:C,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:j,onRenderError:E,onRenderSuccess:N,onRenderTextLayerError:T,onRenderTextLayerSuccess:P,pageIndex:M,pageNumber:D,pdf:R,registerPage:L,renderAnnotationLayer:I=!0,renderForms:F=!1,renderMode:O="canvas",renderTextLayer:z=!0,rotate:H,scale:B=jr,unregisterPage:V,width:U}=n,q=_r(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[$,G]=nr(),{value:W,error:K}=$,X=(0,s.useRef)(null);Is(R);const Y=Ws(D)?D-1:null!==M&&void 0!==M?M:null,Q=null!==D&&void 0!==D?D:Ws(M)?M+1:null,J=null!==H&&void 0!==H?H:W?W.rotate:null,Z=(0,s.useMemo)((()=>{if(!W)return null;let e=1;const t=null!==B&&void 0!==B?B:jr;if(U||m){const t=W.getViewport({scale:1,rotation:J});U?e=U/t.width:m&&(e=m/t.height)}return t*e}),[m,W,J,B,U]);(0,s.useEffect)((function(){return()=>{Ws(Y)&&r&&V&&V(Y)}}),[r,R,Y,V]),(0,s.useEffect)((function(){G({type:"RESET"})}),[G,R,Y]),(0,s.useEffect)((function(){if(!R||!Q)return;const e=Ms(R.getPage(Q)),t=e;return e.promise.then((e=>{G({type:"RESOLVE",value:e})})).catch((e=>{G({type:"REJECT",error:e})})),()=>Zs(t)}),[G,R,Q]),(0,s.useEffect)((()=>{void 0!==W&&(!1!==W?function(){if(C){if(!W||!Z)return;C(er(W,Z))}if(r&&L){if(!Ws(Y)||!X.current)return;L(Y,X.current)}}():K&&(Fs(!1,K.toString()),k&&k(K)))}),[W,Z]);const ee=(0,s.useMemo)((()=>W&&Ws(Y)&&Q&&Ws(J)&&Ws(Z)?{_className:i,canvasBackground:a,customTextRenderer:h,devicePixelRatio:u,onGetAnnotationsError:y,onGetAnnotationsSuccess:v,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:A,onGetTextSuccess:S,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:j,onRenderError:E,onRenderSuccess:N,onRenderTextLayerError:T,onRenderTextLayerSuccess:P,page:W,pageIndex:Y,pageNumber:Q,renderForms:F,renderTextLayer:z,rotate:J,scale:Z}:null),[i,a,h,u,y,v,x,w,A,S,_,j,E,N,T,P,W,Y,Q,F,z,J,Z]),te=(0,s.useMemo)((()=>Ps(q,(()=>W?Z?er(W,Z):void 0:W))),[q,W,Z]),ne=`${Y}@${Z}/${J}`;function ie(){switch(O){case"custom":return Is(d),(0,Es.jsx)(d,{},`${ne}_custom`);case"none":return null;default:return(0,Es.jsx)(Ar,{canvasRef:o},`${ne}_canvas`)}}return(0,Es.jsx)("div",Object.assign({className:Rs(i,c),"data-page-number":Q,ref:cr(f,X),style:{"--scale-factor":`${Z}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:Q?null===R||void 0===W||null===W?(0,Es.jsx)(Vs,{type:"loading",children:"function"===typeof g?g():g}):!1===R||!1===W?(0,Es.jsx)(Vs,{type:"error",children:"function"===typeof p?p():p}):(0,Es.jsxs)(dr.Provider,{value:ee,children:[ie(),z?(0,Es.jsx)(Sr,{},`${ne}_text`):null,I?(0,Es.jsx)(Cr,{},`${ne}_annotations`):null,l]}):(0,Es.jsx)(Vs,{type:"no-data",children:"function"===typeof b?b():b})}))}Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Nr=()=>{const[e,t]=(0,s.useState)("history"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-blue-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Hypertension in the Elderly"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Interactive Study Guide (Part 2)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("history"),className:"px-4 py-2 font-medium "+("history"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Patient History"}),(0,Es.jsx)("button",{onClick:()=>t("physical"),className:"px-4 py-2 font-medium "+("physical"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Physical Exam"}),(0,Es.jsx)("button",{onClick:()=>t("diagnosis"),className:"px-4 py-2 font-medium "+("diagnosis"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Diagnosis"}),(0,Es.jsx)("button",{onClick:()=>t("guidelines"),className:"px-4 py-2 font-medium "+("guidelines"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Guidelines"}),(0,Es.jsx)("button",{onClick:()=>t("diagnostic"),className:"px-4 py-2 font-medium "+("diagnostic"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Diagnostic Tests"}),(0,Es.jsx)("button",{onClick:()=>t("treatment"),className:"px-4 py-2 font-medium "+("treatment"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Treatment"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-blue-100 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-800"),children:"View PDF Pages (11-20)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["history"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Important Aspects of the History in Hypertension"}),(0,Es.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-green-100",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Elements to Assess"})]})}),(0,Es.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Duration of hypertension"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Last known normal blood pressure"}),(0,Es.jsx)("li",{children:"Course of the blood pressure"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Prior treatment of hypertension"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsx)("ul",{className:"list-disc pl-5",children:(0,Es.jsx)("li",{children:"Drugs: types, doses, side effects"})})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Intake of agents that may cause hypertension"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Nonsteroidal antiinflammatory drugs"}),(0,Es.jsx)("li",{children:"Estrogens"}),(0,Es.jsx)("li",{children:"Adrenal steroids"}),(0,Es.jsx)("li",{children:"Cocaine"}),(0,Es.jsx)("li",{children:"Sympathomimetics"}),(0,Es.jsx)("li",{children:"Excessive sodium"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Family history"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Hypertension"}),(0,Es.jsx)("li",{children:"Premature cardiovascular disease or death"}),(0,Es.jsx)("li",{children:"Familial diseases: pheochromocytoma, renal disease, diabetes, gout"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Symptoms of secondary causes"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Muscle weakness"}),(0,Es.jsx)("li",{children:"Spells of tachycardia, sweating, tremor"}),(0,Es.jsx)("li",{children:"Thinning of the skin"}),(0,Es.jsx)("li",{children:"Flank pain"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Symptoms of target-organ damage"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Headaches"}),(0,Es.jsx)("li",{children:"Transient weakness or blindness"}),(0,Es.jsx)("li",{children:"Loss of visual acuity"}),(0,Es.jsx)("li",{children:"Chest pain"}),(0,Es.jsx)("li",{children:"Dyspnea"}),(0,Es.jsx)("li",{children:"Claudication"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Presence of other risk factors"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Smoking"}),(0,Es.jsx)("li",{children:"Diabetes"}),(0,Es.jsx)("li",{children:"Dyslipidemia"}),(0,Es.jsx)("li",{children:"Physical inactivity"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Dietary history"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Sodium"}),(0,Es.jsx)("li",{children:"Processed foods"}),(0,Es.jsx)("li",{children:"Alcohol"}),(0,Es.jsx)("li",{children:"Saturated fats"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Psychosocial factors"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Family structure"}),(0,Es.jsx)("li",{children:"Work status"}),(0,Es.jsx)("li",{children:"Educational level"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Sexual function"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsx)("p",{children:"Assessment of sexual function"})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Features of sleep apnea"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Early morning headaches"}),(0,Es.jsx)("li",{children:"Daytime somnolence"}),(0,Es.jsx)("li",{children:"Loud snoring"}),(0,Es.jsx)("li",{children:"Erratic sleep"})]})})]})]})]})}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"Which of these historical features would suggest a possible secondary cause of hypertension?"}),(0,Es.jsx)("button",{onClick:()=>u("secondary-cause"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["secondary-cause"]?"Hide Answer":"Show Answer"}),n["secondary-cause"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Spells of tachycardia, sweating, and tremor (suggestive of pheochromocytoma)"}),(0,Es.jsx)("li",{children:"Muscle weakness (could suggest hyperaldosteronism)"}),(0,Es.jsx)("li",{children:"Thinning of the skin (could suggest Cushing's syndrome)"}),(0,Es.jsx)("li",{children:"Flank pain (could suggest renal artery stenosis or other kidney disorders)"})]})})]})]}),"physical"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Physical Examination in Hypertensive Patients"}),(0,Es.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,Es.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Es.jsx)("thead",{className:"bg-blue-100",children:(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),(0,Es.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Elements to Assess"})]})}),(0,Es.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Blood Pressure"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:"Accurate measurement of blood pressure"})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"General appearance"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Distribution of body fat"}),(0,Es.jsx)("li",{children:"Skin lesions"}),(0,Es.jsx)("li",{children:"Muscle strength"}),(0,Es.jsx)("li",{children:"Alertness"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Fundoscopy"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Hemorrhage"}),(0,Es.jsx)("li",{children:"Papilledema"}),(0,Es.jsx)("li",{children:"Cotton wool spots"}),(0,Es.jsx)("li",{children:"Arteriolar narrowing and arteriovenous nicking"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Neck"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Palpation and auscultation of carotids"}),(0,Es.jsx)("li",{children:"Thyroid"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Heart"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Size"}),(0,Es.jsx)("li",{children:"Rhythm"}),(0,Es.jsx)("li",{children:"Sounds"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Lungs"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Rhonchi"}),(0,Es.jsx)("li",{children:"Rales"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Abdomen"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Renal masses"}),(0,Es.jsx)("li",{children:"Bruits over aorta or renal arteries"}),(0,Es.jsx)("li",{children:"Femoral pulses"})]})})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Extremities"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Peripheral pulses"}),(0,Es.jsx)("li",{children:"Edema"})]})})]}),(0,Es.jsxs)("tr",{children:[(0,Es.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:"Neurologic assessment"}),(0,Es.jsx)("td",{className:"px-6 py-4",children:(0,Es.jsxs)("ul",{className:"list-disc pl-5",children:[(0,Es.jsx)("li",{children:"Visual disturbance"}),(0,Es.jsx)("li",{children:"Focal weakness"}),(0,Es.jsx)("li",{children:"Confusion"})]})})]})]})]})}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-blue-800",children:"Focus On: Fundoscopic Examination"}),(0,Es.jsx)("p",{className:"mb-3",children:"Fundoscopic examination is crucial in hypertensive patients as it allows direct visualization of the effects of hypertension on blood vessels."}),(0,Es.jsx)("p",{className:"mb-3",children:"The Keith-Wagener-Barker classification of hypertensive retinopathy:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Grade I:"})," Mild narrowing or sclerosis of arterioles"]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Grade II:"})," Moderate to marked sclerosis of arterioles with arteriovenous nicking"]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Grade III:"})," Grade II plus flame hemorrhages, cotton-wool spots, and hard exudates"]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Grade IV:"})," Grade III plus papilledema"]})]}),(0,Es.jsx)("p",{className:"mt-3",children:"Grades III and IV are associated with increased cardiovascular risk and end-organ damage."})]})]}),"diagnosis"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Diagnosis of Hypertension"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Diagnostic Criteria"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsx)("li",{children:"All adults 18 years and older without known HTN should be screened for elevated BP (USPSTF et al., 2021)."}),(0,Es.jsx)("li",{children:"To diagnose HTN, the provider should use an average of two or more readings obtained on two or more occasions."}),(0,Es.jsx)("li",{children:"Out of office BP measurements (ambulatory or home BP monitoring) are recommended to confirm the diagnosis of HTN before starting treatment."})]}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-4",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"Key Point:"}),(0,Es.jsx)("p",{children:"Proper technique and multiple measurements are essential for accurate diagnosis of hypertension, as a single elevated reading may not reflect true hypertension."})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Hypertension Guidelines: JNC8 vs. ACC/AHA"}),(0,Es.jsx)("p",{className:"mb-3",children:"There has been confusion due to different guidelines. As of 2023, primary care is slowly abandoning JNC8 guidelines and adopting the ACC/AHA 2017 guidelines."}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"JNC8 Diagnostic Criteria"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[(0,Es.jsx)("li",{children:"Age <60 years: SBP \u2265140 mm Hg and/or DBP \u226590 mm Hg"}),(0,Es.jsx)("li",{children:"Age 60 years or older: SBP \u2265150 mm Hg and/or DBP \u226590 mm Hg"}),(0,Es.jsx)("li",{children:"Age 60 years or older with CKD or diabetes: SBP \u2265140 mm Hg and/or DBP \u226590 mm Hg"}),(0,Es.jsx)("li",{children:"Pre-hypertension: SBP \u2265120 mm Hg and/or DBP \u226580 mm Hg"})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"ACC/AHA 2017 Guidelines"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[(0,Es.jsx)("li",{children:"Normal: SBP <120 mm Hg and DBP <80 mm Hg"}),(0,Es.jsx)("li",{children:"Elevated: SBP 120-129 mm Hg and DBP <80 mm Hg"}),(0,Es.jsx)("li",{children:"Stage 1 HTN: SBP 130-139 mm Hg or DBP 80-89 mm Hg"}),(0,Es.jsx)("li",{children:"Stage 2 HTN: SBP \u2265140 mm Hg or DBP \u226590 mm Hg"}),(0,Es.jsx)("li",{children:"Hypertensive Crisis: SBP >180 mm Hg and/or DBP >120 mm Hg"})]})]})]})]}),(0,Es.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-green-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"According to the ACC/AHA 2017 guidelines, a 72-year-old patient with a blood pressure of 138/88 mm Hg would be classified as having:"}),(0,Es.jsx)("button",{onClick:()=>u("bp-classification"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition",children:n["bp-classification"]?"Hide Answer":"Show Answer"}),n["bp-classification"]&&(0,Es.jsxs)("div",{className:"mt-4 p-3 bg-white rounded",children:[(0,Es.jsx)("p",{children:(0,Es.jsx)("strong",{children:"Stage 1 Hypertension"})}),(0,Es.jsx)("p",{children:"According to ACC/AHA 2017 guidelines, Stage 1 HTN is defined as SBP 130-139 mm Hg or DBP 80-89 mm Hg. This patient's BP of 138/88 mm Hg falls within this range."}),(0,Es.jsx)("p",{children:"Note that under the JNC8 guidelines, this same reading would be considered normal for a patient over 60 years unless they had CKD or diabetes."})]})]})]}),"guidelines"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Hypertension Guidelines"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"ACC/AHA Blood Pressure Categories (2017)"}),(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full border-collapse border border-gray-300",children:[(0,Es.jsx)("thead",{children:(0,Es.jsxs)("tr",{className:"bg-red-600 text-white",children:[(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"BP Category"}),(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"Systolic (mm Hg)"}),(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"Relationship"}),(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"Diastolic (mm Hg)"})]})}),(0,Es.jsxs)("tbody",{children:[(0,Es.jsxs)("tr",{className:"bg-green-100",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2 font-medium",children:"Normal"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Less than 120"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"and"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Less than 80"})]}),(0,Es.jsxs)("tr",{className:"bg-yellow-100",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2 font-medium",children:"Elevated"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"120-129"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"and"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Less than 80"})]}),(0,Es.jsxs)("tr",{className:"bg-orange-100",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2 font-medium",children:"Hypertension Stage 1"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"130-139"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"or"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"80-89"})]}),(0,Es.jsxs)("tr",{className:"bg-red-100",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2 font-medium",children:"Hypertension Stage 2"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"140 or higher"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"or"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"90 or higher"})]}),(0,Es.jsxs)("tr",{className:"bg-red-300",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2 font-medium",children:"Hypertensive Crisis"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Higher than 180"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"and/or"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Higher than 120"})]})]})]})})]}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-blue-800",children:"American Academy of Nurse Practitioners Guidance"}),(0,Es.jsx)("p",{className:"mb-3",children:"The American Academy of Nurse Practitioners has acknowledged both guidelines, noting:"}),(0,Es.jsx)("blockquote",{className:"border-l-4 border-blue-500 pl-4 italic",children:'"September 2018 - The American College of Cardiology (ACC) / American Heart Association (AHA) hypertension guideline published in November 2017 introduced new blood-pressure categories lowering the threshold for the diagnosis of hypertension. The 2018 certification examinations use the 2017 ACC/AHA and JNC-8 guidelines to reference test items. While treatment targets may differ among various guidelines, it is important to keep evaluation of the individual\'s health as the central concern."'})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Key Differences Between Guidelines"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"JNC8 Focus"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[(0,Es.jsx)("li",{children:"Different thresholds based on age and comorbidities"}),(0,Es.jsx)("li",{children:"Higher threshold (150/90) for adults \u226560 years without comorbidities"}),(0,Es.jsx)("li",{children:"Focus on evidence from randomized controlled trials"}),(0,Es.jsx)("li",{children:"More conservative approach with fewer patients classified as hypertensive"})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"ACC/AHA 2017 Focus"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[(0,Es.jsx)("li",{children:"Lower threshold for defining hypertension (130/80)"}),(0,Es.jsx)("li",{children:'Introduction of "Elevated" category for early intervention'}),(0,Es.jsx)("li",{children:"More aggressive approach to earlier diagnosis and treatment"}),(0,Es.jsx)("li",{children:"Greater emphasis on cardiovascular risk to guide treatment decisions"})]})]})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm",children:"Note: As of 2023, primary care is slowly abandoning JNC8 guidelines and adopting the ACC/AHA 2017 guidelines."})]}),(0,Es.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-green-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"Which of the following patients would be classified differently under JNC8 versus ACC/AHA 2017 guidelines?"}),(0,Es.jsx)("button",{onClick:()=>u("guideline-difference"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition",children:n["guideline-difference"]?"Hide Answer":"Show Answer"}),n["guideline-difference"]&&(0,Es.jsxs)("div",{className:"mt-4 p-3 bg-white rounded",children:[(0,Es.jsx)("p",{children:(0,Es.jsx)("strong",{children:"A 65-year-old with BP 145/85 without diabetes or CKD"})}),(0,Es.jsx)("p",{children:"Under JNC8: Not hypertensive (threshold for age \u226560 without comorbidities is 150/90)"}),(0,Es.jsx)("p",{children:"Under ACC/AHA 2017: Stage 2 Hypertension (SBP \u2265140 or DBP \u226590)"}),(0,Es.jsx)("p",{children:"This illustrates the significant difference in classification that can occur, particularly in older adults without comorbidities."})]})]})]}),"diagnostic"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Diagnostic Tests"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Urinary Albumin-Creatinine Ratio (UACR)"}),(0,Es.jsx)("p",{className:"mb-3",children:"The UACR is a simple, non-invasive test that can help detect early kidney damage in patients with hypertension."}),(0,Es.jsx)("p",{className:"mb-3",children:"Normal values are typically less than 30 mg/mmol for urine albumin and less than 10 mg/mmol for urine creatinine."})]}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-4",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"Other Tests"}),(0,Es.jsx)("p",{children:"Other tests that may be used in the diagnosis of hypertension include:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsx)("li",{children:"Electrocardiogram (ECG)"}),(0,Es.jsx)("li",{children:"Echocardiogram"}),(0,Es.jsx)("li",{children:"24-hour ambulatory blood pressure monitoring"}),(0,Es.jsx)("li",{children:"Carotid ultrasonography"})]})]})]}),"treatment"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Treatment Options for Hypertension"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Lifestyle Modifications"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsx)("li",{children:"Dietary Approaches to Stop Hypertension (DASH) diet"}),(0,Es.jsx)("li",{children:"Reduction of sodium intake"}),(0,Es.jsx)("li",{children:"Regular physical activity"}),(0,Es.jsx)("li",{children:"Weight loss for overweight individuals"}),(0,Es.jsx)("li",{children:"Moderation of alcohol intake"})]})]}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mt-4",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-800 mb-2",children:"Pharmacological Treatment"}),(0,Es.jsx)("p",{children:"Pharmacological treatment should be considered for patients with Stage 1 hypertension who have a history of cardiovascular disease or are at high risk for cardiovascular events."})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Self Quiz - Hypertension Part 2"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. What are the four grades of hypertensive retinopathy (Keith-Wagener-Barker classification), and which grades indicate higher cardiovascular risk?"}),(0,Es.jsx)("button",{onClick:()=>u("htn_quiz1"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.htn_quiz1?"Hide Answer":"Show Answer"}),n.htn_quiz1&&(0,Es.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[(0,Es.jsx)("p",{children:(0,Es.jsx)("strong",{children:"Grades:"})}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 mt-1",children:[(0,Es.jsx)("li",{children:"Grade I: Mild arteriolar narrowing/sclerosis"}),(0,Es.jsx)("li",{children:"Grade II: Moderate/marked sclerosis + AV nicking"}),(0,Es.jsx)("li",{children:"Grade III: Grade II + hemorrhages, cotton-wool spots, exudates"}),(0,Es.jsx)("li",{children:"Grade IV: Grade III + papilledema"})]}),(0,Es.jsxs)("p",{className:"mt-2",children:[(0,Es.jsx)("strong",{children:"Higher Risk:"})," Grades III and IV are associated with increased cardiovascular risk and end-organ damage."]})]})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. According to the 2017 ACC/AHA guidelines, how is Stage 1 Hypertension defined (Systolic and Diastolic values)?"}),(0,Es.jsx)("button",{onClick:()=>u("htn_quiz2"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.htn_quiz2?"Hide Answer":"Show Answer"}),n.htn_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Stage 1 Hypertension is defined as a Systolic Blood Pressure (SBP) of 130-139 mm Hg OR a Diastolic Blood Pressure (DBP) of 80-89 mm Hg."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. Why is obtaining out-of-office blood pressure measurements (like home or ambulatory monitoring) recommended before starting hypertension treatment?"}),(0,Es.jsx)("button",{onClick:()=>u("htn_quiz3"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.htn_quiz3?"Hide Answer":"Show Answer"}),n.htn_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:'Out-of-office measurements help confirm the diagnosis of hypertension and rule out "white coat hypertension" (elevated BP only in the clinical setting). They provide a more accurate picture of the patient\'s usual blood pressure before committing to long-term medication.'})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. Name three key lifestyle modifications recommended for managing hypertension."}),(0,Es.jsx)("button",{onClick:()=>u("htn_quiz4"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.htn_quiz4?"Hide Answer":"Show Answer"}),n.htn_quiz4&&(0,Es.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[(0,Es.jsx)("p",{children:"Any three of the following:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 mt-1",children:[(0,Es.jsx)("li",{children:"Weight loss (if overweight/obese)"}),(0,Es.jsx)("li",{children:"Heart-healthy diet (e.g., DASH diet - rich in fruits, vegetables, low-fat dairy, reduced saturated/total fat)"}),(0,Es.jsx)("li",{children:"Dietary sodium reduction (<1500 mg/day ideally)"}),(0,Es.jsx)("li",{children:"Regular aerobic physical activity (e.g., \u2265150 min/week moderate-intensity)"}),(0,Es.jsx)("li",{children:"Moderation of alcohol consumption"})]})]})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. A patient reports spells of tachycardia, sweating, and tremor during the history taking. What potential secondary cause of hypertension might this suggest?"}),(0,Es.jsx)("button",{onClick:()=>u("htn_quiz5"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.htn_quiz5?"Hide Answer":"Show Answer"}),n.htn_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"These symptoms (paroxysms of tachycardia, sweating, tremor) are classic signs suggestive of Pheochromocytoma, a catecholamine-secreting tumor."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Study Guide PDF - Pages 11-20"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 11-20 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_11-20.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_11-20.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Tr=()=>{const[e,t]=(0,s.useState)("overview"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-blue-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders in the Elderly"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Interactive Study Guide - Part 1"})]}),(0,Es.jsxs)("div",{className:"flex border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("overview"),className:"px-4 py-2 font-medium "+("overview"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Overview"}),(0,Es.jsx)("button",{onClick:()=>t("assessment"),className:"px-4 py-2 font-medium "+("assessment"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Assessment"}),(0,Es.jsx)("button",{onClick:()=>t("aging-effects"),className:"px-4 py-2 font-medium "+("aging-effects"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Aging Effects"}),(0,Es.jsx)("button",{onClick:()=>t("hypertension"),className:"px-4 py-2 font-medium "+("hypertension"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Hypertension"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-blue-100 border-b-2 border-blue-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-red-100 border-b-2 border-red-600":"text-gray-600 hover:text-red-800"),children:"View PDF Pages (1-10)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["overview"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Course Overview"}),(0,Es.jsxs)("p",{className:"mb-2",children:["This study guide covers ",(0,Es.jsx)("span",{className:"font-bold",children:"Common Cardiovascular Disorders in the Elderly"})," based on:"]}),(0,Es.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,Es.jsx)("li",{children:"Chapter 7: Chest Pain"}),(0,Es.jsx)("li",{children:"Chapter 10: CV Disorders"})]}),(0,Es.jsx)("p",{className:"text-sm text-gray-600",children:'Based on "Nursing in the Care of Older Adults" (Kennedy-Malone, Groenke-Duffy)'})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Major CVD Risk Factors"}),(0,Es.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:(0,Es.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,Es.jsxs)("div",{className:"md:w-1/2 p-4",children:[(0,Es.jsx)("h4",{className:"font-bold text-lg mb-2",children:'The "Fatal Four"'}),(0,Es.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,Es.jsx)("li",{className:"text-red-600 font-semibold",children:"Hypertension"}),(0,Es.jsx)("li",{className:"text-red-600 font-semibold",children:"Diabetes mellitus"}),(0,Es.jsx)("li",{className:"text-red-600 font-semibold",children:"Dyslipidemia"}),(0,Es.jsx)("li",{className:"text-red-600 font-semibold",children:"Smoking"})]}),(0,Es.jsx)("p",{className:"mt-4 text-gray-700",children:"Higher rates of CVD in older people: absolute number of cases per risk factor tends to increase with age"}),(0,Es.jsx)("p",{className:"mt-2 text-gray-700",children:"Multiple risk factors act in concert with age-related CV changes to promote the development and progression of heart and vascular disorders"})]}),(0,Es.jsx)("div",{className:"md:w-1/2 p-4",children:(0,Es.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg",children:[(0,Es.jsx)("h4",{className:"font-bold text-center mb-2",children:"Key Concept"}),(0,Es.jsx)("p",{className:"text-center italic",children:'"Multiple risk factors combine with normal aging changes to dramatically increase cardiovascular disease risk in the elderly."'})]})})]})})]})]}),"assessment"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Assessment of the Cardiovascular System"}),(0,Es.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Key Symptoms"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Dizziness"}),(0,Es.jsx)("p",{children:"Feeling lightheaded or unsteady"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Syncope"}),(0,Es.jsx)("p",{children:"Temporary loss of consciousness"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Orthopnea"}),(0,Es.jsx)("p",{children:"Shortness of breath when lying flat"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Angina"}),(0,Es.jsx)("p",{children:"Chest pain due to reduced blood flow to heart muscle"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Edema"}),(0,Es.jsx)("p",{children:"Swelling due to fluid accumulation in tissues"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"Claudication"}),(0,Es.jsx)("p",{children:"Pain in the legs during walking that improves with rest"})]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Challenge Yourself!"}),(0,Es.jsx)("p",{className:"mb-4",children:"Which of these symptoms are most directly related to heart failure?"}),(0,Es.jsx)("button",{onClick:()=>u("symptoms"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n.symptoms?"Hide Answer":"Show Answer"}),n.symptoms&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("span",{className:"font-bold",children:"Orthopnea and Edema"})," are classic signs of heart failure. Orthopnea occurs due to fluid redistribution when lying flat, and edema results from fluid retention."]})})]})]}),"aging-effects"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Principal Effects of Aging on the CV System"}),(0,Es.jsx)("div",{className:"overflow-x-auto",children:(0,Es.jsxs)("table",{className:"min-w-full border-collapse border border-gray-300",children:[(0,Es.jsx)("thead",{children:(0,Es.jsxs)("tr",{className:"bg-red-600 text-white",children:[(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"Age Effect"}),(0,Es.jsx)("th",{className:"border border-gray-300 p-2",children:"Clinical Implication"})]})}),(0,Es.jsxs)("tbody",{children:[(0,Es.jsxs)("tr",{className:"bg-white",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Arterial stiffness"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Afterload and systolic BP"})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Myocardial relaxation & compliance"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Risk of diastolic heart failure and atrial fibrillation"})]}),(0,Es.jsxs)("tr",{className:"bg-white",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Impaired responsiveness to \u03b2-adrenergic stimulation"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Maximum cardiac output; impaired thermoregulation"})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Sinus node function and conduction velocity"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Risk of sick sinus syndrome, left anterior fascicular block, and bundle branch block"})]}),(0,Es.jsxs)("tr",{className:"bg-white",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"Impaired endothelium-dependent vasodilation"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Demand ischemia and risk of coronary artery disease and peripheral arterial disease"})]}),(0,Es.jsxs)("tr",{className:"bg-gray-50",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Baroreceptor responsiveness"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2191 Risk of orthostatic hypotension"})]}),(0,Es.jsxs)("tr",{className:"bg-white",children:[(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Exercise response"}),(0,Es.jsx)("td",{className:"border border-gray-300 p-2",children:"\u2193 Exercise capacity and \u2191 cardiac complications with illness"})]})]})]})}),(0,Es.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Clinical Effects of CV Changes"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"At Rest"}),(0,Es.jsx)("p",{children:"In healthy older adults, age-related changes have modest clinically relevant effects on cardiac hemodynamics and performance at rest"}),(0,Es.jsx)("p",{className:"mt-2 text-sm",children:"Resting heart rate, ejection fraction, stroke volume, and cardiac output are well preserved even at very advanced age"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm",children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600",children:"With Increased Demands"}),(0,Es.jsx)("p",{children:"Ability to respond to increased demands associated with exercise or illness declines progressively with advancing age"}),(0,Es.jsx)("p",{className:"mt-2 text-sm",children:"Peak aerobic capacity declines inexorably with age"})]})]})]})]}),"hypertension"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Hypertension in the Elderly"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Key Statistics"}),(0,Es.jsxs)("ul",{className:"space-y-2",children:[(0,Es.jsx)("li",{children:"\u2022 High prevalence of HTN only a third of elderly patients meets B/P target recommendations"}),(0,Es.jsx)("li",{children:"\u2022 Affects 86 million U.S. Adults 20 years or older"}),(0,Es.jsx)("li",{children:"\u2022 Half hypertensive patients are not well controlled"}),(0,Es.jsx)("li",{children:"\u2022 15% of hypertensive patients are not even aware they have HTN"}),(0,Es.jsx)("li",{children:"\u2022 Up to 95% are diagnosed with essential hypertension"}),(0,Es.jsx)("li",{children:"\u2022 Higher in African Americans, with higher mortality rate"})]})]}),(0,Es.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-green-800",children:"Benefits of HTN Control"}),(0,Es.jsx)("p",{className:"mb-3",children:"Reduction of 10 mmHg systolic and 5 mmHg diastolic at age 65 associated with:"}),(0,Es.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm text-center",children:[(0,Es.jsx)("h4",{className:"font-bold text-green-600 text-2xl",children:"25%"}),(0,Es.jsx)("p",{children:"Reduction of MI"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm text-center",children:[(0,Es.jsx)("h4",{className:"font-bold text-green-600 text-2xl",children:"40%"}),(0,Es.jsx)("p",{children:"Reduction of stroke"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm text-center",children:[(0,Es.jsx)("h4",{className:"font-bold text-green-600 text-2xl",children:"50%"}),(0,Es.jsx)("p",{children:"Reduction of CHF"})]}),(0,Es.jsxs)("div",{className:"bg-white p-3 rounded shadow-sm text-center",children:[(0,Es.jsx)("h4",{className:"font-bold text-green-600 text-2xl",children:"20%"}),(0,Es.jsx)("p",{children:"Reduction of mortality"})]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"HTN Risk Factors"}),(0,Es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600 mb-2",children:"Changeable Risk Factors"}),(0,Es.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,Es.jsx)("li",{children:"Overweight or Obesity"}),(0,Es.jsx)("li",{children:"High sodium salt usage"}),(0,Es.jsx)("li",{children:"Alcohol use"}),(0,Es.jsx)("li",{children:"Lack of physical activity"}),(0,Es.jsx)("li",{children:"Smoking"}),(0,Es.jsx)("li",{children:"Stress"})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h4",{className:"font-bold text-blue-600 mb-2",children:"Unchangeable Risk Factors"}),(0,Es.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,Es.jsx)("li",{children:"Aging"}),(0,Es.jsx)("li",{children:"Race"}),(0,Es.jsx)("li",{children:"Family history"}),(0,Es.jsx)("li",{children:"Gender"}),(0,Es.jsx)("li",{children:"Prehypertension or gestational hypertension"})]})]})]}),(0,Es.jsxs)("div",{className:"mt-4",children:[(0,Es.jsx)("img",{src:"/api/placeholder/700/200",alt:"Hypertension risk factors",className:"max-w-full h-auto rounded"}),(0,Es.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Note: Image placeholder represents the risk factors chart from slide 10"})]})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:"Self Quiz - Part 1"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:'1. What are the "Fatal Four" major cardiovascular risk factors?'}),(0,Es.jsx)("button",{onClick:()=>u("quiz1_1"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.quiz1_1?"Hide Answer":"Show Answer"}),n.quiz1_1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Hypertension, Diabetes Mellitus, Dyslipidemia, and Smoking."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. An elderly patient reports becoming short of breath whenever they lie down flat to sleep. What is the medical term for this symptom, and what condition is it strongly associated with?"}),(0,Es.jsx)("button",{onClick:()=>u("quiz1_2"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.quiz1_2?"Hide Answer":"Show Answer"}),n.quiz1_2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Orthopnea. It is strongly associated with Heart Failure."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. Which specific age-related cardiovascular change is most directly linked to an increased risk of orthostatic hypotension in the elderly?"}),(0,Es.jsx)("button",{onClick:()=>u("quiz1_3"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.quiz1_3?"Hide Answer":"Show Answer"}),n.quiz1_3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Decreased baroreceptor responsiveness."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. What structural change in the aging heart increases the risk for diastolic heart failure and atrial fibrillation?"}),(0,Es.jsx)("button",{onClick:()=>u("quiz1_4"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.quiz1_4?"Hide Answer":"Show Answer"}),n.quiz1_4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Decreased myocardial relaxation and compliance (increased stiffness)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. According to statistics presented, what fraction of elderly hypertensive patients typically meets their blood pressure target recommendations?"}),(0,Es.jsx)("button",{onClick:()=>u("quiz1_5"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:n.quiz1_5?"Hide Answer":"Show Answer"}),n.quiz1_5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Only about one-third."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-red-800 mb-4",children:"Study Guide PDF - Pages 1-10"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 1-10 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_1-10.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_1-10.pdf` is placed in the `public/pdfs` directory."})]})]})]}),(0,Es.jsxs)("div",{className:"w-full bg-gray-100 p-4 text-center",children:[(0,Es.jsx)("p",{className:"text-gray-600",children:'Based on "Nursing in the Care of Older Adults" (Kennedy-Malone, Groenke-Duffy)'}),(0,Es.jsx)("p",{className:"text-gray-600",children:"Revised and updated Dr. Delacroix 2023"})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Pr=()=>{const[e,t]=(0,s.useState)("acs_basics"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-orange-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 21-30 (ACS Basics, Diagnosis, Mgmt)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("acs_basics"),className:"px-4 py-2 font-medium "+("acs_basics"===e?"bg-orange-100 border-b-2 border-orange-600":""),children:"ACS Basics"}),(0,Es.jsx)("button",{onClick:()=>t("diagnosis"),className:"px-4 py-2 font-medium "+("diagnosis"===e?"bg-orange-100 border-b-2 border-orange-600":""),children:"Diagnosis"}),(0,Es.jsx)("button",{onClick:()=>t("management"),className:"px-4 py-2 font-medium "+("management"===e?"bg-orange-100 border-b-2 border-orange-600":""),children:"Management"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-orange-100 border-b-2 border-orange-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-orange-100 border-b-2 border-orange-600":"text-gray-600 hover:text-orange-800"),children:"View PDF Pages (21-30)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["acs_basics"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-orange-800 mb-4",children:"ACS Basics"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Definition & Pathophysiology"}),(0,Es.jsx)("p",{className:"mb-3",children:"Acute Coronary Syndrome (ACS) refers to a spectrum of conditions associated with sudden, reduced blood flow to the heart muscle (myocardial ischemia or infarction)."}),(0,Es.jsx)("p",{className:"mb-3",children:"It's most often caused by the rupture or erosion of an atherosclerotic plaque within a coronary artery. This rupture exposes thrombogenic material, leading to platelet aggregation and thrombus formation, which partially or completely occludes the artery."})]}),(0,Es.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-orange-800",children:"Spectrum of ACS"}),(0,Es.jsx)("p",{className:"mb-3",children:"ACS is classified based on ECG findings and cardiac biomarker levels:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Unstable Angina (UA):"}),"Symptoms of myocardial ischemia (e.g., chest pain) at rest or with minimal exertion, or a significant change from previous stable angina pattern.",(0,Es.jsx)("span",{className:"font-semibold",children:"ECG:"})," May show ST depression, T-wave inversion, or be normal.",(0,Es.jsx)("span",{className:"font-semibold",children:"Biomarkers:"})," Cardiac troponins are ",(0,Es.jsx)("span",{className:"font-bold",children:"negative"})," (no significant myocardial necrosis)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Non-ST-Segment Elevation Myocardial Infarction (NSTEMI):"}),"Similar presentation to UA, but with evidence of myocardial necrosis.",(0,Es.jsx)("span",{className:"font-semibold",children:"ECG:"})," Similar to UA (ST depression, T-wave inversion, or normal). No ST elevation.",(0,Es.jsx)("span",{className:"font-semibold",children:"Biomarkers:"})," Cardiac troponins are ",(0,Es.jsx)("span",{className:"font-bold",children:"positive"})," (elevated)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"ST-Segment Elevation Myocardial Infarction (STEMI):"}),"Evidence of myocardial necrosis with characteristic ECG changes indicating complete coronary artery occlusion.",(0,Es.jsx)("span",{className:"font-semibold",children:"ECG:"})," ST-segment elevation in specific leads, or new Left Bundle Branch Block (LBBB).",(0,Es.jsx)("span",{className:"font-semibold",children:"Biomarkers:"})," Cardiac troponins are ",(0,Es.jsx)("span",{className:"font-bold",children:"positive"})," (elevated)."]})]}),(0,Es.jsx)("p",{className:"mt-3 text-sm",children:"Note: UA and NSTEMI are often grouped together as Non-ST-Segment Elevation ACS (NSTE-ACS) due to similar initial management strategies."})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Common Symptoms"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsx)("li",{children:"Chest pain/pressure/discomfort (often described as squeezing, heavy, tight; may radiate to jaw, neck, arms, back)"}),(0,Es.jsx)("li",{children:"Dyspnea (Shortness of breath)"}),(0,Es.jsx)("li",{children:"Diaphoresis (Sweating)"}),(0,Es.jsx)("li",{children:"Nausea/Vomiting"}),(0,Es.jsx)("li",{children:"Fatigue/Weakness"}),(0,Es.jsx)("li",{children:"Dizziness/Lightheadedness"})]}),(0,Es.jsx)("p",{className:"mt-3 text-sm text-gray-600",children:"Atypical presentations (e.g., epigastric pain, fatigue only) are more common in women, the elderly, and patients with diabetes."})]})]}),"diagnosis"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-orange-800 mb-4",children:"Diagnosis of ACS"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Diagnosis relies on integrating clinical presentation, ECG findings, and cardiac biomarker results."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"1. Clinical Presentation (History & Physical)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsx)("li",{children:"Detailed description of symptoms (PQRST: Provocation/Palliation, Quality, Radiation, Severity, Timing)."}),(0,Es.jsx)("li",{children:"Assessment of cardiovascular risk factors."}),(0,Es.jsx)("li",{children:"Physical exam may reveal signs of heart failure (rales, JVD, S3), arrhythmias, or hemodynamic instability, but can often be normal."})]})]}),(0,Es.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-orange-800",children:"2. Electrocardiogram (ECG)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Crucial first step:"})," Obtain within 10 minutes of presentation for chest pain/ACS symptoms."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"STEMI Findings:"})," New ST-segment elevation (\u22651 mm in \u22652 contiguous limb leads or \u22652 mm in \u22652 contiguous precordial leads) or new LBBB. Indicates need for immediate reperfusion."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"NSTE-ACS Findings (UA/NSTEMI):"})," ST depression (\u22650.5 mm), T-wave inversion (\u22651 mm), or transient ST elevation. ECG can also be normal."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Reciprocal Changes:"})," ST depression in leads opposite to those with ST elevation can help confirm STEMI."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Localization:"})," The leads showing ST elevation often indicate the area of infarction (e.g., II, III, aVF = Inferior; V1-V4 = Anterior)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Serial ECGs:"})," Important if initial ECG is non-diagnostic, as changes can evolve."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"3. Cardiac Biomarkers (Troponins)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Troponin I or Troponin T:"})," Preferred markers due to high sensitivity and specificity for myocardial injury."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Significance:"})," Elevated levels indicate myocardial necrosis (infarction)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Timing:"})," Begin to rise 2-4 hours after injury onset, peak around 12-24 hours, remain elevated for days."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Serial Measurements:"})," Typically drawn on presentation and repeated 3-6 hours later (using high-sensitivity assays may allow earlier rule-out/rule-in)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Distinguishes UA from NSTEMI:"})," Troponins are ",(0,Es.jsx)("span",{className:"font-bold",children:"negative"})," in UA and ",(0,Es.jsx)("span",{className:"font-bold",children:"positive"})," in NSTEMI and STEMI."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"CK-MB:"})," Less specific than troponin; may still be used in some settings, returns to baseline faster (useful for detecting re-infarction)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-orange-800",children:"Risk Stratification"}),(0,Es.jsx)("p",{children:"Tools like TIMI (Thrombolysis in Myocardial Infarction) and GRACE (Global Registry of Acute Coronary Events) scores help predict risk of adverse outcomes in NSTE-ACS and guide decisions about invasive strategies."})]})]}),"management"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-orange-800 mb-4",children:"Management of ACS"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Goals: Relieve ischemia/pain, prevent further thrombus formation/myocardial damage, restore blood flow (especially in STEMI), and prevent complications."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Initial Management (All ACS Suspected)"}),(0,Es.jsx)("p",{className:"mb-2",children:"Focus on rapid assessment and initiation of therapies:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"ECG:"})," Obtain and interpret within 10 minutes."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Oxygen:"})," Supplemental O2 if O2 saturation ","<"," 90% or respiratory distress."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Aspirin (ASA):"})," Chewable non-enteric coated (162-325 mg) ASAP. Antiplatelet effect."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Nitroglycerin (NTG):"})," Sublingual or IV for ongoing chest pain, HTN, or HF signs. Vasodilator. (Contraindicated if hypotension, recent PDE5 inhibitor use, suspected RV infarction)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pain Control:"})," Morphine IV if pain persists despite NTG. Use cautiously (can mask symptoms, potential adverse effects)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Beta-Blockers:"})," Oral BB within 24 hours if no contraindications (e.g., signs of HF, low output state, risk of shock). Reduces myocardial oxygen demand."]})]}),(0,Es.jsxs)("p",{className:"mt-2 text-sm",children:["Mnemonic ",(0,Es.jsx)("span",{className:"font-mono",children:'"MONA"'})," (Morphine, Oxygen, Nitrates, Aspirin) is often taught but order/indication varies. Focus on timely ECG, ASA, and appropriate use of other agents."]})]}),(0,Es.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-orange-800",children:"Management Based on ACS Type"}),(0,Es.jsxs)("div",{className:"mb-4",children:[(0,Es.jsx)("h4",{className:"font-semibold text-lg mb-2",children:"STEMI"}),(0,Es.jsxs)("p",{className:"mb-2",children:[(0,Es.jsx)("span",{className:"font-bold",children:"Reperfusion is KEY!"})," Goal is to restore blood flow ASAP."]}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Primary Percutaneous Coronary Intervention (PCI):"})," Preferred strategy if available within recommended timeframes (door-to-balloon typically \u2264 90 minutes). Angioplasty +/- stent."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:'Fibrinolysis ("Clot Buster"):'})," If PCI is not available promptly (e.g., ",">","120 minutes from first medical contact). Administer within 30 minutes of arrival (door-to-needle). Examples: alteplase, tenecteplase."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Antiplatelet Therapy:"})," Dual Antiplatelet Therapy (DAPT) = ASA + P2Y12 inhibitor (e.g., clopidogrel, prasugrel, ticagrelor)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Anticoagulation:"})," Heparin (unfractionated or LMWH) or bivalirudin often used adjunctively."]})]})]}),(0,Es.jsxs)("div",{children:[(0,Es.jsx)("h4",{className:"font-semibold text-lg mb-2",children:"NSTE-ACS (UA/NSTEMI)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Antiplatelet Therapy:"})," DAPT (ASA + P2Y12 inhibitor)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Anticoagulation:"})," Heparin (UFH or LMWH), fondaparinux, or bivalirudin."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Risk Stratification:"})," Determines timing of intervention."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Invasive Strategy:"})," Coronary angiography +/- revascularization (PCI or CABG). Timing depends on risk (immediate for instability, early for high-risk, delayed/ischemia-guided for lower-risk)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Conservative Strategy:"})," Medical management initially, angiography if recurrent symptoms/ischemia or positive stress test."]}),(0,Es.jsx)("li",{children:"Continue Beta-blockers, consider ACE inhibitors/ARBs, Statins."})]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Long-Term Management (Secondary Prevention)"}),(0,Es.jsx)("p",{children:"Crucial after any ACS event. Includes lifestyle changes (diet, exercise, smoking cessation) and medications like DAPT (duration varies), Beta-blockers, Statins (high-intensity), ACE inhibitors/ARBs (especially if EF low, HTN, DM, CKD)."})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-orange-800 mb-4",children:"Self Quiz - ACS Basics, Dx, Mgmt"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. How is Unstable Angina (UA) differentiated from NSTEMI based on diagnostic tests?"}),(0,Es.jsx)("button",{onClick:()=>u("acs_quiz1"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:n.acs_quiz1?"Hide Answer":"Show Answer"}),n.acs_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsxs)("p",{children:["Both UA and NSTEMI can have similar ECG findings (ST depression, T-wave inversion, or normal ECG). The key difference is cardiac biomarkers: Troponins are ",(0,Es.jsx)("span",{className:"font-bold",children:"negative"})," in UA and ",(0,Es.jsx)("span",{className:"font-bold",children:"positive"})," in NSTEMI, indicating myocardial necrosis in NSTEMI."]})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. What are the characteristic ECG findings suggestive of a STEMI?"}),(0,Es.jsx)("button",{onClick:()=>u("acs_quiz2"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:n.acs_quiz2?"Hide Answer":"Show Answer"}),n.acs_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"New ST-segment elevation (\u22651 mm in \u22652 contiguous limb leads or \u22652 mm in \u22652 contiguous precordial leads) or a new Left Bundle Branch Block (LBBB)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. An ECG shows ST elevation in leads II, III, and aVF. Which area of the heart is likely experiencing infarction?"}),(0,Es.jsx)("button",{onClick:()=>u("acs_quiz3"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:n.acs_quiz3?"Hide Answer":"Show Answer"}),n.acs_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Inferior wall of the left ventricle."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. What is the preferred reperfusion strategy for STEMI if it can be performed within 90 minutes of first medical contact?"}),(0,Es.jsx)("button",{onClick:()=>u("acs_quiz4"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:n.acs_quiz4?"Hide Answer":"Show Answer"}),n.acs_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Primary Percutaneous Coronary Intervention (PCI)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. Beyond Aspirin, what class of medication is crucial for initial antiplatelet therapy in both STEMI and NSTE-ACS? Give an example."}),(0,Es.jsx)("button",{onClick:()=>u("acs_quiz5"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition",children:n.acs_quiz5?"Hide Answer":"Show Answer"}),n.acs_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"A P2Y12 inhibitor. Examples include clopidogrel, ticagrelor, or prasugrel (choice depends on clinical scenario and whether PCI is planned)."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-orange-800 mb-4",children:"Study Guide PDF - Pages 21-30"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 21-30 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_21-30.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_21-30.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Mr=()=>{const[e,t]=(0,s.useState)("acs_complications"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-purple-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 31-40 (ACS Complications/Mgmt Cont.)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("acs_complications"),className:"px-4 py-2 font-medium "+("acs_complications"===e?"bg-purple-100 border-b-2 border-purple-600":""),children:"ACS Complications"}),(0,Es.jsx)("button",{onClick:()=>t("special_pops"),className:"px-4 py-2 font-medium "+("special_pops"===e?"bg-purple-100 border-b-2 border-purple-600":""),children:"Special Populations"}),(0,Es.jsx)("button",{onClick:()=>t("post_mi_mgmt"),className:"px-4 py-2 font-medium "+("post_mi_mgmt"===e?"bg-purple-100 border-b-2 border-purple-600":""),children:"Post-MI Management"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-purple-100 border-b-2 border-purple-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-purple-100 border-b-2 border-purple-600":"text-gray-600 hover:text-purple-800"),children:"View PDF Pages (31-40)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["acs_complications"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"ACS Complications"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Myocardial infarction can lead to various complications, categorized broadly as electrical or mechanical."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Electrical Complications (Arrhythmias)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Ventricular Arrhythmias (VT/VF):"})," Most common cause of death in early phase post-MI. Due to ischemia, reentry circuits, or electrolyte imbalances. Management: Defibrillation/cardioversion, antiarrhythmics (amiodarone, lidocaine), ICD for secondary prevention if EF remains low."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Supraventricular Tachycardias (SVT):"})," Includes Atrial Fibrillation (AFib - common post-MI due to atrial stretch/inflammation), atrial flutter, AVNRT. Management: Rate control (beta-blockers, calcium channel blockers), rhythm control, anticoagulation (especially for AFib)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Bradyarrhythmias & Heart Block:"})," Sinus bradycardia, AV block (1st, 2nd, 3rd degree). Often seen with inferior MI (affecting AV node blood supply). Management: Atropine, temporary pacing, permanent pacemaker if block persists."]})]})]}),(0,Es.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-800",children:"Mechanical Complications"}),(0,Es.jsx)("p",{className:"mb-2",children:"Less common but often catastrophic. Usually occur days after MI due to myocardial necrosis and weakening."}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Ventricular Free Wall Rupture:"})," Leads to hemopericardium and tamponade. Often fatal. Presentation: Sudden hemodynamic collapse, JVD. Management: Emergent pericardiocentesis & surgery."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Ventricular Septal Rupture (VSR):"})," Creates a VSD (hole between ventricles). Presentation: New harsh holosystolic murmur, signs of acute heart failure/cardiogenic shock. Management: Vasodilators, IABP (intra-aortic balloon pump) bridge to surgical repair."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Papillary Muscle Rupture:"})," Causes acute severe Mitral Regurgitation (MR). Presentation: New holosystolic murmur (often radiates to axilla), acute pulmonary edema/shock. Management: Vasodilators, IABP bridge to urgent mitral valve surgery."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Left Ventricular Aneurysm:"})," Scar tissue bulges outward. Risks: Thrombus formation, HF, arrhythmias. Presentation: Persistent ST elevation weeks post-MI, HF symptoms. Management: Anticoagulation, HF meds, possible surgical resection."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Other Complications"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Heart Failure (Acute or Chronic):"})," Due to loss of contractile function."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Cardiogenic Shock:"})," Severe LV dysfunction leading to tissue hypoperfusion."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pericarditis (Acute or Dressler's Syndrome):"})," Inflammation of the pericardium."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Thromboembolism:"})," LV thrombus formation (especially with anterior MI/aneurysm) leading to stroke or peripheral embolism."]})]})]})]}),"special_pops"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"ACS in Special Populations"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Presentation and management may differ in certain groups."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Elderly Patients"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Atypical Presentation:"})," More likely to present with dyspnea, confusion, fatigue, syncope, or abdominal pain rather than classic chest pain."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Comorbidities:"})," Higher prevalence of conditions like CKD, DM, previous stroke, which increase risk and complicate management."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Treatment Considerations:"})," Benefit from reperfusion and standard therapies, but higher risk of complications (e.g., bleeding with antithrombotics, contrast nephropathy). Dosing adjustments may be needed. Goals of care discussions are important."]})]})]}),(0,Es.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-800",children:"Women"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Atypical Presentation:"})," Also more likely to have atypical symptoms (e.g., fatigue, jaw/back pain, nausea) alongside or instead of chest pain."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Delayed Presentation/Diagnosis:"})," May lead to worse outcomes."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Higher proportion of non-obstructive CAD (MINOCA) or plaque erosion rather than rupture compared to men."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Treatment:"})," Generally benefit from same therapies as men, but may have higher bleeding risk with some agents."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Patients with Diabetes Mellitus (DM)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Atypical Presentation:"}),' "Silent MI" or atypical symptoms are common due to autonomic neuropathy.']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Increased Risk:"})," DM is a major risk factor for CAD and associated with worse outcomes post-MI."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Complications:"})," Higher risk of HF, CKD, cardiogenic shock."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Benefit significantly from standard therapies. Glycemic control is important, but intensive control during acute phase is controversial. Statins, ACEi/ARBs are crucial."]})]})]}),(0,Es.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-800",children:"Patients with Chronic Kidney Disease (CKD)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Increased Risk & Worse Outcomes:"})," CKD significantly increases risk of ACS and mortality."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnostic Challenges:"})," Baseline troponin levels may be elevated. Interpretation requires assessing trends."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Treatment Considerations:"})," Higher bleeding risk. Dose adjustments needed for many medications (e.g., LMWH, some P2Y12 inhibitors). Risk of contrast nephropathy with angiography. Benefits of invasive strategies may be less clear in advanced CKD."]})]})]})]}),"post_mi_mgmt"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Post-MI Management & Secondary Prevention"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Focuses on reducing risk of recurrent events, preventing complications, and improving long-term survival."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Risk Stratification Post-MI"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Assessment of LV Function:"})," Echocardiogram typically performed before discharge or shortly after to measure LVEF. Key for guiding therapy (e.g., need for ACEi/ARB, MRA, potential ICD)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Assessment for Residual Ischemia:"})," Stress testing may be considered before discharge in stable patients who did not undergo angiography (especially NSTEMI/UA) to guide need for revascularization."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Assessment for Arrhythmias:"})," Monitoring for ventricular arrhythmias. Holter monitoring may be used."]})]})]}),(0,Es.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-purple-800",children:"Guideline-Directed Medical Therapy (GDMT)"}),(0,Es.jsx)("p",{className:"mb-2",children:"These medications form the cornerstone of secondary prevention:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Dual Antiplatelet Therapy (DAPT):"})," Aspirin (lifelong) + P2Y12 inhibitor (e.g., clopidogrel, ticagrelor, prasugrel). Duration typically at least 12 months post-ACS, longer in some cases."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Beta-Blockers:"})," Continue indefinitely, especially if LVEF \u2264 40% or HF. Reduces mortality, recurrent MI, arrhythmias."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Statins:"})," High-intensity statin therapy (e.g., atorvastatin 80mg, rosuvastatin 40mg) recommended for all post-ACS patients, regardless of baseline LDL. Goal LDL typically <70 mg/dL (or even <55 mg/dL in very high risk)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"ACE Inhibitors (ACEi) or Angiotensin Receptor Blockers (ARBs):"})," Start and continue indefinitely in patients with LVEF \u2264 40%, HTN, DM, or stable CKD."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Mineralocorticoid Receptor Antagonists (MRAs):"})," E.g., spironolactone, eplerenone. Recommended for patients with LVEF \u2264 40% and either symptomatic HF or DM, provided no contraindications (hyperkalemia, significant renal dysfunction)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Lifestyle Modifications"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Smoking Cessation:"})," Absolutely critical. Provide counseling and pharmacotherapy."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diet:"})," Heart-healthy diet (e.g., Mediterranean style, DASH), low in saturated/trans fats, sodium."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Exercise:"})," Cardiac rehabilitation program recommended. Aim for regular moderate-intensity aerobic activity as tolerated."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Weight Management:"})," Achieve and maintain healthy body weight (BMI < 25 kg/m\xb2)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Blood Pressure Control:"})," Target typically <130/80 mmHg."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diabetes Management:"})," Optimal glycemic control."]})]})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Self Quiz - ACS Complications/Mgmt"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. A patient develops a new harsh holosystolic murmur and acute heart failure symptoms 5 days after an MI. Which mechanical complication is most likely?"}),(0,Es.jsx)("button",{onClick:()=>u("comp_quiz1"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:n.comp_quiz1?"Hide Answer":"Show Answer"}),n.comp_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Ventricular Septal Rupture (VSR) or Papillary Muscle Rupture leading to acute Mitral Regurgitation (MR). Both can present with a new murmur and hemodynamic compromise."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. Why might elderly patients or patients with diabetes present with atypical symptoms during an ACS event?"}),(0,Es.jsx)("button",{onClick:()=>u("comp_quiz2"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:n.comp_quiz2?"Hide Answer":"Show Answer"}),n.comp_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Higher likelihood of comorbidities and potential autonomic neuropathy (especially in diabetes) can alter pain perception, leading to symptoms like dyspnea, confusion, fatigue, or syncope instead of classic chest pain."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. What is the typical minimum duration for Dual Antiplatelet Therapy (DAPT) after an ACS event?"}),(0,Es.jsx)("button",{onClick:()=>u("comp_quiz3"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:n.comp_quiz3?"Hide Answer":"Show Answer"}),n.comp_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"At least 12 months."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. Which class of medication is recommended indefinitely post-MI for patients with LVEF \u2264 40% or those with HTN, DM, or stable CKD?"}),(0,Es.jsx)("button",{onClick:()=>u("comp_quiz4"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:n.comp_quiz4?"Hide Answer":"Show Answer"}),n.comp_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"ACE Inhibitors (ACEi) or Angiotensin Receptor Blockers (ARBs)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. Besides medications, name three crucial lifestyle modifications for secondary prevention after an MI."}),(0,Es.jsx)("button",{onClick:()=>u("comp_quiz5"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:n.comp_quiz5?"Hide Answer":"Show Answer"}),n.comp_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Any three of: Smoking Cessation, Heart-Healthy Diet, Regular Exercise (Cardiac Rehab), Weight Management, Blood Pressure Control, Diabetes Management."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-purple-800 mb-4",children:"Study Guide PDF - Pages 31-40"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 31-40 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_31-40.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_31-40.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Dr=()=>{const[e,t]=(0,s.useState)("valvular_basics"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-teal-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 41-50 (Valvular Disease & AFib)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("valvular_basics"),className:"px-4 py-2 font-medium "+("valvular_basics"===e?"bg-teal-100 border-b-2 border-teal-600":""),children:"Valvular Basics"}),(0,Es.jsx)("button",{onClick:()=>t("aortic"),className:"px-4 py-2 font-medium "+("aortic"===e?"bg-teal-100 border-b-2 border-teal-600":""),children:"Aortic Valve"}),(0,Es.jsx)("button",{onClick:()=>t("mitral"),className:"px-4 py-2 font-medium "+("mitral"===e?"bg-teal-100 border-b-2 border-teal-600":""),children:"Mitral Valve"}),(0,Es.jsx)("button",{onClick:()=>t("afib"),className:"px-4 py-2 font-medium "+("afib"===e?"bg-teal-100 border-b-2 border-teal-600":""),children:"Atrial Fibrillation"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-teal-100 border-b-2 border-teal-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-teal-100 border-b-2 border-teal-600":"text-gray-600 hover:text-teal-800"),children:"View PDF Pages (41-50)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["valvular_basics"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Valvular Heart Disease Basics"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Overview"}),(0,Es.jsx)("p",{className:"mb-2",children:"Valvular heart disease involves damage to or defects in one of the four heart valves: mitral, aortic, tricuspid, or pulmonary. This damage disrupts normal blood flow through the heart."}),(0,Es.jsx)("p",{children:"The two main types of valve dysfunction are:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-6 mt-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Stenosis:"})," Narrowing or stiffening of the valve, restricting forward blood flow. The heart has to work harder to pump blood through the narrowed valve."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Regurgitation (Insufficiency/Incompetence):"})," The valve does not close properly, allowing blood to leak backward (regurgitate). This reduces the amount of blood pumped forward and can lead to volume overload in the preceding chamber."]})]})]}),(0,Es.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-800",children:"Murmurs"}),(0,Es.jsx)("p",{className:"mb-3",children:"Valvular dysfunction often causes characteristic heart murmurs, which are abnormal sounds resulting from turbulent blood flow. Key features used to describe murmurs include:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Timing:"})," Systolic (heard between S1 and S2 - ventricular contraction) or Diastolic (heard between S2 and S1 - ventricular relaxation/filling)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Shape/Pattern:"})," Crescendo (gets louder), decrescendo (gets softer), crescendo-decrescendo (diamond-shaped), plateau (uniform intensity)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Location:"})," Point on the chest where the murmur is heard loudest (e.g., aortic area - 2nd right intercostal space, mitral area - apex)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Radiation:"})," Where the sound travels (e.g., AS radiates to carotids, MR radiates to axilla)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Intensity:"})," Graded on a scale of 1 to 6 (Grade 1 is very faint, Grade 6 is audible without a stethoscope)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pitch:"})," High, medium, or low."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Quality:"})," Blowing, harsh, rumbling, musical."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Maneuvers:"})," Changes with respiration, Valsalva, squatting, handgrip can help differentiate murmurs."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Common Diagnostic Tool"}),(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Echocardiogram (Transthoracic or Transesophageal):"})," This is the primary non-invasive tool for diagnosing valvular heart disease. It uses ultrasound waves to visualize valve structure and motion, assess severity of stenosis or regurgitation, measure valve gradients and areas, evaluate chamber sizes, estimate ejection fraction, and detect complications like LV hypertrophy or pulmonary hypertension."]})]})]}),"aortic"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Aortic Valve Disease"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Aortic Stenosis (AS)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Narrowing of the aortic valve opening, obstructing blood flow from the left ventricle (LV) into the aorta during systole. This increases pressure work for the LV, leading to LV hypertrophy (LVH)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Most common cause in older adults is calcific degeneration of a normal or congenitally bicuspid valve. Rheumatic heart disease is less common now in developed countries."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur:"}),' Systolic ejection murmur (crescendo-decrescendo or "diamond-shaped"), typically harsh. Loudest at the right upper sternal border (aortic area). Often radiates to the carotid arteries. May have a delayed and diminished carotid upstroke (pulsus parvus et tardus). An S4 gallop may be present due to LVH.']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms (Classic Triad - indicates severe AS and poor prognosis):"})," Angina (chest pain), Syncope (especially exertional), and Dyspnea (exertional, due to heart failure).",(0,Es.jsxs)("span",{className:"block text-sm italic mt-1",children:["Mnemonic: ",(0,Es.jsx)("span",{className:"font-bold",children:"S"}),"yncope, ",(0,Es.jsx)("span",{className:"font-bold",children:"A"}),"ngina, ",(0,Es.jsx)("span",{className:"font-bold",children:"D"}),"yspnea (SAD). The onset of symptoms indicates a poor prognosis without valve replacement."]})]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Monitoring for mild/moderate AS. Symptomatic severe AS requires Aortic Valve Replacement (AVR) - either surgical (SAVR) or transcatheter (TAVR/TAVI). Medical therapy is limited."]})]})]}),(0,Es.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-800",children:"Aortic Regurgitation (AR) / Insufficiency"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Incomplete closure of the aortic valve during diastole, allowing blood to leak back from the aorta into the LV. This causes LV volume overload, leading to LV dilation and hypertrophy."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Can be due to valve leaflet problems (e.g., endocarditis, rheumatic disease, bicuspid valve) or aortic root dilation (e.g., aneurysm, dissection, Marfan syndrome, syphilis)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur:"})," High-pitched, blowing, decrescendo diastolic murmur heard best along the left sternal border, often with the patient sitting up and leaning forward. Severe AR may also have an Austin Flint murmur (a mid-diastolic rumble at the apex due to the regurgitant jet hitting the mitral valve)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms:"})," Often asymptomatic for a long time. Symptoms develop due to LV failure: dyspnea on exertion, orthopnea, PND, fatigue. Palpitations may occur due to forceful LV contraction."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Peripheral Signs (due to wide pulse pressure - large difference between systolic and diastolic BP):"})," Bounding \"water-hammer\" pulses (Corrigan's pulse), head bobbing with heartbeat (de Musset's sign), visible nailbed pulsations (Quincke's pulses), \"pistol shot\" sounds over femoral arteries (Traube's sign), to-and-fro murmur over femoral artery (Duroziez's sign)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Medical therapy (vasodilators like ACEi/ARBs or nifedipine) can reduce regurgitant volume. Symptomatic severe AR or asymptomatic severe AR with LV dilation/dysfunction requires AVR."]})]})]})]}),"mitral"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Mitral Valve Disease"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Mitral Stenosis (MS)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Narrowing of the mitral valve opening, obstructing blood flow from the left atrium (LA) to the LV during diastole. This increases LA pressure, leading to LA enlargement and pulmonary congestion/hypertension."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Rheumatic heart disease is the overwhelming cause worldwide. Rare causes include congenital MS, calcification."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur:"}),' Low-pitched, rumbling diastolic murmur heard best at the apex with the bell of the stethoscope, often in the left lateral decubitus position. May be preceded by an "opening snap" (high-pitched sound shortly after S2 when the stiff valve opens). Intensity correlates poorly with severity.']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms:"}),' Dyspnea (most common, due to pulmonary congestion), fatigue, palpitations (atrial fibrillation is very common due to LA enlargement), hemoptysis (due to rupture of pulmonary capillaries - "pink frothy sputum"), stroke (due to thrombus formation in enlarged LA, especially with AFib), Ortner\'s syndrome (hoarseness due to recurrent laryngeal nerve compression by enlarged LA).']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Medical management includes diuretics for congestion, rate control for AFib (beta-blockers, CCBs), anticoagulation for AFib or prior embolism. Percutaneous balloon mitral valvuloplasty (PBMV) is preferred for suitable anatomy; mitral valve replacement (MVR) for others or if PBMV fails."]})]})]}),(0,Es.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-800",children:"Mitral Regurgitation (MR) / Insufficiency"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Incomplete closure of the mitral valve during systole, allowing blood to leak back from the LV into the LA. This causes volume overload in both the LA and LV, leading to dilation and eventual dysfunction."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Can be primary (problem with the valve leaflets/apparatus itself) or secondary/functional (due to LV dilation distorting the annulus). Primary causes: Mitral Valve Prolapse (MVP - most common in developed countries), rheumatic heart disease, endocarditis, papillary muscle rupture/dysfunction (e.g., post-MI), chordae tendineae rupture. Secondary causes: Ischemic cardiomyopathy, dilated cardiomyopathy."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur:"})," Holosystolic (pansystolic), high-pitched, blowing murmur heard best at the apex. Often radiates to the axilla. Intensity may not correlate with severity. May have an S3 gallop due to increased flow into LV in diastole."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms:"})," Chronic MR may be asymptomatic for years. Symptoms include dyspnea, fatigue, orthopnea, palpitations (AFib is common). Acute MR (e.g., papillary muscle rupture) presents dramatically with acute pulmonary edema and cardiogenic shock."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Medical therapy focuses on afterload reduction (ACEi/ARBs) and treating heart failure symptoms (diuretics). Surgery (mitral valve repair is preferred over replacement if feasible) is indicated for symptomatic severe MR or asymptomatic severe MR with evidence of LV dysfunction (EF <60%) or significant LV dilation."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Mitral Valve Prolapse (MVP)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"}),' Billowing ("prolapse") of one or both mitral leaflets back into the LA during systole. Often due to myxomatous degeneration (excess connective tissue) of the valve leaflets and chordae.']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur/Sounds:"})," Characteristic mid-systolic click (caused by sudden tensing of chordae/leaflets), which may or may not be followed by a late systolic murmur of MR. Timing varies with maneuvers: click/murmur occur earlier (closer to S1) with maneuvers that decrease LV volume (Valsalva, standing); later (closer to S2) with maneuvers that increase LV volume (squatting, handgrip)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms:"})," Most people are asymptomatic. Some may experience non-specific symptoms like atypical chest pain, palpitations, dyspnea, fatigue, anxiety."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Usually benign. Reassurance for asymptomatic patients without significant MR. Beta-blockers may help palpitations/chest pain. Follow-up echocardiograms to monitor for progression to significant MR. Endocarditis prophylaxis is generally NOT recommended unless prior history of endocarditis."]})]})]})]}),"afib"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Atrial Fibrillation (AFib)"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Definition & Pathophysiology"}),(0,Es.jsx)("p",{className:"mb-2",children:'AFib is a supraventricular tachyarrhythmia characterized by chaotic, disorganized atrial electrical activity and uncoordinated atrial contraction. This results in an "irregularly irregular" ventricular response.'}),(0,Es.jsx)("p",{children:"It's the most common sustained cardiac arrhythmia. Risk increases significantly with age and presence of underlying heart disease (e.g., HTN, valvular disease, HF, CAD), hyperthyroidism, obesity, sleep apnea, alcohol use."})]}),(0,Es.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-800",children:"Clinical Presentation & ECG Findings"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Symptoms:"}),' Can range from asymptomatic to severe palpitations, fatigue, dyspnea, dizziness, chest pain, or syncope. Symptoms often relate to rapid ventricular rate or loss of atrial "kick" (contribution of atrial contraction to ventricular filling, important in stiff ventricles).']}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"ECG Findings:"}),(0,Es.jsxs)("ul",{className:"list-circle pl-5 mt-1",children:[(0,Es.jsx)("li",{children:"Absence of distinct P waves (replaced by chaotic fibrillatory 'f' waves, which may be fine or coarse)."}),(0,Es.jsx)("li",{children:"Irregularly irregular R-R intervals (hallmark ventricular response)."}),(0,Es.jsx)("li",{children:"Ventricular rate can be slow, normal, or rapid (AFib with Rapid Ventricular Response - RVR)."})]})]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Major Complication: Stroke"}),(0,Es.jsx)("p",{children:"The loss of coordinated atrial contraction allows blood to stagnate, particularly in the left atrial appendage (LAA). This significantly increases the risk of thrombus (clot) formation. If a clot embolizes, it can travel to the brain, causing an ischemic stroke. AFib is a major cause of stroke, especially in the elderly."})]}),(0,Es.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-teal-800",children:"Management Goals"}),(0,Es.jsx)("p",{className:"mb-3",children:"Management focuses on three main goals:"}),(0,Es.jsxs)("ul",{className:"list-decimal pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Rate Control:"})," Slowing the ventricular rate (usually target <110 bpm at rest if asymptomatic, <80 bpm if symptomatic). Achieved with beta-blockers (e.g., metoprolol), non-dihydropyridine calcium channel blockers (e.g., diltiazem, verapamil), or digoxin (less effective, often used adjunctively)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Rhythm Control:"})," Attempting to restore and maintain normal sinus rhythm. Options include electrical cardioversion, antiarrhythmic drugs (e.g., amiodarone, flecainide, sotalol - choice depends on underlying heart disease), or catheter ablation procedures. Rhythm control is often pursued in younger patients, highly symptomatic patients, or when rate control is difficult."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Stroke Prevention (Anticoagulation):"})," Assessing stroke risk using scores like CHA\u2082DS\u2082-VASc.",(0,Es.jsx)("span",{className:"block text-sm italic mt-1",children:"(C=CHF, H=HTN, A\u2082=Age \u226575 [2pts], D=Diabetes, S\u2082=Stroke/TIA [2pts], V=Vascular disease, A=Age 65-74, Sc=Sex category [female])."}),"Based on score, anticoagulation is recommended, typically with direct oral anticoagulants (DOACs - e.g., apixaban, rivaroxaban, dabigatran, edoxaban) or warfarin. Aspirin alone is generally not sufficient for stroke prevention in AFib. Bleeding risk is assessed using scores like HAS-BLED."]})]})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Self Quiz - Valvular Disease & AFib"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. What is the most common cause of Aortic Stenosis (AS) in elderly patients in developed countries?"}),(0,Es.jsx)("button",{onClick:()=>u("valve_quiz1"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition",children:n.valve_quiz1?"Hide Answer":"Show Answer"}),n.valve_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Calcific degeneration of a previously normal (or bicuspid) aortic valve."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. Describe the classic murmur associated with Aortic Stenosis (AS). Where is it best heard, and does it radiate?"}),(0,Es.jsx)("button",{onClick:()=>u("valve_quiz2"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition",children:n.valve_quiz2?"Hide Answer":"Show Answer"}),n.valve_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"A harsh, crescendo-decrescendo systolic ejection murmur best heard at the right upper sternal border (aortic area), often radiating to the carotid arteries."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. What are the three cardinal symptoms of severe Aortic Stenosis (AS)?"}),(0,Es.jsx)("button",{onClick:()=>u("valve_quiz3"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition",children:n.valve_quiz3?"Hide Answer":"Show Answer"}),n.valve_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Angina (chest pain), Syncope (especially exertional), and Dyspnea (due to heart failure). Mnemonic: SAD."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. What is the most common sustained cardiac arrhythmia, particularly prevalent in the elderly?"}),(0,Es.jsx)("button",{onClick:()=>u("valve_quiz4"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition",children:n.valve_quiz4?"Hide Answer":"Show Answer"}),n.valve_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Atrial Fibrillation (AFib)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. What major complication are patients with Atrial Fibrillation (AFib) at significant risk for, necessitating risk assessment (e.g., CHA\u2082DS\u2082-VASc score) and often anticoagulation?"}),(0,Es.jsx)("button",{onClick:()=>u("valve_quiz5"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition",children:n.valve_quiz5?"Hide Answer":"Show Answer"}),n.valve_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Thromboembolic events, particularly stroke, due to potential clot formation in the left atrial appendage."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-teal-800 mb-4",children:"Study Guide PDF - Pages 41-50"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 41-50 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_41-50.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_41-50.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Rr=()=>{const[e,t]=(0,s.useState)("cardiomyopathy"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-indigo-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 51-60 (Cardiomyopathy & Pericardial Disease)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("cardiomyopathy"),className:"px-4 py-2 font-medium "+("cardiomyopathy"===e?"bg-indigo-100 border-b-2 border-indigo-600":""),children:"Cardiomyopathy"}),(0,Es.jsx)("button",{onClick:()=>t("pericardial"),className:"px-4 py-2 font-medium "+("pericardial"===e?"bg-indigo-100 border-b-2 border-indigo-600":""),children:"Pericardial Disease"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-indigo-100 border-b-2 border-indigo-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-indigo-100 border-b-2 border-indigo-600":"text-gray-600 hover:text-indigo-800"),children:"View PDF Pages (51-60)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["cardiomyopathy"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Cardiomyopathies"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700",children:"Diseases of the heart muscle itself."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Dilated Cardiomyopathy (DCM)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Enlargement of one or both ventricles with impaired systolic function (reduced EF). Most common type."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Idiopathic (most common), genetic, viral myocarditis, alcohol abuse, toxins (e.g., doxorubicin), peripartum, ischemic."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Symptoms of HFrEF (dyspnea, edema, fatigue)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"})," Echo shows LV dilation and reduced EF."]})]})]}),(0,Es.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-indigo-800",children:"Hypertrophic Cardiomyopathy (HCM)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Marked ventricular hypertrophy (especially septal), often asymmetric, leading to diastolic dysfunction and potentially LV outflow obstruction (HOCM)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Primarily genetic (autosomal dominant mutations in sarcomere proteins)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Dyspnea, angina, syncope (especially with exertion), palpitations. Risk of sudden cardiac death (SCD), particularly in young athletes."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"})," Echo shows marked LV hypertrophy, often asymmetric septal hypertrophy. ECG often shows LVH criteria."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Murmur (HOCM):"})," Harsh systolic murmur at left lower sternal border, increases with Valsalva/standing, decreases with squatting/handgrip (opposite of AS murmur)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Restrictive Cardiomyopathy (RCM)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Stiff, non-compliant ventricles impair diastolic filling. Systolic function (EF) may be normal or near-normal initially. Least common type."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Amyloidosis, sarcoidosis, hemochromatosis, radiation therapy, idiopathic."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Symptoms of right and left heart failure (prominent right-sided symptoms), fatigue."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"})," Echo shows normal/near-normal LV size and EF, marked atrial enlargement, evidence of diastolic dysfunction. Biopsy may be needed."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"A young athlete experiences syncope during exercise. An ECG shows LVH, and an echocardiogram reveals asymmetric septal hypertrophy. What is the most likely diagnosis?"}),(0,Es.jsx)("button",{onClick:()=>u("hcm-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["hcm-question"]?"Hide Answer":"Show Answer"}),n["hcm-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Hypertrophic Cardiomyopathy (HCM). This condition is a leading cause of sudden cardiac death in young athletes and is characterized by unexplained left ventricular hypertrophy, often asymmetric."]})})]})]}),"pericardial"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Pericardial Diseases"}),(0,Es.jsx)("p",{className:"text-lg text-gray-700",children:"Diseases affecting the pericardium, the sac surrounding the heart."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Acute Pericarditis"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Inflammation of the pericardium."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Idiopathic (presumed viral) most common, infection (viral, bacterial, fungal), post-MI (Dressler syndrome), uremia, malignancy, autoimmune disease, radiation."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Sharp, pleuritic chest pain (worse with inspiration, lying flat; relieved by sitting up/leaning forward), fever, pericardial friction rub (scratchy sound on auscultation)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"ECG Changes:"})," Diffuse ST-segment elevation (concave up), PR segment depression. These changes evolve over time."]})]})]}),(0,Es.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-indigo-800",children:"Pericardial Effusion"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Accumulation of excess fluid in the pericardial space."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Causes:"})," Can result from any cause of pericarditis, heart failure, trauma, malignancy."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Can be asymptomatic if small/slowly accumulating. Larger effusions can cause dyspnea, cough, chest fullness."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"}),' Echo is the primary diagnostic tool. CXR may show enlarged cardiac silhouette ("water bottle heart"). ECG may show low voltage QRS complexes and electrical alternans (beat-to-beat variation in QRS amplitude) if large.']})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Cardiac Tamponade"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Life-threatening condition where pericardial effusion accumulates rapidly or becomes large enough to compress the heart chambers, impairing diastolic filling and reducing cardiac output."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation (Beck's Triad):"})," Hypotension, Distended Neck Veins (elevated JVP), Muffled Heart Sounds. Other signs: pulsus paradoxus (abnormally large drop in systolic BP during inspiration)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"})," Clinical suspicion + Echo showing effusion with diastolic collapse of right atrium/ventricle."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Treatment:"})," Urgent pericardiocentesis (drainage of fluid)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"A patient presents with sharp chest pain that improves when leaning forward, a scratchy sound on auscultation, and diffuse concave ST elevation on ECG. What is the most likely diagnosis?"}),(0,Es.jsx)("button",{onClick:()=>u("pericarditis-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["pericarditis-question"]?"Hide Answer":"Show Answer"}),n["pericarditis-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Acute Pericarditis. The combination of pleuritic chest pain relieved by leaning forward, a pericardial friction rub, and diffuse ST elevation (often with PR depression) is classic for acute pericarditis."]})})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Self Quiz - Cardiomyopathy & Pericardial Disease"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. Which type of cardiomyopathy is characterized by enlargement of the ventricles and impaired systolic function (reduced EF)?"}),(0,Es.jsx)("button",{onClick:()=>u("myopathy_quiz1"),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition",children:n.myopathy_quiz1?"Hide Answer":"Show Answer"}),n.myopathy_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Dilated Cardiomyopathy (DCM)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. Hypertrophic Cardiomyopathy (HCM) typically involves hypertrophy of which part of the heart, and what is the primary mode of inheritance?"}),(0,Es.jsx)("button",{onClick:()=>u("myopathy_quiz2"),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition",children:n.myopathy_quiz2?"Hide Answer":"Show Answer"}),n.myopathy_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Marked ventricular hypertrophy, often asymmetric septal hypertrophy. It is primarily genetic (autosomal dominant)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. What type of cardiomyopathy involves stiff, non-compliant ventricles that impair diastolic filling, often caused by conditions like amyloidosis or sarcoidosis?"}),(0,Es.jsx)("button",{onClick:()=>u("myopathy_quiz3"),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition",children:n.myopathy_quiz3?"Hide Answer":"Show Answer"}),n.myopathy_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Restrictive Cardiomyopathy (RCM)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. Describe the classic chest pain associated with acute pericarditis."}),(0,Es.jsx)("button",{onClick:()=>u("myopathy_quiz4"),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition",children:n.myopathy_quiz4?"Hide Answer":"Show Answer"}),n.myopathy_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Sharp, pleuritic chest pain that is worse with inspiration or lying flat, and often relieved by sitting up and leaning forward."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. What is Beck's Triad, and what condition does it suggest?"}),(0,Es.jsx)("button",{onClick:()=>u("myopathy_quiz5"),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition",children:n.myopathy_quiz5?"Hide Answer":"Show Answer"}),n.myopathy_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Beck's Triad consists of: 1) Hypotension, 2) Distended Neck Veins (elevated JVP), and 3) Muffled Heart Sounds. It suggests Cardiac Tamponade."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-indigo-800 mb-4",children:"Study Guide PDF - Pages 51-60"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 51-60 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_51-60.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_51-60.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Lr=()=>{const[e,t]=(0,s.useState)("pad"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-rose-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 71-80 (PAD & Aortic Disease)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("pad"),className:"px-4 py-2 font-medium "+("pad"===e?"bg-rose-100 border-b-2 border-rose-600":""),children:"PAD"}),(0,Es.jsx)("button",{onClick:()=>t("aortic_disease"),className:"px-4 py-2 font-medium "+("aortic_disease"===e?"bg-rose-100 border-b-2 border-rose-600":""),children:"Aortic Disease"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-rose-100 border-b-2 border-rose-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-rose-100 border-b-2 border-rose-600":"text-gray-600 hover:text-rose-800"),children:"View PDF Pages (71-80)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["pad"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-rose-800 mb-4",children:"Peripheral Artery Disease (PAD)"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Definition & Pathophysiology"}),(0,Es.jsx)("p",{className:"mb-2",children:"Stenotic, occlusive, and aneurysmal diseases of the aorta and peripheral arteries (excluding coronary arteries)."}),(0,Es.jsx)("p",{children:"Primarily caused by atherosclerosis, leading to reduced blood flow to the limbs, especially the lower extremities."})]}),(0,Es.jsxs)("div",{className:"bg-rose-50 p-4 rounded-lg border border-rose-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-rose-800",children:"Clinical Presentation"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Intermittent Claudication:"})," Cramping pain or aching in the calves, thighs, or buttocks brought on by exercise and relieved by rest. Most common symptom."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Critical Limb Ischemia (CLI):"})," Rest pain (especially at night, relieved by dangling foot), non-healing ulcers, or gangrene. Indicates severe PAD."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Physical Exam Findings:"})," Diminished or absent peripheral pulses, cool skin, pallor on elevation, dependent rubor, hair loss, thickened nails, muscle atrophy."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Bruits:"})," May be heard over stenotic arteries (e.g., femoral)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Diagnosis"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Ankle-Brachial Index (ABI):"})," Ratio of systolic blood pressure at the ankle to the systolic blood pressure in the arm. Key non-invasive test.",(0,Es.jsxs)("ul",{className:"list-circle pl-5 mt-1",children:[(0,Es.jsx)("li",{children:"Normal ABI: 1.00 - 1.40"}),(0,Es.jsx)("li",{children:"Borderline: 0.91 - 0.99"}),(0,Es.jsx)("li",{children:"Mild PAD: 0.70 - 0.90"}),(0,Es.jsx)("li",{children:"Moderate PAD: 0.40 - 0.69"}),(0,Es.jsx)("li",{children:"Severe PAD: <0.40"}),(0,Es.jsx)("li",{children:"Non-compressible arteries (often due to calcification, common in diabetes): >1.40 (Requires further testing like Toe-Brachial Index)."})]})]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Duplex Ultrasonography:"})," Visualizes arteries and blood flow."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"CTA/MRA/Angiography:"})," Used for detailed anatomical assessment, especially if revascularization is planned."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"A patient reports calf pain when walking that is relieved by rest. An ABI measurement is 0.65. What is the most likely diagnosis and severity?"}),(0,Es.jsx)("button",{onClick:()=>u("pad-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["pad-question"]?"Hide Answer":"Show Answer"}),n["pad-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Moderate Peripheral Artery Disease (PAD). Intermittent claudication is the classic symptom, and an ABI between 0.40 and 0.69 indicates moderate disease severity."]})})]})]}),"aortic_disease"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-rose-800 mb-4",children:"Aortic Diseases"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Abdominal Aortic Aneurysm (AAA)"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Focal dilation of the abdominal aorta, usually infrarenal. Defined as diameter >3 cm or >50% larger than normal."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Risk Factors:"})," Age (>60), smoking, male sex, family history, hypertension, atherosclerosis."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Often asymptomatic, discovered incidentally. May present with abdominal/back pain or a pulsatile abdominal mass. Rupture is a catastrophic emergency (severe pain, hypotension, pulsatile mass)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Screening:"})," USPSTF recommends one-time screening with abdominal ultrasound for men aged 65-75 who have ever smoked."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Surveillance for small aneurysms; elective repair (open or endovascular [EVAR]) for larger (>5.5 cm), rapidly expanding, or symptomatic aneurysms."]})]})]}),(0,Es.jsxs)("div",{className:"bg-rose-50 p-4 rounded-lg border border-rose-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-rose-800",children:"Aortic Dissection"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Pathophysiology:"})," Tear in the aortic intima allows blood to enter the media, creating a false lumen. Life-threatening emergency."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Risk Factors:"})," Hypertension (most common), connective tissue disorders (Marfan, Ehlers-Danlos), bicuspid aortic valve, preexisting aneurysm, trauma, cocaine use."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Classification (Stanford):"}),(0,Es.jsxs)("ul",{className:"list-circle pl-5 mt-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Type A:"})," Involves ascending aorta (surgical emergency)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Type B:"})," Involves only descending aorta (often managed medically unless complications arise)."]})]})]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Presentation:"})," Sudden onset of severe, tearing/ripping chest or back pain (often interscapular). May have pulse deficits, neurological symptoms, signs of end-organ ischemia."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Diagnosis:"})," CT angiography (CTA) or Transesophageal Echocardiogram (TEE) are primary imaging modalities."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Management:"})," Urgent surgical repair for Type A. Medical management (BP and heart rate control) for uncomplicated Type B; endovascular or surgical intervention for complicated Type B."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"A patient presents with sudden, severe tearing chest pain radiating to the back. Blood pressure is significantly different between the right and left arms. What diagnosis should be suspected immediately?"}),(0,Es.jsx)("button",{onClick:()=>u("dissection-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["dissection-question"]?"Hide Answer":"Show Answer"}),n["dissection-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Aortic Dissection. The sudden onset of tearing chest/back pain and pulse/BP differentials are classic signs of aortic dissection, a vascular emergency."]})})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-rose-800 mb-4",children:"Self Quiz - PAD & Aortic Disease"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. What is the classic symptom of Peripheral Artery Disease (PAD), and how is it typically described?"}),(0,Es.jsx)("button",{onClick:()=>u("pad_quiz1"),className:"px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600 transition",children:n.pad_quiz1?"Hide Answer":"Show Answer"}),n.pad_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Intermittent Claudication: Cramping pain or aching in the calves, thighs, or buttocks brought on by exercise/walking and relieved by rest."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. What diagnostic test is considered key for PAD diagnosis and involves comparing blood pressures in the ankle and arm? What is a normal value?"}),(0,Es.jsx)("button",{onClick:()=>u("pad_quiz2"),className:"px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600 transition",children:n.pad_quiz2?"Hide Answer":"Show Answer"}),n.pad_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Ankle-Brachial Index (ABI). A normal ABI is typically 1.00 - 1.40."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. What are the primary screening recommendations for Abdominal Aortic Aneurysm (AAA)?"}),(0,Es.jsx)("button",{onClick:()=>u("pad_quiz3"),className:"px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600 transition",children:n.pad_quiz3?"Hide Answer":"Show Answer"}),n.pad_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"USPSTF recommends a one-time screening via abdominal ultrasound for men aged 65-75 who have ever smoked. Selective screening for men 65-75 who never smoked, and insufficient evidence for/against screening women."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. What is the major life-threatening complication of an Abdominal Aortic Aneurysm (AAA)?"}),(0,Es.jsx)("button",{onClick:()=>u("pad_quiz4"),className:"px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600 transition",children:n.pad_quiz4?"Hide Answer":"Show Answer"}),n.pad_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Rupture, which often leads to catastrophic internal hemorrhage and high mortality."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. A patient presents with sudden onset severe, tearing chest pain radiating to the back, and has different blood pressures in each arm. What condition should be strongly suspected?"}),(0,Es.jsx)("button",{onClick:()=>u("pad_quiz5"),className:"px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600 transition",children:n.pad_quiz5?"Hide Answer":"Show Answer"}),n.pad_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Aortic Dissection."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-rose-800 mb-4",children:"Study Guide PDF - Pages 71-80"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 71-80 from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_71-80.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_71-80.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})};Ss.workerSrc=`//unpkg.com/pdfjs-dist@${js}/build/pdf.worker.min.mjs`;const Ir=()=>{const[e,t]=(0,s.useState)("ie_basics"),[n,i]=(0,s.useState)({}),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(1),c=(0,s.useRef)(null),[d,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=c.current;if(e){const t=()=>{h(e.clientWidth)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[]);const u=e=>{i((t=>({...t,[e]:!t[e]})))};return(0,Es.jsxs)("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Es.jsxs)("div",{className:"w-full bg-cyan-600 p-6 text-white",children:[(0,Es.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Cardiovascular Disorders"}),(0,Es.jsx)("p",{className:"text-xl text-center mt-2",children:"Part One: Pages 81-End (Infective Endocarditis)"})]}),(0,Es.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200 w-full",children:[(0,Es.jsx)("button",{onClick:()=>t("ie_basics"),className:"px-4 py-2 font-medium "+("ie_basics"===e?"bg-cyan-100 border-b-2 border-cyan-600":""),children:"IE Basics"}),(0,Es.jsx)("button",{onClick:()=>t("diagnosis"),className:"px-4 py-2 font-medium "+("diagnosis"===e?"bg-cyan-100 border-b-2 border-cyan-600":""),children:"Diagnosis (Duke Criteria)"}),(0,Es.jsx)("button",{onClick:()=>t("management"),className:"px-4 py-2 font-medium "+("management"===e?"bg-cyan-100 border-b-2 border-cyan-600":""),children:"Management & Complications"}),(0,Es.jsx)("button",{onClick:()=>t("quiz"),className:"px-4 py-2 font-medium "+("quiz"===e?"bg-cyan-100 border-b-2 border-cyan-600":""),children:"Self Quiz"}),(0,Es.jsx)("button",{onClick:()=>t("pdf"),className:"px-4 py-2 font-medium text-sm "+("pdf"===e?"bg-cyan-100 border-b-2 border-cyan-600":"text-gray-600 hover:text-cyan-800"),children:"View PDF Pages (81-End)"})]}),(0,Es.jsxs)("div",{className:"p-6 w-full",children:["ie_basics"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"Infective Endocarditis (IE) Basics"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Definition & Pathophysiology"}),(0,Es.jsx)("p",{className:"mb-2",children:"Infection of the endocardial surface of the heart, most commonly involving the heart valves. Can also affect septal defects, chordae tendineae, or mural endocardium."}),(0,Es.jsx)("p",{children:"Typically requires endothelial damage, platelet-fibrin thrombus formation (nonbacterial thrombotic endocarditis - NBTE), and subsequent bacteremia allowing microbial adherence and vegetation formation."})]}),(0,Es.jsxs)("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-cyan-800",children:"Risk Factors"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsx)("li",{children:"Prosthetic heart valves"}),(0,Es.jsx)("li",{children:"Previous history of endocarditis"}),(0,Es.jsx)("li",{children:"Structural heart disease (valvular disease, congenital heart disease)"}),(0,Es.jsx)("li",{children:"Intravenous drug use (IVDU) - often associated with right-sided IE (tricuspid valve)"}),(0,Es.jsx)("li",{children:"Indwelling intravenous catheters"}),(0,Es.jsx)("li",{children:"Immunosuppression"}),(0,Es.jsx)("li",{children:"Poor dentition or recent dental procedures"})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Common Pathogens"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Native Valve IE:"})," ",(0,Es.jsx)("em",{children:"Staphylococcus aureus"})," (increasingly common, often acute/severe), Viridans group streptococci (often subacute, associated with dental procedures), Enterococci."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Prosthetic Valve IE:"})," Early (<1 year post-op): Coagulase-negative staphylococci (e.g., ",(0,Es.jsx)("em",{children:"S. epidermidis"}),"), ",(0,Es.jsx)("em",{children:"S. aureus"}),". Late (>1 year post-op): Similar to native valve pathogens."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"IVDU-associated IE:"})," ",(0,Es.jsx)("em",{children:"S. aureus"})," (most common, often affects tricuspid valve)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Culture-Negative IE:"})," May be due to prior antibiotic use or fastidious organisms (e.g., HACEK group, Coxiella burnetii, Bartonella)."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"Which organism is most commonly associated with infective endocarditis in intravenous drug users, and which valve is typically affected?"}),(0,Es.jsx)("button",{onClick:()=>u("ie-ivdu-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["ie-ivdu-question"]?"Hide Answer":"Show Answer"}),n["ie-ivdu-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," ",(0,Es.jsx)("em",{children:"Staphylococcus aureus"})," is the most common pathogen, and the Tricuspid valve is most frequently affected in IVDU-associated IE."]})})]})]}),"diagnosis"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"Diagnosis of IE (Modified Duke Criteria)"}),(0,Es.jsx)("p",{className:"mb-4",children:"Diagnosis requires meeting specific combinations of Major and Minor criteria."}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Major Criteria"}),(0,Es.jsxs)("ul",{className:"list-decimal pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Positive Blood Cultures for IE:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-8 mt-1",children:[(0,Es.jsx)("li",{children:"Typical microorganism consistent with IE from 2 separate blood cultures."}),(0,Es.jsx)("li",{children:"Microorganism consistent with IE from persistently positive blood cultures (e.g., \u22652 positive cultures drawn >12 hours apart, or 3/3, or majority of \u22654 cultures drawn \u22651 hour apart)."}),(0,Es.jsxs)("li",{children:["Single positive blood culture for ",(0,Es.jsx)("em",{children:"Coxiella burnetii"})," or anti-phase I IgG antibody titer >1:800."]})]})]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Evidence of Endocardial Involvement:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-8 mt-1",children:[(0,Es.jsx)("li",{children:"Echocardiogram positive for IE: vegetation, abscess, or new partial dehiscence of prosthetic valve."}),(0,Es.jsx)("li",{children:"New valvular regurgitation (worsening or change of preexisting murmur not sufficient)."})]})]})]})]}),(0,Es.jsxs)("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-cyan-800",children:"Minor Criteria"}),(0,Es.jsxs)("ul",{className:"list-decimal pl-5 space-y-2",children:[(0,Es.jsx)("li",{children:"Predisposing heart condition or IV drug use."}),(0,Es.jsx)("li",{children:"Fever (temperature >38.0\xb0C / 100.4\xb0F)."}),(0,Es.jsx)("li",{children:"Vascular phenomena: Major arterial emboli, septic pulmonary infarcts, mycotic aneurysm, intracranial hemorrhage, conjunctival hemorrhages, Janeway lesions (non-tender erythematous macules on palms/soles)."}),(0,Es.jsx)("li",{children:"Immunologic phenomena: Glomerulonephritis, Osler nodes (tender subcutaneous nodules on digits), Roth spots (retinal hemorrhages with pale centers), Rheumatoid factor."}),(0,Es.jsx)("li",{children:"Microbiological evidence: Positive blood culture not meeting major criteria or serological evidence of active infection with organism consistent with IE."})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Diagnostic Interpretation"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Definite IE:"})," 2 Major criteria, OR 1 Major + 3 Minor criteria, OR 5 Minor criteria."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Possible IE:"})," 1 Major + 1 Minor criterion, OR 3 Minor criteria."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Rejected IE:"})," Firm alternative diagnosis, OR resolution of symptoms with antibiotics \u22644 days, OR no pathologic evidence at surgery/autopsy with antibiotics \u22644 days."]})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"According to the Modified Duke Criteria, which of the following constitutes a Major criterion for diagnosing Infective Endocarditis?"}),(0,Es.jsx)("button",{onClick:()=>u("duke-major-question"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["duke-major-question"]?"Hide Answer":"Show Answer"}),n["duke-major-question"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Examples include: Persistently positive blood cultures with a typical organism OR echocardiographic evidence of vegetation/abscess/new dehiscence OR new valvular regurgitation."]})})]})]}),"management"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"Management & Complications of IE"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Antibiotic Therapy"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsx)("li",{children:"Prolonged course of high-dose intravenous antibiotics is required (typically 4-6 weeks)."}),(0,Es.jsx)("li",{children:"Choice of antibiotics depends on the causative organism, susceptibility testing, and whether the valve is native or prosthetic."}),(0,Es.jsx)("li",{children:"Empiric therapy is started after blood cultures are drawn, covering likely pathogens (e.g., Vancomycin + Ceftriaxone or Gentamicin)."}),(0,Es.jsx)("li",{children:"Therapy is tailored once pathogen and sensitivities are known."})]})]}),(0,Es.jsxs)("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-cyan-800",children:"Surgical Intervention"}),(0,Es.jsx)("p",{className:"mb-3",children:"Surgery (valve repair or replacement) is indicated in cases of:"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Es.jsx)("li",{children:"Heart failure refractory to medical therapy (most common indication)."}),(0,Es.jsx)("li",{children:"Fungal endocarditis or highly resistant organisms."}),(0,Es.jsx)("li",{children:"Persistent bacteremia despite appropriate antibiotics."}),(0,Es.jsx)("li",{children:"Perivalvular abscess, fistula, or prosthetic valve dehiscence."}),(0,Es.jsx)("li",{children:"Recurrent emboli despite antibiotics."}),(0,Es.jsx)("li",{children:"Large vegetations (>10 mm), especially on anterior mitral leaflet (higher embolic risk)."})]})]}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Complications"}),(0,Es.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Cardiac:"})," Heart failure (due to valve destruction), perivalvular abscess, conduction abnormalities."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Embolic:"})," Stroke, splenic/renal infarcts, limb ischemia, pulmonary emboli (especially from right-sided IE)."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Neurologic:"})," Stroke, mycotic aneurysm rupture, meningitis, abscess."]}),(0,Es.jsxs)("li",{children:[(0,Es.jsx)("strong",{children:"Renal:"})," Glomerulonephritis (immune complex deposition), renal infarcts."]}),(0,Es.jsx)("li",{children:"Metastatic infection (e.g., septic arthritis, vertebral osteomyelitis)."})]})]}),(0,Es.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3 text-yellow-800",children:"Practice Question"}),(0,Es.jsx)("p",{className:"mb-4",children:"What is the most common indication for surgical intervention in a patient with Infective Endocarditis?"}),(0,Es.jsx)("button",{onClick:()=>u("ie-surgery-indication"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:n["ie-surgery-indication"]?"Hide Answer":"Show Answer"}),n["ie-surgery-indication"]&&(0,Es.jsx)("div",{className:"mt-4 p-3 bg-white rounded",children:(0,Es.jsxs)("p",{children:[(0,Es.jsx)("strong",{children:"Answer:"})," Heart failure refractory to medical management, usually resulting from severe valvular regurgitation caused by valve destruction."]})})]})]}),"quiz"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"Self Quiz - Infective Endocarditis"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Es.jsx)("h3",{className:"text-xl font-bold mb-3",children:"Test Your Knowledge"}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"1. What structure is primarily infected in Infective Endocarditis (IE)?"}),(0,Es.jsx)("button",{onClick:()=>u("ie_quiz1"),className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition",children:n.ie_quiz1?"Hide Answer":"Show Answer"}),n.ie_quiz1&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"The endocardial surface of the heart, most commonly involving the heart valves. It can also affect septal defects, chordae tendineae, or mural endocardium."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"2. Name three major risk factors for developing Infective Endocarditis."}),(0,Es.jsx)("button",{onClick:()=>u("ie_quiz2"),className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition",children:n.ie_quiz2?"Hide Answer":"Show Answer"}),n.ie_quiz2&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Any three of: Prosthetic heart valves, Previous history of endocarditis, Structural heart disease (e.g., valvular disease, congenital heart disease), Intravenous drug use (IVDU), Indwelling intravenous catheters, Immunosuppression, Poor dentition or recent dental procedures."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"3. What diagnostic criteria are commonly used to aid in the diagnosis of Infective Endocarditis?"}),(0,Es.jsx)("button",{onClick:()=>u("ie_quiz3"),className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition",children:n.ie_quiz3?"Hide Answer":"Show Answer"}),n.ie_quiz3&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"The Modified Duke Criteria, which include Major Criteria (positive blood cultures for typical organisms, evidence of endocardial involvement on echocardiogram) and Minor Criteria (predisposing condition, fever, vascular phenomena, immunologic phenomena, microbiological evidence not meeting major criteria)."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"4. What is the cornerstone of treatment for Infective Endocarditis?"}),(0,Es.jsx)("button",{onClick:()=>u("ie_quiz4"),className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition",children:n.ie_quiz4?"Hide Answer":"Show Answer"}),n.ie_quiz4&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Prolonged administration of targeted antimicrobial therapy (antibiotics or antifungals), typically intravenously for several weeks."})})]}),(0,Es.jsxs)("div",{className:"mb-6",children:[(0,Es.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"5. Name two indications for surgical intervention in patients with Infective Endocarditis."}),(0,Es.jsx)("button",{onClick:()=>u("ie_quiz5"),className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition",children:n.ie_quiz5?"Hide Answer":"Show Answer"}),n.ie_quiz5&&(0,Es.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:(0,Es.jsx)("p",{children:"Any two of: Severe heart failure due to valve dysfunction, Failure of medical therapy (persistent infection/bacteremia), Fungal endocarditis, Evidence of perivalvular extension (e.g., abscess), Large vegetations associated with high embolic risk, Recurrent embolism despite appropriate antimicrobial therapy, Prosthetic valve dehiscence."})})]})]})]}),"pdf"===e&&(0,Es.jsxs)("div",{className:"space-y-6",children:[(0,Es.jsx)("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"Study Guide PDF - Pages 81-End"}),(0,Es.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 flex flex-col items-center",children:[(0,Es.jsx)("p",{className:"mb-4 text-center",children:"Displaying pages 81-End from the study guide PDF."}),(0,Es.jsx)("div",{ref:c,className:"pdf-container border border-gray-300 mb-4 w-full max-w-3xl",style:{height:"70vh",overflowY:"auto"},children:(0,Es.jsx)(lr,{file:"/Nurse-Practitioner-CV-Disorders/pdfs/680_CV_disorders_part_one_students_2023 (1)_81-End.pdf",onLoadSuccess:e=>{let{numPages:t}=e;return a(t)},onLoadError:e=>console.error("Error loading PDF:",e),loading:(0,Es.jsx)("p",{children:"Loading PDF..."}),error:(0,Es.jsx)("p",{children:"Error loading PDF. Make sure the file exists in `public/pdfs`."}),children:(0,Es.jsx)(Er,{pageNumber:o,renderTextLayer:!1,width:d||void 0})})}),r&&(0,Es.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,Es.jsx)("button",{onClick:()=>l((e=>Math.max(1,e-1))),disabled:o<=1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,Es.jsxs)("span",{children:["Page ",o," of ",r]}),(0,Es.jsx)("button",{onClick:()=>l((e=>Math.min(r,e+1))),disabled:o>=r,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]}),(0,Es.jsx)("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Ensure the PDF file `680_CV_disorders_part_one_students_2023 (1)_81-End.pdf` is placed in the `public/pdfs` directory."})]})]})]})]})},Fr=()=>{const[e,t]=(0,s.useState)("cvdisorders_part1");return(0,Es.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Es.jsx)("nav",{className:"bg-gray-800 text-white p-4 sticky top-0 z-10",children:(0,Es.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,Es.jsx)("div",{className:"text-xl font-bold flex-shrink-0 mr-4",children:"Med Guide"}),(0,Es.jsxs)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[(0,Es.jsx)("button",{onClick:()=>t("cvdisorders_part1"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders_part1"===e?"bg-lime-600":"hover:bg-gray-700"),children:"CV (1-10)"}),(0,Es.jsx)("button",{onClick:()=>t("hypertension"),className:"px-3 py-2 rounded flex-shrink-0 "+("hypertension"===e?"bg-blue-600":"hover:bg-gray-700"),children:"CV (11-20)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders1"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders1"===e?"bg-orange-600":"hover:bg-gray-700"),children:"CV (21-30)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders2"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders2"===e?"bg-purple-600":"hover:bg-gray-700"),children:"CV (31-40)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders3"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders3"===e?"bg-teal-600":"hover:bg-gray-700"),children:"CV (41-50)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders4"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders4"===e?"bg-indigo-600":"hover:bg-gray-700"),children:"CV (51-60)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders5"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders5"===e?"bg-rose-600":"hover:bg-gray-700"),children:"CV (71-80)"}),(0,Es.jsx)("button",{onClick:()=>t("cvdisorders6"),className:"px-3 py-2 rounded flex-shrink-0 "+("cvdisorders6"===e?"bg-cyan-600":"hover:bg-gray-700"),children:"CV (81-End)"})]})]})}),(0,Es.jsxs)("div",{className:"container mx-auto py-8",children:["cvdisorders_part1"===e&&(0,Es.jsx)(Tr,{}),"hypertension"===e&&(0,Es.jsx)(Nr,{}),"cvdisorders1"===e&&(0,Es.jsx)(Pr,{}),"cvdisorders2"===e&&(0,Es.jsx)(Mr,{}),"cvdisorders3"===e&&(0,Es.jsx)(Dr,{}),"cvdisorders4"===e&&(0,Es.jsx)(Rr,{}),"cvdisorders5"===e&&(0,Es.jsx)(Lr,{}),"cvdisorders6"===e&&(0,Es.jsx)(Ir,{})]})]})};r.createRoot(document.getElementById("root")).render((0,Es.jsx)(s.StrictMode,{children:(0,Es.jsx)(Fr,{})}))})();
//# sourceMappingURL=main.4aa9c38b.js.map